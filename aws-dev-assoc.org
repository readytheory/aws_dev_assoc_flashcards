-*- eval: (progn (set-register ?o  ":PROPERTIES:\n:DRILL_CARD_TYPE: hide1cloze\n:END:\n") (set-register ?i  "** Question  :drill:\n___?\n*** Answer:\nanswer here\n")) -*-
#+TAGS: drill(d) fix(x) inferred(I) memorize(m)  practice(p) youtube(y)

* Not covered
  - lightsail
  - gRPC
  - gateway load balancer
  - amplify

    
* AWS flashcards


** Lambda storage                                             :drill:
   :PROPERTIES:
   :ID:       72ec5661-da8f-4ab0-a61d-5a4ed5ef15cb
   :END:

For lambda  appending to existing files, [EFS] is a preferred option to using Amazon S3.

** Lambda storage                                             :drill:
   :PROPERTIES:
   :ID:       504b8ec4-6d41-4bbb-8b12-a3ccc5c0c0df
   :END:
Lambda, size of /tmp storage area
*** Answer:
512 Meg

** Question  :drill:
   :PROPERTIES:
   :ID:       bbe7e234-ac23-4237-9ebd-143fd2d4fe15
   :END:
Maximnum size s3 object
*** Answer:
5 TiB

** Limits - Dynamo                                                    :drill:
   :PROPERTIES:
   :ID:       d96f10fd-420d-4021-8bf7-158928869bf2
   :END:
Max local secondary indices/table
*** Answer:
5

** Question  :drill:
   :PROPERTIES:
   :ID:       1d982c65-7252-42a0-af86-1a53dd5fb1a9
   :END:
___?
*** Answer:
answer here

** Iam Versions                                               :drill:
   :PROPERTIES:
   :ID:       4b41ba26-b7a3-4ef1-991b-76e79030e94d
   :END:
How many versions of an IAM policy are kept
*** Answer:
5,
inline policies NOT versioned

In the policy, there is a Version: element, that is like 2013-09-11, different thing


** Cloudformation Snippets                                            :drill:
   :PROPERTIES:
   :ID:       8b014b83-06b2-45b3-adcc-77d6b9fbed07
   :END:
How do you include snippets stored in S3 with cloudformation?
*** Answer:
AWS::Include


** S3                                                         :drill:
   :PROPERTIES:
   :ID:       59de9b29-3389-4cf9-a181-312352a24679
   :END:
What uniquely identifies S3 Object?
*** Answer:
Bucket + Key + version

** Service: Shield                                            :drill:
   :PROPERTIES:
   :ID:       0d2e8a61-addf-4c6b-a65a-7f7f3a5a4a32
   :END:
What is AWS Shield
*** Answer:
DDoS mitigation operating at level 3 and 4


** Fanout                                                             :drill:
   :PROPERTIES:
   :ID:       3a8c19fd-2418-49cd-938f-1b4283e86271
   :END:
Describe Fanout
*** Answer:
SNS receives message and sends to multiple SQS based on content





  
  
** Transparent Data Encryption                                        :drill:
   :PROPERTIES:
   :ID:       34875bd0-6995-4a83-9bf3-b034542537b2
   :END:
What products have Transparent Data Encyption
*** Answer:
RDS Oracle
RDS SQl Server

** RDS Read replicas                                          :drill:
   SCHEDULED: <2022-01-10 Mon>
   :PROPERTIES:
   :ID:       ec66cced-9b56-4f35-aa75-53e7c53a5e07
   :DRILL_LAST_INTERVAL: 3.86
   :DRILL_REPEATS_SINCE_FAIL: 2
   :DRILL_TOTAL_REPEATS: 1
   :DRILL_FAILURE_COUNT: 0
   :DRILL_AVERAGE_QUALITY: 3.0
   :DRILL_EASE: 2.36
   :DRILL_LAST_QUALITY: 3
   :DRILL_LAST_REVIEWED: [2022-01-06 Thu 08:38]
   :END:
How many read replicas can you have?
*** Answer:
Up to 5 for M-M-O-P-SS
Up to 15 for Aurora

** Question  :drill:
   SCHEDULED: <2022-01-10 Mon>
   :PROPERTIES:
   :ID:       1cf23e79-07be-48f4-94c8-85466c60460d
   :DRILL_LAST_INTERVAL: 4.14
   :DRILL_REPEATS_SINCE_FAIL: 2
   :DRILL_TOTAL_REPEATS: 1
   :DRILL_FAILURE_COUNT: 0
   :DRILL_AVERAGE_QUALITY: 5.0
   :DRILL_EASE: 2.6
   :DRILL_LAST_QUALITY: 5
   :DRILL_LAST_REVIEWED: [2022-01-06 Thu 20:29]
   :END:
What does WAF block? / what "level"

*** answer
    it is HTTP/HTTPS

    AWS WAF gives you control over how traffic reaches your
    applications by enabling you to create security rules that control
    bot traffic and block common attack patterns, such as SQL
    injection or cross-site scripting. You can also customize rules
    that filter out specific traffic patterns.

** Lambda - searching xray                                        :drill:
   SCHEDULED: <2022-01-10 Mon>
   :PROPERTIES:
   :ID:       5065f71f-667f-4a29-ad20-71053f365045
   :DRILL_LAST_INTERVAL: 4.14
   :DRILL_REPEATS_SINCE_FAIL: 2
   :DRILL_TOTAL_REPEATS: 2
   :DRILL_FAILURE_COUNT: 1
   :DRILL_AVERAGE_QUALITY: 3.5
   :DRILL_EASE: 2.6
   :DRILL_LAST_QUALITY: 5
   :DRILL_LAST_REVIEWED: [2022-01-06 Thu 20:32]
   :END:
What is the lambda API method you call to get back segment data, with
a filter
*** Answer:
GetTraceSummaries


** Question  :drill:
   SCHEDULED: <2022-01-10 Mon>
   :PROPERTIES:
   :ID:       8468b455-4956-4662-adef-27c95f5378a5
   :DRILL_LAST_INTERVAL: 4.0
   :DRILL_REPEATS_SINCE_FAIL: 2
   :DRILL_TOTAL_REPEATS: 1
   :DRILL_FAILURE_COUNT: 0
   :DRILL_AVERAGE_QUALITY: 4.0
   :DRILL_EASE: 2.5
   :DRILL_LAST_QUALITY: 4
   :DRILL_LAST_REVIEWED: [2022-01-06 Thu 20:29]
   :END:
Elastic beanstalk -- rollback deploy -- what are the two easiest
*** Answer:
Immutable -- you just terminate new instance
Blue/Green -- you switch the traffic back to blue (swap the url)


** Global Secondary                                           :drill:
   SCHEDULED: <2022-01-10 Mon>
   :PROPERTIES:
   :ID:       50d05678-24c3-44e1-b09d-78b29774962d
   :DRILL_LAST_INTERVAL: 4.14
   :DRILL_REPEATS_SINCE_FAIL: 2
   :DRILL_TOTAL_REPEATS: 1
   :DRILL_FAILURE_COUNT: 0
   :DRILL_AVERAGE_QUALITY: 5.0
   :DRILL_EASE: 2.6
   :DRILL_LAST_QUALITY: 5
   :DRILL_LAST_REVIEWED: [2022-01-06 Thu 20:31]
   :END:
In DynamoDB, what feature is unavailable if you query a global secondary index?
*** Answer:
These queries can not have consistent read, they are always eventually consistent

** ECS placement                                              :drill:
   SCHEDULED: <2022-01-10 Mon>
   :PROPERTIES:
   :ID:       d898c6dc-0d03-4034-9df5-de6181ce3774
   :DRILL_LAST_INTERVAL: 4.0
   :DRILL_REPEATS_SINCE_FAIL: 2
   :DRILL_TOTAL_REPEATS: 1
   :DRILL_FAILURE_COUNT: 0
   :DRILL_AVERAGE_QUALITY: 4.0
   :DRILL_EASE: 2.5
   :DRILL_LAST_QUALITY: 4
   :DRILL_LAST_REVIEWED: [2022-01-06 Thu 20:30]
   :END:
Difference of task and service placement strategy in ECS (defaults)
*** Answer:

    When you run tasks with the RunTask API action, tasks are placed
    randomly in a cluster.

    When you launch and terminate tasks with the CreateService API
    action, the service scheduler spreads the tasks across the
    Availability Zones (and the instances within the zones) in a
    cluster.

** Question  :drill:
   SCHEDULED: <2022-01-10 Mon>
   :PROPERTIES:
   :ID:       93420833-84a0-47b7-b952-1add8333d8af
   :DRILL_LAST_INTERVAL: 4.14
   :DRILL_REPEATS_SINCE_FAIL: 2
   :DRILL_TOTAL_REPEATS: 1
   :DRILL_FAILURE_COUNT: 0
   :DRILL_AVERAGE_QUALITY: 5.0
   :DRILL_EASE: 2.6
   :DRILL_LAST_QUALITY: 5
   :DRILL_LAST_REVIEWED: [2022-01-06 Thu 20:29]
   :END:
What is the DSL for placing tasks in ECS?
*** Answer:
Cluster Query Language
    


** Question  :drill:
   SCHEDULED: <2022-01-10 Mon>
   :PROPERTIES:
   :ID:       a65c35ab-a7cf-4dad-9eec-045a01270299
   :DRILL_LAST_INTERVAL: 3.86
   :DRILL_REPEATS_SINCE_FAIL: 2
   :DRILL_TOTAL_REPEATS: 1
   :DRILL_FAILURE_COUNT: 0
   :DRILL_AVERAGE_QUALITY: 3.0
   :DRILL_EASE: 2.36
   :DRILL_LAST_QUALITY: 3
   :DRILL_LAST_REVIEWED: [2022-01-06 Thu 20:31]
   :END:
How to set up xray -- what are config names?
  1) Elastic bean stalk
  2) ECS instances
*** Answer:
1) xray-daemon.config
2) user data scripts

** API identify                                                       :drill:
   SCHEDULED: <2022-01-10 Mon>
   :PROPERTIES:
   :ID:       ffb19d92-3b4d-4971-8d19-812293ab630f
   :DRILL_LAST_INTERVAL: 4.14
   :DRILL_REPEATS_SINCE_FAIL: 2
   :DRILL_TOTAL_REPEATS: 1
   :DRILL_FAILURE_COUNT: 0
   :DRILL_AVERAGE_QUALITY: 5.0
   :DRILL_EASE: 2.6
   :DRILL_LAST_QUALITY: 5
   :DRILL_LAST_REVIEWED: [2022-01-06 Thu 20:30]
   :END:
GetTraceSummaries
*** What is it from
It is Lambda Xray and returns segments.  Supports a filter


{
   "EndTime": number,
   "FilterExpression": "string",
   "NextToken": "string",
   "Sampling": boolean,
   "SamplingStrategy": { 
      "Name": "string",
      "Value": number
   },
   "StartTime": number,
   "TimeRangeType": "string"
}


** Bots                                                               :drill:
   SCHEDULED: <2022-01-10 Mon>
   :PROPERTIES:
   :ID:       733e605a-d93b-431f-90b0-c9d1d8067802
   :DRILL_LAST_INTERVAL: 4.14
   :DRILL_REPEATS_SINCE_FAIL: 2
   :DRILL_TOTAL_REPEATS: 1
   :DRILL_FAILURE_COUNT: 0
   :DRILL_AVERAGE_QUALITY: 5.0
   :DRILL_EASE: 2.6
   :DRILL_LAST_QUALITY: 5
   :DRILL_LAST_REVIEWED: [2022-01-06 Thu 20:30]
   :END:
what service is associated with monitoring bot traffice
*** answer
    WAF
    Also injection attacks, other recognized traffic patterns --
    you can ibnstall various rules packages
** Cloudwatch monitoring                                      :drill:
   SCHEDULED: <2022-01-10 Mon>
   :PROPERTIES:
   :ID:       e435617b-d730-4059-93ce-4eaebe8654d6
   :DRILL_LAST_INTERVAL: 3.86
   :DRILL_REPEATS_SINCE_FAIL: 2
   :DRILL_TOTAL_REPEATS: 1
   :DRILL_FAILURE_COUNT: 0
   :DRILL_AVERAGE_QUALITY: 3.0
   :DRILL_EASE: 2.36
   :DRILL_LAST_QUALITY: 3
   :DRILL_LAST_REVIEWED: [2022-01-06 Thu 20:30]
   :END:

   What is the default and detailed monitoring collection times for
   cloudwatch metrics?
*** Answer:
Default is 5 minutes and detailed is one minute


** RDS Replication                                            :drill:
   SCHEDULED: <2022-01-10 Mon>
:PROPERTIES:
:DRILL_CARD_TYPE: hide1cloze
:ID:       00b0e451-accc-44e8-95c7-40f97ca673c9
:DRILL_LAST_INTERVAL: 4.0
:DRILL_REPEATS_SINCE_FAIL: 2
:DRILL_TOTAL_REPEATS: 1
:DRILL_FAILURE_COUNT: 0
:DRILL_AVERAGE_QUALITY: 4.0
:DRILL_EASE: 2.5
:DRILL_LAST_QUALITY: 4
:DRILL_LAST_REVIEWED: [2022-01-06 Thu 08:40]
:END:
For RDS Replicas, there are two types.  A [standby] replica must be deployed in
same region, while a [read] replica can be stored in a difference than the
primary db reference.

** HA OLTP RDS                                                :drill:
   SCHEDULED: <2022-01-10 Mon>
:PROPERTIES:
:DRILL_CARD_TYPE: hide1cloze
:ID:       c8aa9bbd-2278-4ae9-9eed-a2497beb8194
:DRILL_LAST_INTERVAL: 3.86
:DRILL_REPEATS_SINCE_FAIL: 2
:DRILL_TOTAL_REPEATS: 1
:DRILL_FAILURE_COUNT: 0
:DRILL_AVERAGE_QUALITY: 3.0
:DRILL_EASE: 2.36
:DRILL_LAST_QUALITY: 3
:DRILL_LAST_REVIEWED: [2022-01-06 Thu 08:39]
:END:

RDS:
For production OLTP use cases, we recommend that you use [Multi-AZ deployments]
for enhanced fault tolerance with [Provisioned IOPS] storage for fast and
predictable performance.





  
** Dynamo Locking                                             :drill:
   SCHEDULED: <2022-01-09 Sun>
   :PROPERTIES:
   :ID:       5ef49ac6-e29b-4980-8bb8-81216033cbe5
   :DRILL_LAST_INTERVAL: 3.86
   :DRILL_REPEATS_SINCE_FAIL: 2
   :DRILL_TOTAL_REPEATS: 1
   :DRILL_FAILURE_COUNT: 0
   :DRILL_AVERAGE_QUALITY: 3.0
   :DRILL_EASE: 2.36
   :DRILL_LAST_QUALITY: 3
   :DRILL_LAST_REVIEWED: [2022-01-05 Wed 21:39]
   :END:
What locking strategy involves checking to see if a record has been
updated before updating/deleting?
*** Answer:
Optimistic locking

Java has @DynamoDbVersionAttribute to support
It is cooperative, all code has to use it

With global tables it will not work, they always use last-writer-wins
 - Global tables can't have optimistic or pessimistic
 And the java trasactional annotation doesn't coexist with it
https://docs.aws.amazon.com/amazondynamodb/latest/developerguide/DynamoDBMapper.OptimisticLocking.html 

** Presigned                                                  :drill:
   SCHEDULED: <2022-01-09 Sun>
   :PROPERTIES:
   :ID:       d0c888af-8e14-4fc1-8e01-02ed342b9f51
   :DRILL_LAST_INTERVAL: 3.86
   :DRILL_REPEATS_SINCE_FAIL: 2
   :DRILL_TOTAL_REPEATS: 1
   :DRILL_FAILURE_COUNT: 0
   :DRILL_AVERAGE_QUALITY: 3.0
   :DRILL_EASE: 2.36
   :DRILL_LAST_QUALITY: 3
   :DRILL_LAST_REVIEWED: [2022-01-05 Wed 21:37]
   :END:
How long are presigned urls good
*** Answer:
Depends credentials, max:
 - IAM user 7 days,
 - sts 36 hours
 - profile 6 hours


** CORS                                                       :drill:
   SCHEDULED: <2022-01-09 Sun>
   :PROPERTIES:
   :ID:       638cb926-e66e-4e9b-90f7-e2a1152feb7b
   :DRILL_LAST_INTERVAL: 4.14
   :DRILL_REPEATS_SINCE_FAIL: 2
   :DRILL_TOTAL_REPEATS: 1
   :DRILL_FAILURE_COUNT: 0
   :DRILL_AVERAGE_QUALITY: 5.0
   :DRILL_EASE: 2.6
   :DRILL_LAST_QUALITY: 5
   :DRILL_LAST_REVIEWED: [2022-01-05 Wed 21:39]
   :END:
What do you configure with CORS?
*** Answer:
S3 Buckets -- specifically, the target being downloded from up uploaded to

Suppose that you want to host a web font from your S3 bucket. Again,
browsers require a CORS check (also called a preflight check) for
loading web fonts. You would configure the bucket that is hosting the
web font to allow any origin to make these requests.


** CORS rules                                                         :drill:
   SCHEDULED: <2022-01-09 Sun>
   :PROPERTIES:
   :ID:       dc492b06-0674-4ada-a7b8-de6ce59dc346
   :DRILL_LAST_INTERVAL: 3.86
   :DRILL_REPEATS_SINCE_FAIL: 2
   :DRILL_TOTAL_REPEATS: 1
   :DRILL_FAILURE_COUNT: 0
   :DRILL_AVERAGE_QUALITY: 3.0
   :DRILL_EASE: 2.36
   :DRILL_LAST_QUALITY: 3
   :DRILL_LAST_REVIEWED: [2022-01-05 Wed 21:37]
   :END:
What does s3 check for a CORS three

In the bucket's CORS configuration, it checks 3 thing

*** 3 things

- The request's Origin header must match an AllowedOrigin element.

- The request method (for example, GET or PUT) or the
Access-Control-Request-Method header in case of a preflight OPTIONS
request must be one of the AllowedMethod elements.

- Every header listed in the request's Access-Control-Request-Headers
header on the preflight request must match an AllowedHeader element


** S3 items                                                   :drill:
   SCHEDULED: <2022-01-09 Sun>
:PROPERTIES:
:DRILL_CARD_TYPE: hide1cloze
:ID:       54b46583-15d5-4965-8887-c21dd6493d33
:DRILL_LAST_INTERVAL: 4.0
:DRILL_REPEATS_SINCE_FAIL: 2
:DRILL_TOTAL_REPEATS: 1
:DRILL_FAILURE_COUNT: 0
:DRILL_AVERAGE_QUALITY: 4.0
:DRILL_EASE: 2.5
:DRILL_LAST_QUALITY: 4
:DRILL_LAST_REVIEWED: [2022-01-05 Wed 21:39]
:END:

The [ACLs and policies] continue to apply when you enable [CORS] on the bucket.



** S3 access analyzer                                                 :drill:
   SCHEDULED: <2022-01-09 Sun>
   :PROPERTIES:
   :ID:       25822b35-c483-4abe-b68c-774bebcccd9f
   :DRILL_LAST_INTERVAL: 7.979
   :DRILL_REPEATS_SINCE_FAIL: 3
   :DRILL_TOTAL_REPEATS: 4
   :DRILL_FAILURE_COUNT: 1
   :DRILL_AVERAGE_QUALITY: 2.5
   :DRILL_EASE: 2.08
   :DRILL_LAST_QUALITY: 3
   :DRILL_LAST_REVIEWED: [2022-01-01 Sat 18:28]
   :END:
When you enable Access Analyzer, an IAM construct called  [service-linked role] is created in the current account.
It grants permission to Access Analyzer to interact with AWS resources on your behalf.
*** bonus
Access Analyzer uses a service-linked role named
AWSServiceRoleForAccessAnalyzer to grant the service read-only access
to analyze AWS resources with resource-based policies on your behalf.
** CF params                                                  :drill:
   SCHEDULED: <2022-01-17 Mon>
   :PROPERTIES:
   :ID:       5b849e2e-8859-408b-bcba-2f12cbb30aed
   :DRILL_LAST_INTERVAL: 10.7143
   :DRILL_REPEATS_SINCE_FAIL: 3
   :DRILL_TOTAL_REPEATS: 2
   :DRILL_FAILURE_COUNT: 0
   :DRILL_AVERAGE_QUALITY: 4.5
   :DRILL_EASE: 2.6
   :DRILL_LAST_QUALITY: 4
   :DRILL_LAST_REVIEWED: [2022-01-06 Thu 08:30]
   :END:
What are 5 datatypes of CloudFormation params
*** Answer:
    String
    Number
    List<Number>
    CommaDelimitedLIst
    AWS-specific paramter types E.g. AWS::EC2::Image::Id

** CloudFormation -parm validation                                    :drill:
   SCHEDULED: <2022-01-11 Tue>
   :PROPERTIES:
   :ID:       9e7df430-2775-4e0e-a108-46727da9c047
   :DRILL_LAST_INTERVAL: 3.86
   :DRILL_REPEATS_SINCE_FAIL: 2
   :DRILL_TOTAL_REPEATS: 4
   :DRILL_FAILURE_COUNT: 2
   :DRILL_AVERAGE_QUALITY: 2.25
   :DRILL_EASE: 2.36
   :DRILL_LAST_QUALITY: 4
   :DRILL_LAST_REVIEWED: [2022-01-07 Fri 08:25]
   :END:
What is the name of the property that takes a validation regexp
*** Answer:
1) AllowedPattern
2) Allowed Values
   - with
   - a list like
   = this
3) MaxLength / MinLength
4) MaxValue / MinValue for #s


** Question  :drill:
   SCHEDULED: <2022-01-15 Sat>
:PROPERTIES:
:DRILL_CARD_TYPE: hide1cloze
:ID:       96c529fc-8aa7-4bf0-adb4-17a458b6c8ee
:DRILL_LAST_INTERVAL: 10.0
:DRILL_REPEATS_SINCE_FAIL: 3
:DRILL_TOTAL_REPEATS: 2
:DRILL_FAILURE_COUNT: 0
:DRILL_AVERAGE_QUALITY: 4.0
:DRILL_EASE: 2.5
:DRILL_LAST_QUALITY: 4
:DRILL_LAST_REVIEWED: [2022-01-05 Wed 21:28]
:END:

For Provisioned IOPS ssd:

The maximum ratio of [provisioned IOPS to requested volume size (in GiB)] is [50:1].

*** What is the maximum IOPS?
 So, for a 200 GiB volume size, max IOPS possible is 200*50 = 10000 IO
 64,000 for 1.28 TB


** SSD v HDD                                                  :drill:
   SCHEDULED: <2022-01-16 Sun>
   :PROPERTIES:
   :ID:       aec6dfaa-7a42-434c-adee-7a559d7ccd50
   :DRILL_LAST_INTERVAL: 10.352
   :DRILL_REPEATS_SINCE_FAIL: 3
   :DRILL_TOTAL_REPEATS: 2
   :DRILL_FAILURE_COUNT: 0
   :DRILL_AVERAGE_QUALITY: 4.5
   :DRILL_EASE: 2.6
   :DRILL_LAST_QUALITY: 5
   :DRILL_LAST_REVIEWED: [2022-01-06 Thu 08:33]
   :END:

Distinguish SSD and HDD performance characterisics

*** Answer:
Solid state drives (SSD) — Optimized for transactional workloads
involving frequent read/write operations with small I/O size, where
the dominant performance attribute is IOPS.

Hard disk drives (HDD) — Optimized for large streaming workloads where
the dominant performance attribute is throughput.


** Codebuild metric                                                   :drill:
   SCHEDULED: <2022-01-16 Sun>
   :PROPERTIES:
   :ID:       16cfd65e-53fb-4f5b-8705-63bc970b759a
   :DRILL_LAST_INTERVAL: 8.9861
   :DRILL_REPEATS_SINCE_FAIL: 3
   :DRILL_TOTAL_REPEATS: 2
   :DRILL_FAILURE_COUNT: 0
   :DRILL_AVERAGE_QUALITY: 3.0
   :DRILL_EASE: 2.22
   :DRILL_LAST_QUALITY: 3
   :DRILL_LAST_REVIEWED: [2022-01-07 Fri 08:15]
   :END:

AWS CodeBuild monitors functions on your behalf and reports metrics through [Amazon CloudWatch].



** Question  :drill:
   SCHEDULED: <2022-01-16 Sun>
   :PROPERTIES:
   :ID:       36466db6-2971-4144-9a23-942ed87a2213
   :DRILL_LAST_INTERVAL: 9.3103
   :DRILL_REPEATS_SINCE_FAIL: 3
   :DRILL_TOTAL_REPEATS: 3
   :DRILL_FAILURE_COUNT: 1
   :DRILL_AVERAGE_QUALITY: 3.0
   :DRILL_EASE: 2.36
   :DRILL_LAST_QUALITY: 4
   :DRILL_LAST_REVIEWED: [2022-01-07 Fri 08:02]
   :END:
How do you access Codebuild metrics?
*** Answer:
Either thru cloudwatch console or the Codewbuild console
Codebuild console does not let you customize the display but Cloudwatch does






** CF template limits                                                 :drill:
   SCHEDULED: <2022-01-17 Mon>
   :PROPERTIES:
   :ID:       83f6b7a9-dc6b-418f-b4f5-013267e4f01c
   :DRILL_LAST_INTERVAL: 10.3376
   :DRILL_REPEATS_SINCE_FAIL: 3
   :DRILL_TOTAL_REPEATS: 2
   :DRILL_FAILURE_COUNT: 0
   :DRILL_AVERAGE_QUALITY: 4.0
   :DRILL_EASE: 2.46
   :DRILL_LAST_QUALITY: 3
   :DRILL_LAST_REVIEWED: [2022-01-07 Fri 08:20]
   :END:
Max number of outputs in cloudfront templage
*** Answer:
60 - same as parameters

** CF template limits                                                 :drill:
   SCHEDULED: <2022-01-16 Sun>
   :PROPERTIES:
   :ID:       15cd1d55-c4ac-492f-bc04-b767a887c01d
   :DRILL_LAST_INTERVAL: 11.0911
   :DRILL_REPEATS_SINCE_FAIL: 3
   :DRILL_TOTAL_REPEATS: 3
   :DRILL_FAILURE_COUNT: 1
   :DRILL_AVERAGE_QUALITY: 3.667
   :DRILL_EASE: 2.7
   :DRILL_LAST_QUALITY: 5
   :DRILL_LAST_REVIEWED: [2022-01-05 Wed 21:26]
   :END:
Max number of paramters in cloudfront templage
*** Answer:
answer here

60
** RDS performance                                                    :drill:
   SCHEDULED: <2022-02-01 Tue>
   :PROPERTIES:
   :ID:       9e9cd280-75be-490a-a46d-63591294d384
   :DRILL_LAST_INTERVAL: 28.6705
   :DRILL_REPEATS_SINCE_FAIL: 4
   :DRILL_TOTAL_REPEATS: 3
   :DRILL_FAILURE_COUNT: 0
   :DRILL_AVERAGE_QUALITY: 4.333
   :DRILL_EASE: 2.56
   :DRILL_LAST_QUALITY: 3
   :DRILL_LAST_REVIEWED: [2022-01-03 Mon 21:23]
   :END:
   RDS feature that identifies long running query 
*** Answer:
slow query log

** CodeDeploy hooks                                                   :drill:
   SCHEDULED: <2022-01-17 Mon>
   :PROPERTIES:
   :ID:       6e392561-1699-45f8-a2e6-80d9ab049589
   :DRILL_LAST_INTERVAL: 9.648
   :DRILL_REPEATS_SINCE_FAIL: 3
   :DRILL_TOTAL_REPEATS: 3
   :DRILL_FAILURE_COUNT: 1
   :DRILL_AVERAGE_QUALITY: 2.333
   :DRILL_EASE: 2.36
   :DRILL_LAST_QUALITY: 3
   :DRILL_LAST_REVIEWED: [2022-01-07 Fri 08:18]
   :END:
   What are the components of a hook in CodeDeploy?

*** they are
    location:  script-location
    timeout:  how long
    runas:  username

** Code Deploy Hooks                                                  :drill:
   SCHEDULED: <2022-01-09 Sun>
   :PROPERTIES:
   :ID:       27b9a140-ad3c-40cb-922f-613458eb4501
   :DRILL_LAST_INTERVAL: 3.725
   :DRILL_REPEATS_SINCE_FAIL: 2
   :DRILL_TOTAL_REPEATS: 4
   :DRILL_FAILURE_COUNT: 2
   :DRILL_AVERAGE_QUALITY: 2.5
   :DRILL_EASE: 2.22
   :DRILL_LAST_QUALITY: 3
   :DRILL_LAST_REVIEWED: [2022-01-05 Wed 07:29]
   :END:
   What are the hooks in code deploy?

*** List them

  - BeforeInstall: "LambdaFunctionToValidateBeforeInstall"
  - AfterInstall: "LambdaFunctionToValidateAfterInstall"
  - AfterAllowTestTraffic: "LambdaFunctionToValidateAfterTestTrafficStarts"
  - BeforeAllowTraffic: "LambdaFunctionToValidateBeforeAllowingProductionTraffic"
  - AfterAllowTraffic: "LambdaFunctionToValidateAfterAllowingProductionTraffic"

    Blue Green
    Blue
    Application Stop
    BeforeInstall
    AfterInstall
    ApplicationStart
    ValidateService
    BeforeAllowTraffic
    AfterAllowTraffice
    Green
    BeforeBlockTraffic
    AfterBlockTraffic

** Subscription                                               :drill:
   SCHEDULED: <2022-01-07 Fri>
   :PROPERTIES:
   :ID:       eb0e2475-edeb-43a2-9bf6-75b35e976a71
   :DRILL_LAST_INTERVAL: 4.14
   :DRILL_REPEATS_SINCE_FAIL: 2
   :DRILL_TOTAL_REPEATS: 1
   :DRILL_FAILURE_COUNT: 0
   :DRILL_AVERAGE_QUALITY: 5.0
   :DRILL_EASE: 2.6
   :DRILL_LAST_QUALITY: 5
   :DRILL_LAST_REVIEWED: [2022-01-03 Mon 13:40]
   :END:
 "The AWS Access Key ID needs a subscription for the service."  What?
*** Answer:

When you sign up for a new AWS service, it can take up to 24 hours in
some cases to complete activation, during which time you cannot sign
up for the service again. If you've been waiting longer than 24 hours
without receiving an email confirming activation, this could indicate
a problem with your account or the authorization of your payment
details.answer here


** ASG counts                                                         :drill:
   SCHEDULED: <2022-01-15 Sat>
   :PROPERTIES:
   :ID:       19f2030a-06aa-4902-8211-5602662c1a11
   :DRILL_LAST_INTERVAL: 10.352
   :DRILL_REPEATS_SINCE_FAIL: 3
   :DRILL_TOTAL_REPEATS: 2
   :DRILL_FAILURE_COUNT: 0
   :DRILL_AVERAGE_QUALITY: 4.5
   :DRILL_EASE: 2.6
   :DRILL_LAST_QUALITY: 5
   :DRILL_LAST_REVIEWED: [2022-01-05 Wed 07:20]
   :END:
Usually Autoscaling won't create more instances than desired capacity
*** The exception is when

    .... you use instance weighting. In this case, Amazon EC2 Auto
    Scaling can scale out above the maximum size limit, but only by up
    to your maximum instance weight. Its intention is to get as close
    to the new desired capacity as possible but still adhere to the
    allocation strategies that are specified for the group.


** Throttling                                                 :drill:
   SCHEDULED: <2022-01-16 Sun>
   :PROPERTIES:
   :ID:       32a7885e-8b67-4ec7-b6fc-0efcd002669b
   :DRILL_LAST_INTERVAL: 11.0911
   :DRILL_REPEATS_SINCE_FAIL: 3
   :DRILL_TOTAL_REPEATS: 2
   :DRILL_FAILURE_COUNT: 0
   :DRILL_AVERAGE_QUALITY: 5.0
   :DRILL_EASE: 2.7
   :DRILL_LAST_QUALITY: 5
   :DRILL_LAST_REVIEWED: [2022-01-05 Wed 21:29]
   :END:
With SES, if you get occasional throttling, what to do?  What if it
is consistently throttling?
*** Answer:
Exponential backoff.  If throttling is consistent, then raise request
with AWS to increase limit

** SES errors                                                 :drill:
   SCHEDULED: <2022-01-15 Sat>
   :PROPERTIES:
   :ID:       3a9c0c19-2ddf-4d9b-a918-aadaebfdfd12
   :DRILL_LAST_INTERVAL: 10.352
   :DRILL_REPEATS_SINCE_FAIL: 3
   :DRILL_TOTAL_REPEATS: 2
   :DRILL_FAILURE_COUNT: 0
   :DRILL_AVERAGE_QUALITY: 4.5
   :DRILL_EASE: 2.6
   :DRILL_LAST_QUALITY: 5
   :DRILL_LAST_REVIEWED: [2022-01-05 Wed 07:10]
   :END:
When do you get 4xx errors?
*** Answer:
Client error -- not a volume issue

** DynamoDB Backups                                           :drill:
   SCHEDULED: <2022-01-16 Sun>
   :PROPERTIES:
   :ID:       d651ef0f-9464-4a32-8923-f2cf6f77d436
   :DRILL_LAST_INTERVAL: 11.0911
   :DRILL_REPEATS_SINCE_FAIL: 3
   :DRILL_TOTAL_REPEATS: 2
   :DRILL_FAILURE_COUNT: 0
   :DRILL_AVERAGE_QUALITY: 5.0
   :DRILL_EASE: 2.7
   :DRILL_LAST_QUALITY: 5
   :DRILL_LAST_REVIEWED: [2022-01-05 Wed 21:35]
   :END:
Can you access, and use offline, the backups that are made by DynamoDB?
*** Answer:
No.
There are a bunch of options.
You can save to Hive
Sending to DataPipeline 


** IAM databae authentication                                         :drill:
   SCHEDULED: <2022-01-16 Sun>
   :PROPERTIES:
   :ID:       55ea5881-73f2-4da2-8e49-d4adc4884221
   :DRILL_LAST_INTERVAL: 11.0911
   :DRILL_REPEATS_SINCE_FAIL: 3
   :DRILL_TOTAL_REPEATS: 2
   :DRILL_FAILURE_COUNT: 0
   :DRILL_AVERAGE_QUALITY: 5.0
   :DRILL_EASE: 2.7
   :DRILL_LAST_QUALITY: 5
   :DRILL_LAST_REVIEWED: [2022-01-05 Wed 21:25]
   :END:
Which RDS products allow IAM authenticaion?
*** Answer:
PostGreSQL & MySQL

** IAM database authentication reqs                           :drill:
   SCHEDULED: <2022-01-14 Fri>
   :PROPERTIES:
   :ID:       a24289e9-64d1-413a-985f-cc2612d2f1c7
   :DRILL_LAST_INTERVAL: 9.3103
   :DRILL_REPEATS_SINCE_FAIL: 3
   :DRILL_TOTAL_REPEATS: 5
   :DRILL_FAILURE_COUNT: 3
   :DRILL_AVERAGE_QUALITY: 2.2
   :DRILL_EASE: 2.36
   :DRILL_LAST_QUALITY: 4
   :DRILL_LAST_REVIEWED: [2022-01-05 Wed 07:19]
   :END:
For MySQL there are three recommendatiosn for IAM authentication
*** Name them
Note these do NOT applyto PostGreSQL, the only other RDS product with
IAM authentication

Use IAM database authentication as a mechanism for temporary, personal
access to databases.

Use IAM database authentication only for workloads that can be easily
retried.

Use IAM database authentication when your application requires fewer
than 200 new IAM database authentication connections per second.


** Data Pipleline failue                                              :drill:
   SCHEDULED: <2022-01-10 Mon>
   :PROPERTIES:
   :ID:       bb61e8b9-0dc1-471b-9cf4-5f094c5c8cb4
   :DRILL_LAST_INTERVAL: 3.86
   :DRILL_REPEATS_SINCE_FAIL: 2
   :DRILL_TOTAL_REPEATS: 4
   :DRILL_FAILURE_COUNT: 2
   :DRILL_AVERAGE_QUALITY: 2.75
   :DRILL_EASE: 2.36
   :DRILL_LAST_QUALITY: 3
   :DRILL_LAST_REVIEWED: [2022-01-06 Thu 08:41]
   :END:
Q: What happens if a Data Pipeline activity fails?

*** Answer:
An activity fails if all of its activity attempts return with a failed
state. By default, an activity retries three times before entering a
hard failure state.



    
** MySQL logs                                                 :drill:
   SCHEDULED: <2022-01-15 Sat>
   :PROPERTIES:
   :ID:       4fc34154-238c-40bb-bffa-c47422acfff8
   :DRILL_LAST_INTERVAL: 9.3103
   :DRILL_REPEATS_SINCE_FAIL: 3
   :DRILL_TOTAL_REPEATS: 5
   :DRILL_FAILURE_COUNT: 1
   :DRILL_AVERAGE_QUALITY: 3.4
   :DRILL_EASE: 2.36
   :DRILL_LAST_QUALITY: 4
   :DRILL_LAST_REVIEWED: [2022-01-06 Thu 08:33]
   :END:
Alternatives to console for monitoring mysql logs
*** Answer:
    download binary log with mybinlo
    direct logs to a mysql table
*** bonus
    the various logs:
    error (default)
    general
    slow query
    audit
    The console is  for logs going to cloudwatch

** Push to mobile apps                                                :drill:
   SCHEDULED: <2022-01-21 Fri>
   :PROPERTIES:
   :ID:       649a8311-763d-4b9d-a2a4-ec2b405a7bc3
   :DRILL_LAST_INTERVAL: 11.9834
   :DRILL_REPEATS_SINCE_FAIL: 3
   :DRILL_TOTAL_REPEATS: 5
   :DRILL_FAILURE_COUNT: 1
   :DRILL_AVERAGE_QUALITY: 4.0
   :DRILL_EASE: 2.66
   :DRILL_LAST_QUALITY: 3
   :DRILL_LAST_REVIEWED: [2022-01-09 Sun 11:59]
   :END:
What is feature that allows push to mobile apps?
*** Answer:
SNS - push notifications

** Three services CodeDeploy can target                               :drill:
   SCHEDULED: <2022-01-07 Fri>
   :PROPERTIES:
   :ID:       1c451dc7-78fc-4f99-bfc9-23cb0081ed9d
   :DRILL_LAST_INTERVAL: 11.0911
   :DRILL_REPEATS_SINCE_FAIL: 3
   :DRILL_TOTAL_REPEATS: 4
   :DRILL_FAILURE_COUNT: 1
   :DRILL_AVERAGE_QUALITY: 4.0
   :DRILL_EASE: 2.7
   :DRILL_LAST_QUALITY: 5
   :DRILL_LAST_REVIEWED: [2021-12-27 Mon 06:53]
   :END:
What are they?
*** Answer:
Lambda, Ec2 and On Premises servers

    


** Question  :drill:
   SCHEDULED: <2022-02-05 Sat>
   :PROPERTIES:
   :ID:       e3ade395-7fa6-4a0e-95cf-9684466a6e6b
   :DRILL_LAST_INTERVAL: 30.7556
   :DRILL_REPEATS_SINCE_FAIL: 4
   :DRILL_TOTAL_REPEATS: 3
   :DRILL_FAILURE_COUNT: 0
   :DRILL_AVERAGE_QUALITY: 5.0
   :DRILL_EASE: 2.8
   :DRILL_LAST_QUALITY: 5
   :DRILL_LAST_REVIEWED: [2022-01-05 Wed 21:40]
   :END:
     fargage vs ecs: which has more powerful machines
*** Answer:
      ec2 by a ways - max mem fargate 30g, vcu 4, ec2 can have much more

** Question  :drill:
   SCHEDULED: <2022-01-30 Sun>
   :PROPERTIES:
   :ID:       a27bd5e9-ac52-48ee-ba81-e75cef979faa
   :DRILL_LAST_INTERVAL: 26.791
   :DRILL_REPEATS_SINCE_FAIL: 4
   :DRILL_TOTAL_REPEATS: 3
   :DRILL_FAILURE_COUNT: 0
   :DRILL_AVERAGE_QUALITY: 4.333
   :DRILL_EASE: 2.6
   :DRILL_LAST_QUALITY: 4
   :DRILL_LAST_REVIEWED: [2022-01-03 Mon 13:36]
   :END:
Does fargate offer CPU bursting
*** Answer:
      
      no


  

** xray

*** what os takes xray                                                :drill:
    SCHEDULED: <2022-01-31 Mon>
    :PROPERTIES:
    :ID:       8c13a60f-1ba0-493a-9eeb-6dfcc78bb69f
    :DRILL_LAST_INTERVAL: 27.5936
    :DRILL_REPEATS_SINCE_FAIL: 4
    :DRILL_TOTAL_REPEATS: 6
    :DRILL_FAILURE_COUNT: 1
    :DRILL_AVERAGE_QUALITY: 4.0
    :DRILL_EASE: 2.66
    :DRILL_LAST_QUALITY: 5
    :DRILL_LAST_REVIEWED: [2022-01-03 Mon 13:39]
    :END:
.

**** A    
    Amazon Linux
    Ubuntu
    Windows Server (2012 R2 and newer)
*** how to launch xray on an ec2 instance                             :drill:
    SCHEDULED: <2022-01-16 Sun>
    :PROPERTIES:
    :ID:       e9fc70c3-6356-4d7e-b0d2-ac50f767dad3
    :DRILL_LAST_INTERVAL: 22.7451
    :DRILL_REPEATS_SINCE_FAIL: 4
    :DRILL_TOTAL_REPEATS: 5
    :DRILL_FAILURE_COUNT: 1
    :DRILL_AVERAGE_QUALITY: 3.4
    :DRILL_EASE: 2.46
    :DRILL_LAST_QUALITY: 5
    :DRILL_LAST_REVIEWED: [2021-12-24 Fri 10:47]
    :END:
    ______________________________________
**** A
     With a user data script
*** Xray on ec2                                                       :drill:
    SCHEDULED: <2022-01-25 Tue>
    :PROPERTIES:
    :ID:       6182556d-e4be-4678-a877-a08cee149fa6
    :DRILL_LAST_INTERVAL: 23.1879
    :DRILL_REPEATS_SINCE_FAIL: 4
    :DRILL_TOTAL_REPEATS: 13
    :DRILL_FAILURE_COUNT: 7
    :DRILL_AVERAGE_QUALITY: 2.538
    :DRILL_EASE: 2.18
    :DRILL_LAST_QUALITY: 3
    :DRILL_LAST_REVIEWED: [2022-01-02 Sun 16:09]
    :END:
    You install a [user data script] and assign [an instance profile] to get xray trace from ec2
**** bonus
     a User Data Script looks like this
#!/bin/bash
curl https://s3.us-east-2.amazonaws.com/aws-xray-assets.us-east-2/xray-daemon/aws-xray-daemon-3.x.rpm -o /home/ec2-user/xray.rpm
yum install -y /home/ec2-user/xray.rpm

    

** Lambda

*** updating traffic

**** one                                                              :drill:
     SCHEDULED: <2022-01-12 Wed>
     :PROPERTIES:
     :ID:       55060a6f-5e75-4764-80f5-df5aba2fc46c
     :DRILL_LAST_INTERVAL: 16.4926
     :DRILL_REPEATS_SINCE_FAIL: 4
     :DRILL_TOTAL_REPEATS: 8
     :DRILL_FAILURE_COUNT: 3
     :DRILL_AVERAGE_QUALITY: 2.375
     :DRILL_EASE: 1.94
     :DRILL_LAST_QUALITY: 3
     :DRILL_LAST_REVIEWED: [2021-12-27 Mon 06:52]
     :END:
     what setting in lambda lets you split traffic to two versions?
     what is the behavior this accomplishes sometimes called?

***** answer
      routing-config
      traffic splitting

      The following command (AWS CLI) updates an Alias to route 95% of
      traffic to the current version, and 5% of the traffic to version
      2:

      aws lambda update-alias --name hello-alias --function-name hello-world-function \
          --routing-config AdditionalVersionWeights={"2"=0.05}



**** two                                                              :drill:
     SCHEDULED: <2022-01-13 Thu>
     :PROPERTIES:
     :ID:       f68d0cd4-d2dd-4759-a52c-fb9cfdb04af0
     :DRILL_LAST_INTERVAL: 17.091
     :DRILL_REPEATS_SINCE_FAIL: 4
     :DRILL_TOTAL_REPEATS: 13
     :DRILL_FAILURE_COUNT: 8
     :DRILL_AVERAGE_QUALITY: 2.155
     :DRILL_EASE: 2.08
     :DRILL_LAST_QUALITY: 4
     :DRILL_LAST_REVIEWED: [2021-12-27 Mon 20:31]
     :END:
     necessary criteria to relate two lambda version with routing-config
     
***** answer
      - same IAM execution role
      - Same Lambda Dead Letter
      - Alias cannot point to $LATEST
      

   
**** three                                                            :drill:
     SCHEDULED: <2022-02-25 Fri>
     :PROPERTIES:
     :ID:       ee91a1ad-0e9a-42f0-8c18-67b8c4732cc6
     :DRILL_LAST_INTERVAL: 57.909
     :DRILL_CARD_TYPE: hide1cloze
     :DRILL_REPEATS_SINCE_FAIL: 5
     :DRILL_TOTAL_REPEATS: 5
     :DRILL_FAILURE_COUNT: 1
     :DRILL_AVERAGE_QUALITY: 3.6
     :DRILL_EASE: 2.56
     :DRILL_LAST_QUALITY: 5
     :DRILL_LAST_REVIEWED: [2021-12-29 Wed 06:59]
     :END:
     
[traffic shifting for lambda] is a lambda feature to split traffic to two versions, configured with [routing-config]

** VPC

*** route tables

**** gateway in private/public
     what is typical diff in route table in a private/public gateway

***** answer
      0.0.0.0/ig->gateway vs 0.0.0.0/0 -> nat-gateway
     


      
*** Requirement for server in Private Subnet to get internet          :drill:
    SCHEDULED: <2022-01-15 Sat>
:PROPERTIES:
:DRILL_CARD_TYPE: hide1cloze
:ID:       857dd87b-31b8-4188-bf00-575402379b26
:DRILL_LAST_INTERVAL: 24.0576
:DRILL_REPEATS_SINCE_FAIL: 4
:DRILL_TOTAL_REPEATS: 3
:DRILL_FAILURE_COUNT: 0
:DRILL_AVERAGE_QUALITY: 4.0
:DRILL_EASE: 2.46
:DRILL_LAST_QUALITY: 4
:DRILL_LAST_REVIEWED: [2021-12-22 Wed 07:28]
:END:

   The [NAT gateway] must be in a public subnet with a route table that routes [internet traffic] to an internet gateway. 

*** Where do you allow port 1024-65535?                           :drill:fix:
    SCHEDULED: <2022-01-26 Wed>
    :PROPERTIES:
    :ID:       4c9f28e6-78d8-4c1c-a9ca-a6d03108d4b2
    :DRILL_LAST_INTERVAL: 26.7536
    :DRILL_REPEATS_SINCE_FAIL: 4
    :DRILL_TOTAL_REPEATS: 7
    :DRILL_FAILURE_COUNT: 3
    :DRILL_AVERAGE_QUALITY: 2.857
    :DRILL_EASE: 2.46
    :DRILL_LAST_QUALITY: 3
    :DRILL_LAST_REVIEWED: [2021-12-30 Thu 07:04]
    :END:
    Fix this = https://docs.aws.amazon.com/vpc/latest/userguide/vpc-network-acls.html#nacl-ephemeral-ports.

**** A
     Those ephemeral ports
     are okay for INBOUND rules for a NAT Gateway

*** NAT Instance                                                      :drill:
    SCHEDULED: <2022-01-26 Wed>
    :PROPERTIES:
    :ID:       a2e79b5a-30ce-4854-beaf-85fd9ae154eb
    :DRILL_LAST_INTERVAL: 30.7556
    :DRILL_REPEATS_SINCE_FAIL: 4
    :DRILL_TOTAL_REPEATS: 3
    :DRILL_FAILURE_COUNT: 0
    :DRILL_AVERAGE_QUALITY: 5.0
    :DRILL_EASE: 2.8
    :DRILL_LAST_QUALITY: 5
    :DRILL_LAST_REVIEWED: [2021-12-26 Sun 18:06]
    :END:
    What capability is offered by NAT Instance and not NAT Gateway

**** A
     You can use it as a bastion host
** Route 53

***  DNSSEC



**** Guarantee
     what does DNSSEC guarantee?

***** Answer
      data origin authentication ; authenticated denial of existinence; data integrity
    
**** price                                         :drill:fix:inferred:price:
     SCHEDULED: <2022-01-12 Wed>
     :PROPERTIES:
     :ID:       38d27ccf-c405-40dc-970e-d67836f88a92
     :DRILL_LAST_INTERVAL: 23.5373
     :DRILL_REPEATS_SINCE_FAIL: 4
     :DRILL_TOTAL_REPEATS: 4
     :DRILL_FAILURE_COUNT: 1
     :DRILL_AVERAGE_QUALITY: 3.0
     :DRILL_EASE: 2.46
     :DRILL_LAST_QUALITY: 4
     :DRILL_LAST_REVIEWED: [2021-12-19 Sun 10:01]
     :END:
     price for DNSSEC

**** keys
     who holds the public key for your domain

***** Answer
      The TLD registrar (Route 53 Domains)

***** Notes
      WHen resolving, get signature from TLD registrar and compare it to DNS provider
      - the TLD registrar sends "Delegation Signer" record which is reconcied with
	Dns provider signature

*** weighted

**** how to split traffic for one name to separate IPs with route53   :drill:
     SCHEDULED: <2022-01-15 Sat>
     :PROPERTIES:
     :ID:       2b6254b2-689d-47eb-9115-a7e26f014f82
     :DRILL_LAST_INTERVAL: 24.0576
     :DRILL_REPEATS_SINCE_FAIL: 4
     :DRILL_TOTAL_REPEATS: 3
     :DRILL_FAILURE_COUNT: 0
     :DRILL_AVERAGE_QUALITY: 4.0
     :DRILL_EASE: 2.46
     :DRILL_LAST_QUALITY: 4
     :DRILL_LAST_REVIEWED: [2021-12-22 Wed 07:28]
     :END:
     how?

***** answer
      weighted routing
** S3
** UBS



** Flow logs
*** define flow logs                                         :drill:practice:
    SCHEDULED: <2022-01-27 Thu>
    :PROPERTIES:
    :ID:       0dd064b6-d647-43ce-bce7-4c1f01929c99
    :DRILL_LAST_INTERVAL: 30.7536
    :DRILL_REPEATS_SINCE_FAIL: 4
    :DRILL_TOTAL_REPEATS: 7
    :DRILL_FAILURE_COUNT: 3
    :DRILL_AVERAGE_QUALITY: 3.143
    :DRILL_EASE: 2.7
    :DRILL_LAST_QUALITY: 4
    :DRILL_LAST_REVIEWED: [2021-12-27 Mon 20:47]
    :END:
.
**** definition
     capture IP traffic between Network interfaces Of VPC
*** Are flow logs free?                                               :drill:
    SCHEDULED: <2022-01-19 Wed>
    :PROPERTIES:
    :ID:       98d12379-77c6-4005-8e52-3f5a1977f244
    :DRILL_LAST_INTERVAL: 22.1527
    :DRILL_REPEATS_SINCE_FAIL: 4
    :DRILL_TOTAL_REPEATS: 7
    :DRILL_FAILURE_COUNT: 2
    :DRILL_AVERAGE_QUALITY: 2.857
    :DRILL_EASE: 2.32
    :DRILL_LAST_QUALITY: 4
    :DRILL_LAST_REVIEWED: [2021-12-28 Tue 22:44]
    :END:
.
**** answer
     no, cloudwatch charges apply
*** What charges apply to flow logs                                   :drill:
    SCHEDULED: <2022-01-13 Thu>
    :PROPERTIES:
    :ID:       1a7e763f-9ece-45ae-a730-fb5ea363ad88
    :DRILL_LAST_INTERVAL: 3.86
    :DRILL_REPEATS_SINCE_FAIL: 2
    :DRILL_TOTAL_REPEATS: 10
    :DRILL_FAILURE_COUNT: 4
    :DRILL_AVERAGE_QUALITY: 2.9
    :DRILL_EASE: 2.36
    :DRILL_LAST_QUALITY: 4
    :DRILL_LAST_REVIEWED: [2022-01-09 Sun 11:54]
    :END:
.
**** answer
     cloudwatch chages, even if you send to s3
*** what services can you send flow logs to?                          :drill:
    SCHEDULED: <2022-01-13 Thu>
    :PROPERTIES:
    :ID:       f24f7115-82a6-4d70-b201-8b89bce6106f
    :DRILL_LAST_INTERVAL: 19.9491
    :DRILL_REPEATS_SINCE_FAIL: 4
    :DRILL_TOTAL_REPEATS: 5
    :DRILL_FAILURE_COUNT: 1
    :DRILL_AVERAGE_QUALITY: 2.8
    :DRILL_EASE: 2.22
    :DRILL_LAST_QUALITY: 4
    :DRILL_LAST_REVIEWED: [2021-12-24 Fri 10:42]
    :END:
.
**** answer
     S3 or CLoudwatch Logs


** EFS
*** Sharing                                                           :drill:
    SCHEDULED: <2022-01-14 Fri>
    :PROPERTIES:
    :ID:       da009d7b-4c68-4ab5-b6db-c0267f16e67c
    :DRILL_LAST_INTERVAL: 25.88
    :DRILL_REPEATS_SINCE_FAIL: 4
    :DRILL_TOTAL_REPEATS: 3
    :DRILL_FAILURE_COUNT: 0
    :DRILL_AVERAGE_QUALITY: 4.333
    :DRILL_EASE: 2.6
    :DRILL_LAST_QUALITY: 5
    :DRILL_LAST_REVIEWED: [2021-12-19 Sun 10:00]
    :END:
    elastic file system lets you share bewteen [ec2] and [fargate] servers
** RDS
** Athena

** Auto scaling

*** term policies

**** default                                                          :drill:
     SCHEDULED: <2022-01-23 Sun>
     :PROPERTIES:
     :ID:       aa3096a5-b114-460b-8954-67b338f7def4
     :DRILL_LAST_INTERVAL: 26.791
     :DRILL_REPEATS_SINCE_FAIL: 4
     :DRILL_TOTAL_REPEATS: 5
     :DRILL_FAILURE_COUNT: 1
     :DRILL_AVERAGE_QUALITY: 3.6
     :DRILL_EASE: 2.6
     :DRILL_LAST_QUALITY: 4
     :DRILL_LAST_REVIEWED: [2021-12-27 Mon 20:43]
     :END:
     what is default autoscaling term (scale-in) strategy?

***** answer
      preserve balance across A/Zs 

***** bonus
      because: HA

*** health checks

**** types                                                            :drill:
     SCHEDULED: <2022-01-08 Sat>
     :PROPERTIES:
     :ID:       b8b32a13-3c91-438f-bef7-25edfb0bc38c
     :DRILL_LAST_INTERVAL: 18.3583
     :DRILL_REPEATS_SINCE_FAIL: 4
     :DRILL_TOTAL_REPEATS: 5
     :DRILL_FAILURE_COUNT: 1
     :DRILL_AVERAGE_QUALITY: 3.0
     :DRILL_EASE: 2.22
     :DRILL_LAST_QUALITY: 4
     :DRILL_LAST_REVIEWED: [2021-12-21 Tue 06:35]
     :END:
     what are types of ASG health checks

***** answer
      EC2 status checks are default
      Optionally can add *ELB* health checks (additional)
     
**** distinction                                                      :drill:
     SCHEDULED: <2022-02-05 Sat>
     :PROPERTIES:
     :ID:       6339287b-5977-41d7-a997-5a56a43ffab8
     :DRILL_LAST_INTERVAL: 30.7536
     :DRILL_REPEATS_SINCE_FAIL: 4
     :DRILL_TOTAL_REPEATS: 6
     :DRILL_FAILURE_COUNT: 1
     :DRILL_AVERAGE_QUALITY: 4.0
     :DRILL_EASE: 2.7
     :DRILL_LAST_QUALITY: 4
     :DRILL_LAST_REVIEWED: [2022-01-05 Wed 21:39]
     :END:
     diff between default ECS and ELB health finding unhealthy?

***** answer
      In ElasticBeanstalk there are two kinds of health checks: ELB and Ec2
      ELB schedules for replacement
      Default terminates it

*** draining                                                          :drill:
    SCHEDULED: <2022-01-11 Tue>
    :PROPERTIES:
    :DRILL_CARD_TYPE: hide1cloze
    :ID:       12037cb1-8c60-4c2b-ac84-3802ec6d8d64
    :DRILL_LAST_INTERVAL: 21.9685
    :DRILL_REPEATS_SINCE_FAIL: 4
    :DRILL_TOTAL_REPEATS: 3
    :DRILL_FAILURE_COUNT: 0
    :DRILL_AVERAGE_QUALITY: 3.333
    :DRILL_EASE: 2.22
    :DRILL_LAST_QUALITY: 3
    :DRILL_LAST_REVIEWED: [2021-12-20 Mon 21:10]
    :END:
    [Autocaling] will wait for connections to [terminate or complete] if connection draining enabled

*** monitoring                                                        :drill:
    SCHEDULED: <2022-01-30 Sun>
    :PROPERTIES:
    :ID:       611ed978-0f9f-4425-9b4b-c1a5582f70bf
    :DRILL_LAST_INTERVAL: 26.627
    :DRILL_REPEATS_SINCE_FAIL: 4
    :DRILL_TOTAL_REPEATS: 6
    :DRILL_FAILURE_COUNT: 1
    :DRILL_AVERAGE_QUALITY: 3.5
    :DRILL_EASE: 2.42
    :DRILL_LAST_QUALITY: 3
    :DRILL_LAST_REVIEWED: [2022-01-03 Mon 21:21]
    :END:
    Cloudwatch gets instance info [every 5 minutes] by default or every one minute with [Detailed monitoring]




      

*** types                                                :practice:drill:memorize:
    SCHEDULED: <2022-01-19 Wed>
    :PROPERTIES:
    :ID:       35db9392-7d71-49c5-bcd0-a0887d267163
    :DRILL_LAST_INTERVAL: 22.3854
    :DRILL_REPEATS_SINCE_FAIL: 4
    :DRILL_TOTAL_REPEATS: 9
    :DRILL_FAILURE_COUNT: 4
    :DRILL_AVERAGE_QUALITY: 2.556
    :DRILL_EASE: 2.18
    :DRILL_LAST_QUALITY: 3
    :DRILL_LAST_REVIEWED: [2021-12-28 Tue 22:41]
    :END:
    Name three autoscaling strategies

**** they are
     - Target tracking - responds to alarm
     - Simple - usually not recommended , reevaluates after cooldown
     - Step scaling - varies adjustments 



   
*** scope                                                             :drill:
    SCHEDULED: <2022-01-12 Wed>
    :PROPERTIES:
    :ID:       51e1d707-29d6-4447-98c8-c7037ee26721
    :DRILL_LAST_INTERVAL: 23.5701
    :DRILL_REPEATS_SINCE_FAIL: 4
    :DRILL_TOTAL_REPEATS: 3
    :DRILL_FAILURE_COUNT: 0
    :DRILL_AVERAGE_QUALITY: 4.0
    :DRILL_EASE: 2.46
    :DRILL_LAST_QUALITY: 5
    :DRILL_LAST_REVIEWED: [2021-12-19 Sun 10:22]
    :END:
    with regard to subnets/regions, where does autoscaling operate
**** answer
     it is region specific
*** price                                                             :drill:
    SCHEDULED: <2022-01-16 Sun>
    :PROPERTIES:
    :ID:       856bf55c-dde9-4286-bd30-e34d7ab51bf9
    :DRILL_LAST_INTERVAL: 10.4328
    :DRILL_REPEATS_SINCE_FAIL: 3
    :DRILL_TOTAL_REPEATS: 8
    :DRILL_FAILURE_COUNT: 2
    :DRILL_AVERAGE_QUALITY: 3.625
    :DRILL_EASE: 2.52
    :DRILL_LAST_QUALITY: 4
    :DRILL_LAST_REVIEWED: [2022-01-06 Thu 08:37]
    :END:
    factors in charges for autoscaling
**** answer
     it is free (
     


** Dynamo DB
*** Read/Write capacity
**** What is one dynamodb unit of read capacity?                      :drill:
     SCHEDULED: <2021-12-08 Wed>
     :PROPERTIES:
     :ID:       ce15261e-dc9a-443f-84a7-2278c2cb4c8d
     :DRILL_LAST_INTERVAL: 3.86
     :DRILL_REPEATS_SINCE_FAIL: 2
     :DRILL_TOTAL_REPEATS: 1
     :DRILL_FAILURE_COUNT: 0
     :DRILL_AVERAGE_QUALITY: 3.0
     :DRILL_EASE: 2.36
     :DRILL_LAST_QUALITY: 3
     :DRILL_LAST_REVIEWED: [2021-12-04 Sat 23:54]
     :END:
***** Well, what is it?
One read capacity unit represents one strongly consistent read per second, or two eventually consistent reads per second, for an item up to 4 KB in size     
**** Dynamodb capacity calc :drill:
     SCHEDULED: <2022-01-15 Sat>
     :PROPERTIES:
     :ID:       d1e8913f-1dac-4ce0-b5b7-0b74c1554ac2
     :DRILL_LAST_INTERVAL: 23.2194
     :DRILL_REPEATS_SINCE_FAIL: 4
     :DRILL_TOTAL_REPEATS: 7
     :DRILL_FAILURE_COUNT: 3
     :DRILL_AVERAGE_QUALITY: 2.571
     :DRILL_EASE: 2.32
     :DRILL_LAST_QUALITY: 3
     :DRILL_LAST_REVIEWED: [2021-12-23 Thu 20:42]
     :END:
     One [read] capacity unit represents one [strongly consistent read] per second, or [two eventually consistent reads] per second, for an item up to 4 KB in size 
**** Dynamodb capacity calc :drill:
     SCHEDULED: <2022-01-14 Fri>
     :PROPERTIES:
     :ID:       71a997a3-37d9-4fa7-a942-23e8b14848ec
     :DRILL_LAST_INTERVAL: 25.813
     :DRILL_REPEATS_SINCE_FAIL: 4
     :DRILL_TOTAL_REPEATS: 6
     :DRILL_FAILURE_COUNT: 2
     :DRILL_AVERAGE_QUALITY: 3.333
     :DRILL_EASE: 2.46
     :DRILL_LAST_QUALITY: 4
     :DRILL_LAST_REVIEWED: [2021-12-19 Sun 10:26]
     :END:
If your item size is 2 KB, you require [2] write capacity units to
sustain one write request per second or [4] write capacity units for a
transactional write request.
*** Dynamo limits
**** What is the item size limit for DynamoDb                         :drill:
     SCHEDULED: <2022-01-24 Mon>
     :PROPERTIES:
     :ID:       4b532143-f584-4243-b45f-01fde0a5ea58
     :DRILL_LAST_INTERVAL: 25.88
     :DRILL_REPEATS_SINCE_FAIL: 4
     :DRILL_TOTAL_REPEATS: 6
     :DRILL_FAILURE_COUNT: 1
     :DRILL_AVERAGE_QUALITY: 3.5
     :DRILL_EASE: 2.6
     :DRILL_LAST_QUALITY: 5
     :DRILL_LAST_REVIEWED: [2021-12-29 Wed 06:49]
     :END:
     What is the item size limit for DynamoDb 
     :PROPERTIES:
     :ID:       a57fc6a4-ec5f-4e6e-9ba3-eb9a39e6dc52
     :END:
***** well?
      400KB -- it includes the attribute name
**** Binary objects -- how much size to they take in Dynamodb         :drill:
     SCHEDULED: <2022-01-14 Fri>
     :PROPERTIES:
     :ID:       87e1b757-31b1-4f68-b581-0efa794f12aa
     :DRILL_LAST_INTERVAL: 26.791
     :DRILL_REPEATS_SINCE_FAIL: 4
     :DRILL_TOTAL_REPEATS: 3
     :DRILL_FAILURE_COUNT: 0
     :DRILL_AVERAGE_QUALITY: 4.333
     :DRILL_EASE: 2.6
     :DRILL_LAST_QUALITY: 4
     :DRILL_LAST_REVIEWED: [2021-12-18 Sat 03:54]
     :END:
     How much do they take?
***** how much
      the attribute name(!) + the raw bytes
***** notes
      they are actually stored as base64
**** Dynamo DB Pagination                                         :drill:
     SCHEDULED: <2022-01-13 Thu>
     :PROPERTIES:
     :ID:       221a2051-ea9b-46ea-9844-ef8d9bb1a600
     :DRILL_LAST_INTERVAL: 26.1438
     :DRILL_REPEATS_SINCE_FAIL: 4
     :DRILL_TOTAL_REPEATS: 3
     :DRILL_FAILURE_COUNT: 0
     :DRILL_AVERAGE_QUALITY: 4.333
     :DRILL_EASE: 2.56
     :DRILL_LAST_QUALITY: 5
     :DRILL_LAST_REVIEWED: [2021-12-18 Sat 03:53]
     :END:
     When you get more than 1 meg data, how does app know there is more?
***** How?
      LastEvaluatedKey
**** Dynamo Query return limits                                       :drill:
     SCHEDULED: <2022-01-18 Tue>
     :PROPERTIES:
     :ID:       87a1efa0-fefb-4cdc-93c5-5325310e327b
     :DRILL_LAST_INTERVAL: 30.9885
     :DRILL_REPEATS_SINCE_FAIL: 4
     :DRILL_TOTAL_REPEATS: 3
     :DRILL_FAILURE_COUNT: 0
     :DRILL_AVERAGE_QUALITY: 5.0
     :DRILL_EASE: 2.8
     :DRILL_LAST_QUALITY: 5
     :DRILL_LAST_REVIEWED: [2021-12-18 Sat 03:55]
     :END:
     A  dynamo query can return [1 mb] of data
***** Notes
      It applies to query and scan same way
**** Name of indicator there are more results in dynamo               :drill:
     SCHEDULED: <2022-01-22 Sat>
     :PROPERTIES:
     :ID:       dafa1a24-7d88-4bb2-8069-6e9a60361266
     :DRILL_LAST_INTERVAL: 22.4564
     :DRILL_REPEATS_SINCE_FAIL: 4
     :DRILL_TOTAL_REPEATS: 7
     :DRILL_FAILURE_COUNT: 2
     :DRILL_AVERAGE_QUALITY: 3.143
     :DRILL_EASE: 2.36
     :DRILL_LAST_QUALITY: 4
     :DRILL_LAST_REVIEWED: [2021-12-31 Fri 16:06]
     :END:
     What's the indictor there are more records and when do you get it
***** answer
      LastEvaluatedKey - after 1 meg data
**** Per partition limits on writing in dynamo
     How much can you write per partition
***** answer
      1000 WCU/second
****** Note
that is up to 1 MB per second per partition
** Cloudwatch
***  in cloudwatch:      :drill:
    SCHEDULED: <2022-01-24 Mon>
    :PROPERTIES:
    :ID:       fe912613-50a9-44a9-bd5f-9eaf0ad88c1c
    :DRILL_LAST_INTERVAL: 27.7286
    :DRILL_REPEATS_SINCE_FAIL: 4
    :DRILL_TOTAL_REPEATS: 4
    :DRILL_FAILURE_COUNT: 1
    :DRILL_AVERAGE_QUALITY: 3.75
    :DRILL_EASE: 2.6
    :DRILL_LAST_QUALITY: 4
    :DRILL_LAST_REVIEWED: [2021-12-27 Mon 20:43]
    :END:
    For configuring CW alarms - 
****  period vs evaluation period.
- Period - Frequency of measure, in seconds.   One data point per period

 - Evaluation Period  - how many periods
*** Cloudwatch alarms                                                 :drill:
    SCHEDULED: <2022-01-26 Wed>
    :PROPERTIES:
    :ID:       664eafa6-2460-4e0b-8353-f80fe112e676
    :DRILL_LAST_INTERVAL: 29.7131
    :DRILL_REPEATS_SINCE_FAIL: 4
    :DRILL_TOTAL_REPEATS: 3
    :DRILL_FAILURE_COUNT: 0
    :DRILL_AVERAGE_QUALITY: 4.667
    :DRILL_EASE: 2.7
    :DRILL_LAST_QUALITY: 4
    :DRILL_LAST_REVIEWED: [2021-12-27 Mon 20:45]
    :END:
    Do breaches have to be consecutive to raise cloudwatch alarm?
**** A
     No there have to be X breaches in the evaluation period
*** Alarm criter cloudwatch                                           :drill:
    SCHEDULED: <2022-01-21 Fri>
:PROPERTIES:
:DRILL_CARD_TYPE: hide1cloze
:ID:       8282f4c2-44d4-441e-9cb9-3fa7f2b174ef
:DRILL_LAST_INTERVAL: 27.733
:DRILL_REPEATS_SINCE_FAIL: 4
:DRILL_TOTAL_REPEATS: 4
:DRILL_FAILURE_COUNT: 1
:DRILL_AVERAGE_QUALITY: 4.0
:DRILL_EASE: 2.7
:DRILL_LAST_QUALITY: 5
:DRILL_LAST_REVIEWED: [2021-12-24 Fri 11:11]
:END:
        To trigger a [cloudwatch alarm] there must be X breaches in an [evaluation period]
**** bonus
     X is datapoints to alarm
*** Triggering - counter name                                         :drill:
    SCHEDULED: <2022-01-23 Sun>
    :PROPERTIES:
    :ID:       c7475b4b-c692-4827-a99e-1b3708f5f983
    :DRILL_LAST_INTERVAL: 25.7358
    :DRILL_REPEATS_SINCE_FAIL: 4
    :DRILL_TOTAL_REPEATS: 8
    :DRILL_FAILURE_COUNT: 4
    :DRILL_AVERAGE_QUALITY: 2.626
    :DRILL_EASE: 2.42
    :DRILL_LAST_QUALITY: 3
    :DRILL_LAST_REVIEWED: [2021-12-28 Tue 22:45]
    :END:
    the count of breaches that will trigger cloudwatch alarm is called [datapoints to alarm]
*** Define cloudwatch  "metric math"                              :drill:fix:
    SCHEDULED: <2022-01-20 Thu>
    :PROPERTIES:
    :ID:       34a8116c-3fe1-428c-be09-5114ef0db32c
    :DRILL_LAST_INTERVAL: 26.7536
    :DRILL_REPEATS_SINCE_FAIL: 4
    :DRILL_TOTAL_REPEATS: 3
    :DRILL_FAILURE_COUNT: 0
    :DRILL_AVERAGE_QUALITY: 4.0
    :DRILL_EASE: 2.46
    :DRILL_LAST_QUALITY: 3
    :DRILL_LAST_REVIEWED: [2021-12-24 Fri 11:18]
    :END:
**** answer
     it is used for visualization -- lets you use calculations in graphs

     Metric math enables you to query multiple CloudWatch metrics and
     use math expressions to create new time series based on these
     metrics.

*** Cloudwatch take                                                   :drill:
    SCHEDULED: <2022-01-22 Sat>
    :PROPERTIES:
    :ID:       05837a88-f21e-4c2c-84f6-415e7d7ab143
    :DRILL_LAST_INTERVAL: 27.733
    :DRILL_REPEATS_SINCE_FAIL: 4
    :DRILL_TOTAL_REPEATS: 4
    :DRILL_FAILURE_COUNT: 1
    :DRILL_AVERAGE_QUALITY: 3.75
    :DRILL_EASE: 2.7
    :DRILL_LAST_QUALITY: 5
    :DRILL_LAST_REVIEWED: [2021-12-25 Sat 08:46]
    :END:
    Cloudwatch is basically a [metrics repository]
*** Does Cloudwatch give totals for all regions?                      :drill:
    SCHEDULED: <2022-01-25 Tue>
    :PROPERTIES:
    :ID:       a056b84b-443f-44ea-adf5-e0e301398045
    :DRILL_LAST_INTERVAL: 30.7556
    :DRILL_REPEATS_SINCE_FAIL: 4
    :DRILL_TOTAL_REPEATS: 3
    :DRILL_FAILURE_COUNT: 0
    :DRILL_AVERAGE_QUALITY: 5.0
    :DRILL_EASE: 2.8
    :DRILL_LAST_QUALITY: 5
    :DRILL_LAST_REVIEWED: [2021-12-25 Sat 08:46]
    :END:
    _____________________________________
**** A.
     No - cloudwatch is region-by-region 
*** Can you add custom metrics to Cloudwatch                          :drill:
    SCHEDULED: <2022-01-25 Tue>
    :PROPERTIES:
    :ID:       4fb189ae-8f1d-4ee7-a094-8559f3ed2d7d
    :DRILL_LAST_INTERVAL: 30.7556
    :DRILL_REPEATS_SINCE_FAIL: 4
    :DRILL_TOTAL_REPEATS: 3
    :DRILL_FAILURE_COUNT: 0
    :DRILL_AVERAGE_QUALITY: 5.0
    :DRILL_EASE: 2.8
    :DRILL_LAST_QUALITY: 5
    :DRILL_LAST_REVIEWED: [2021-12-25 Sat 08:46]
    :END:
    can you?
**** A
     Yes
*** How does cloudwatch organize metrics?                             :drill:
    SCHEDULED: <2022-01-13 Thu>
    :PROPERTIES:
    :ID:       00f45ef8-f46f-4044-ae1a-a1061515b992
    :DRILL_LAST_INTERVAL: 21.9723
    :DRILL_REPEATS_SINCE_FAIL: 4
    :DRILL_TOTAL_REPEATS: 4
    :DRILL_FAILURE_COUNT: 1
    :DRILL_AVERAGE_QUALITY: 3.0
    :DRILL_EASE: 2.36
    :DRILL_LAST_QUALITY: 4
    :DRILL_LAST_REVIEWED: [2021-12-22 Wed 07:39]
    :END:
    ____________________________________
**** A
    into namespaces
*** How long does a cloudwatch metric stay available                  :drill:
    SCHEDULED: <2022-01-12 Wed>
    :PROPERTIES:
    :ID:       dc22acee-4f25-4386-b878-198fdfd485e3
    :DRILL_LAST_INTERVAL: 20.6501
    :DRILL_REPEATS_SINCE_FAIL: 4
    :DRILL_TOTAL_REPEATS: 4
    :DRILL_FAILURE_COUNT: 1
    :DRILL_AVERAGE_QUALITY: 3.25
    :DRILL_EASE: 2.32
    :DRILL_LAST_QUALITY: 5
    :DRILL_LAST_REVIEWED: [2021-12-22 Wed 07:39]
    :END:
    .
**** A
     15 months
*** 1 sided cloze
:PROPERTIES:
:DRILL_CARD_TYPE: hide1cloze
:END:
You must install [CloudWatch Agent] to get EC2 [memory/disk utilization] metrics
*** Cloudwatch metric resolution                                      :drill:
    SCHEDULED: <2022-01-10 Mon>
    :PROPERTIES:
    :ID:       9a9a1950-08b0-43de-90e9-4332956fc276
    :DRILL_LAST_INTERVAL: 17.091
    :DRILL_REPEATS_SINCE_FAIL: 4
    :DRILL_TOTAL_REPEATS: 5
    :DRILL_FAILURE_COUNT: 1
    :DRILL_AVERAGE_QUALITY: 2.8
    :DRILL_EASE: 2.08
    :DRILL_LAST_QUALITY: 4
    :DRILL_LAST_REVIEWED: [2021-12-24 Fri 10:47]
    :END:
    What are the two cloudwatch metric resolutions
**** A
     Standard and High - 1 minute and 1 second
*** Avaialble alarms                                         :drill:memorize:
    SCHEDULED: <2022-01-07 Fri>
    :PROPERTIES:
    :ID:       b23d4b66-683c-439e-98ea-864639c84921
    :DRILL_LAST_INTERVAL: 8.9629
    :DRILL_REPEATS_SINCE_FAIL: 3
    :DRILL_TOTAL_REPEATS: 8
    :DRILL_FAILURE_COUNT: 3
    :DRILL_AVERAGE_QUALITY: 2.625
    :DRILL_EASE: 2.18
    :DRILL_LAST_QUALITY: 3
    :DRILL_LAST_REVIEWED: [2021-12-29 Wed 06:53]
    :END:
    What are available resoutions for cloudwatch alarm?
**** A
     10 second, 30 second and any multipe of 60 second
     High resolution: 1 second
     
    

	

   
    
     


** Load balancers

*** offloading                                                        :drill:
    SCHEDULED: <2022-01-21 Fri>
    :PROPERTIES:
    :ID:       ed19f801-ea4a-46f9-ba26-bedcb49735fe
    :DRILL_LAST_INTERVAL: 30.9885
    :DRILL_REPEATS_SINCE_FAIL: 4
    :DRILL_TOTAL_REPEATS: 3
    :DRILL_FAILURE_COUNT: 0
    :DRILL_AVERAGE_QUALITY: 5.0
    :DRILL_EASE: 2.8
    :DRILL_LAST_QUALITY: 5
    :DRILL_LAST_REVIEWED: [2021-12-21 Tue 06:40]
    :END:

what type of ELB does TLS offloading

**** answer
     both

*** health checks                                                     :drill:
    SCHEDULED: <2022-01-20 Thu>
    :PROPERTIES:
    :ID:       74e45f73-dbd1-42e5-9c8c-c7ecdf8860aa
    :DRILL_LAST_INTERVAL: 29.946
    :DRILL_REPEATS_SINCE_FAIL: 4
    :DRILL_TOTAL_REPEATS: 3
    :DRILL_FAILURE_COUNT: 0
    :DRILL_AVERAGE_QUALITY: 4.667
    :DRILL_EASE: 2.7
    :DRILL_LAST_QUALITY: 4
    :DRILL_LAST_REVIEWED: [2021-12-21 Tue 06:37]
    :END:
    what is flaw not making ELB health checks when using ELB?

**** answer
     ELB can route to instances that failed the EC2 health check
*** Cloud watch                                                       :drill:
    SCHEDULED: <2022-01-15 Sat>
    :PROPERTIES:
    :ID:       50197b9d-e835-4f2b-b724-777847715d6c
    :DRILL_LAST_INTERVAL: 19.4722
    :DRILL_REPEATS_SINCE_FAIL: 4
    :DRILL_TOTAL_REPEATS: 8
    :DRILL_FAILURE_COUNT: 3
    :DRILL_AVERAGE_QUALITY: 3.001
    :DRILL_EASE: 2.28
    :DRILL_LAST_QUALITY: 5
    :DRILL_LAST_REVIEWED: [2021-12-27 Mon 06:49]
    :END:
    How ofen does ELB write to cloudwatch

**** answer
     1 minute, but only when requests are active

*** ELB Access  logs                                                  :drill:
    SCHEDULED: <2022-02-02 Wed>
    :PROPERTIES:
    :ID:       4f320b2a-25a6-4446-9b11-6e8c82914ee9
    :DRILL_LAST_INTERVAL: 29.9165
    :DRILL_REPEATS_SINCE_FAIL: 4
    :DRILL_TOTAL_REPEATS: 11
    :DRILL_FAILURE_COUNT: 5
    :DRILL_AVERAGE_QUALITY: 3.091
    :DRILL_EASE: 2.76
    :DRILL_LAST_QUALITY: 5
    :DRILL_LAST_REVIEWED: [2022-01-03 Mon 08:09]
    :END:
    Access logs for ELB
    
**** about them
     - are not enabled by default
     - have info about clients, latencies, request paths


     
*** relation to ASGs                                                  :drill:
    SCHEDULED: <2022-01-12 Wed>
    :PROPERTIES:
    :ID:       6937dfe2-6520-4123-a214-606769ce3869
    :DRILL_LAST_INTERVAL: 23.5701
    :DRILL_REPEATS_SINCE_FAIL: 4
    :DRILL_TOTAL_REPEATS: 3
    :DRILL_FAILURE_COUNT: 0
    :DRILL_AVERAGE_QUALITY: 4.0
    :DRILL_EASE: 2.46
    :DRILL_LAST_QUALITY: 5
    :DRILL_LAST_REVIEWED: [2021-12-19 Sun 09:58]
    :END:
    there is a [many-to-many] relationship between target groups and ASGs
*** and auto scaling                                                  :drill:
    SCHEDULED: <2022-01-19 Wed>
    :PROPERTIES:
    :ID:       3f2305bd-9035-4e8b-88c1-26771d6403d9
    :DRILL_LAST_INTERVAL: 24.9136
    :DRILL_REPEATS_SINCE_FAIL: 4
    :DRILL_TOTAL_REPEATS: 5
    :DRILL_FAILURE_COUNT: 1
    :DRILL_AVERAGE_QUALITY: 3.4
    :DRILL_EASE: 2.32
    :DRILL_LAST_QUALITY: 3
    :DRILL_LAST_REVIEWED: [2021-12-25 Sat 08:46]
    :END:
    what does ELB operate on when it scales out/scales in?

**** answer
     An auto scaling group

*** location                                                          :drill:
    SCHEDULED: <2022-01-14 Fri>
    :PROPERTIES:
    :ID:       f6cf6f50-1340-465f-9f6e-8398b24705f4
    :DRILL_LAST_INTERVAL: 25.88
    :DRILL_REPEATS_SINCE_FAIL: 4
    :DRILL_TOTAL_REPEATS: 3
    :DRILL_FAILURE_COUNT: 0
    :DRILL_AVERAGE_QUALITY: 4.333
    :DRILL_EASE: 2.6
    :DRILL_LAST_QUALITY: 5
    :DRILL_LAST_REVIEWED: [2021-12-19 Sun 09:52]
    :END:
    where do ASG and ELBs have to be located relative to each other?

**** answer
     in the same region

*** alb requirement                                                   :drill:
    SCHEDULED: <2022-01-28 Fri>
    :PROPERTIES:
    :ID:       1cb2911b-46c4-4b43-80f8-8faefef14d06
    :DRILL_LAST_INTERVAL: 28.7036
    :DRILL_REPEATS_SINCE_FAIL: 4
    :DRILL_TOTAL_REPEATS: 5
    :DRILL_FAILURE_COUNT: 1
    :DRILL_AVERAGE_QUALITY: 4.0
    :DRILL_EASE: 2.7
    :DRILL_LAST_QUALITY: 5
    :DRILL_LAST_REVIEWED: [2021-12-30 Thu 07:00]
    :END:
    Before you start using your Application Load Balancer, you must add one or more [listeners].
  

*** limitation                                                        :drill:
    SCHEDULED: <2022-01-26 Wed>
    :PROPERTIES:
    :ID:       92ab0500-66e7-489a-8b81-bfe9cb172368
    :DRILL_LAST_INTERVAL: 26.6646
    :DRILL_REPEATS_SINCE_FAIL: 4
    :DRILL_TOTAL_REPEATS: 6
    :DRILL_FAILURE_COUNT: 2
    :DRILL_AVERAGE_QUALITY: 3.167
    :DRILL_EASE: 2.56
    :DRILL_LAST_QUALITY: 4
    :DRILL_LAST_REVIEWED: [2021-12-30 Thu 07:04]
    :END:
Application Load Balancers do not support cookie values that are [URL encoded].

** EBS Disk types                                                     :drill:
   SCHEDULED: <2022-01-17 Mon>
   :PROPERTIES:
   :ID:       fa23b4a9-c4ec-4fdc-93c6-7312a89485fc
   :DRILL_CARD_TYPE: hide1cloze
   :DRILL_LAST_INTERVAL: 9.648
   :DRILL_REPEATS_SINCE_FAIL: 3
   :DRILL_TOTAL_REPEATS: 2
   :DRILL_FAILURE_COUNT: 0
   :DRILL_AVERAGE_QUALITY: 3.5
   :DRILL_EASE: 2.36
   :DRILL_LAST_QUALITY: 3
   :DRILL_LAST_REVIEWED: [2022-01-07 Fri 08:04]
   :END:

[General purpose ssd] aka [gp2]
*** IOPS
    3 IOPS per gig
    from 100-16000
    33.3 gig (and smaller) to 5.3 gig (and larger)


** Fireshose destinations                                     :drill:
   SCHEDULED: <2022-01-07 Fri>
   :PROPERTIES:
   :ID:       329d346b-fa6e-44af-b60b-fd33e289beb0
   :DRILL_LAST_INTERVAL: 3.86
   :DRILL_REPEATS_SINCE_FAIL: 2
   :DRILL_TOTAL_REPEATS: 1
   :DRILL_FAILURE_COUNT: 0
   :DRILL_AVERAGE_QUALITY: 3.0
   :DRILL_EASE: 2.36
   :DRILL_LAST_QUALITY: 3
   :DRILL_LAST_REVIEWED: [2022-01-03 Mon 21:23]
   :END:
Guess 11 destination
*** Answer:

    Amazon S3 
    Amazon Redshift 
    OpenSearch Service 
       (elasticsearch)
    Splunk 
    
    HTTP Endpoint 
    Datadog 
    Dynatrace 
    LogicMonitor 
    MongoDB Cloud 
    New Relic 
    Sumo Logic 

https://docs.aws.amazon.com/firehose/latest/dev/create-destination.html
    
** Question                                                  :drill:practice:
   SCHEDULED: <2022-01-17 Mon>
   :PROPERTIES:
   :ID:       ba6773b7-604c-4b88-8344-9d1ca184fc9c
   :DRILL_LAST_INTERVAL: 11.0911
   :DRILL_REPEATS_SINCE_FAIL: 3
   :DRILL_TOTAL_REPEATS: 2
   :DRILL_FAILURE_COUNT: 0
   :DRILL_AVERAGE_QUALITY: 5.0
   :DRILL_EASE: 2.7
   :DRILL_LAST_QUALITY: 5
   :DRILL_LAST_REVIEWED: [2022-01-06 Thu 08:32]
   :END:
What is the driver configuration file for CodeDeploy
*** Answer:
CodeDeploy agent looks up the name of the current event hook
in
appspec.yml in root directory of the source code



** CodeDeploy                                                 :drill:
   SCHEDULED: <2022-01-19 Wed>
   :PROPERTIES:
   :ID:       5e47bef8-2ffb-4c4e-a327-a6f1e7dc3783
   :DRILL_LAST_INTERVAL: 11.0911
   :DRILL_REPEATS_SINCE_FAIL: 3
   :DRILL_TOTAL_REPEATS: 2
   :DRILL_FAILURE_COUNT: 0
   :DRILL_AVERAGE_QUALITY: 5.0
   :DRILL_EASE: 2.7
   :DRILL_LAST_QUALITY: 5
   :DRILL_LAST_REVIEWED: [2022-01-08 Sat 14:35]
   :END:
Code Deploy redployment

During redployment, files that are to be installed,
and were NOT part of previous deployment exist -- are "in the way"

What happens?

*** answer
    Configurable choice:
    Can remove
        leave it untouched
	overwrite it (as if it hadn't been there)
	let deployment fail


** Reserved Instances                                                 :drill:
   SCHEDULED: <2022-01-17 Mon>
   :PROPERTIES:
   :ID:       90efb9bd-ec19-4256-9810-575a7b2856d0
   :DRILL_LAST_INTERVAL: 11.0911
   :DRILL_REPEATS_SINCE_FAIL: 3
   :DRILL_TOTAL_REPEATS: 2
   :DRILL_FAILURE_COUNT: 0
   :DRILL_AVERAGE_QUALITY: 5.0
   :DRILL_EASE: 2.7
   :DRILL_LAST_QUALITY: 5
   :DRILL_LAST_REVIEWED: [2022-01-06 Thu 08:31]
   :END:
What kind of RI include capacity reservation?
*** Answer:
Not "normal" regional onees.  Zonal RIs include capacity reservation.

Regional - more flexibility
Zonal - guarantee 

 If an Availability Zone is specified, EC2 reserves capacity matching
 the attributes of the RI. The capacity reservation of an RI is
 automatically utilized by running instances matching these
 attributes.

You can also choose to forego the capacity reservation and purchase an
RI that is scoped to a region. RIs that are scoped to a region
automatically apply the RI’s discount to instance usage across AZs and
instance sizes in a region, making it easier for you to take advantage
of the RI’s discounted rate.

** Question  :drill:
   SCHEDULED: <2022-01-19 Wed>
   :PROPERTIES:
   :ID:       40a580cb-7b2d-4475-8c41-8d27ac747af0
   :DRILL_LAST_INTERVAL: 11.0911
   :DRILL_REPEATS_SINCE_FAIL: 3
   :DRILL_TOTAL_REPEATS: 2
   :DRILL_FAILURE_COUNT: 0
   :DRILL_AVERAGE_QUALITY: 5.0
   :DRILL_EASE: 2.7
   :DRILL_LAST_QUALITY: 5
   :DRILL_LAST_REVIEWED: [2022-01-08 Sat 14:37]
   :END:
Permissions for Dynamo: is update a superset of insert?
*** Answer:
Yes, in taht update will insert a record if the
key doesn't exist.


** Security groups                                     :drill:practice:drill:
    SCHEDULED: <2022-01-23 Sun>
    :PROPERTIES:
    :ID:       032a4b89-7c27-4d31-bb32-5e0fdd3f4ed9
    :DRILL_LAST_INTERVAL: 23.2385
    :DRILL_REPEATS_SINCE_FAIL: 4
    :DRILL_TOTAL_REPEATS: 10
    :DRILL_FAILURE_COUNT: 4
    :DRILL_AVERAGE_QUALITY: 2.899
    :DRILL_EASE: 2.46
    :DRILL_LAST_QUALITY: 5
    :DRILL_LAST_REVIEWED: [2021-12-31 Fri 16:16]
    :END:
    How does security work with ELB listeners
    Must allow for health checks on back end listerns

*** How?
     Must assign SG to ports/protocols on front end listener


** Where does ELB forward traffic on a ec2?                           :drill:
    SCHEDULED: <2022-01-17 Mon>
    :PROPERTIES:
    :ID:       c16adce0-df59-4208-ab9f-2bd1627719d9
    :DRILL_LAST_INTERVAL: 24.8958
    :DRILL_REPEATS_SINCE_FAIL: 4
    :DRILL_TOTAL_REPEATS: 5
    :DRILL_FAILURE_COUNT: 1
    :DRILL_AVERAGE_QUALITY: 3.6
    :DRILL_EASE: 2.56
    :DRILL_LAST_QUALITY: 5
    :DRILL_LAST_REVIEWED: [2021-12-23 Thu 20:52]
    :END:
    where does ELB forward traffice on an  ec2

*** answer
     eth0

** subnet req                                                     :drill:fix:
    SCHEDULED: <2022-01-08 Sat>
    :PROPERTIES:
    :ID:       53f878d1-4c37-47c3-a7eb-f4acaa94791d
    :DRILL_LAST_INTERVAL: 22.7088
    :DRILL_CARD_TYPE: hide1cloze
    :DRILL_REPEATS_SINCE_FAIL: 4
    :DRILL_TOTAL_REPEATS: 4
    :DRILL_FAILURE_COUNT: 1
    :DRILL_AVERAGE_QUALITY: 2.75
    :DRILL_EASE: 2.32
    :DRILL_LAST_QUALITY: 3
    :DRILL_LAST_REVIEWED: [2021-12-16 Thu 06:52]
    :END:
    

Minimum size of a subnet that is target of ELB is [/27], and has to have [8] free IPs

*** bonus
     because some addresses are used for elb stuff
** requirement                                                        :drill:
    SCHEDULED: <2022-02-15 Tue>
    :PROPERTIES:
    :DRILL_CARD_TYPE: hide1cloze
    :ID:       9ad782ba-6f08-4ab0-9225-72cb109f1ceb
    :DRILL_LAST_INTERVAL: 40.0363
    :DRILL_REPEATS_SINCE_FAIL: 5
    :DRILL_TOTAL_REPEATS: 4
    :DRILL_FAILURE_COUNT: 0
    :DRILL_AVERAGE_QUALITY: 3.25
    :DRILL_EASE: 2.08
    :DRILL_LAST_QUALITY: 4
    :DRILL_LAST_REVIEWED: [2022-01-06 Thu 08:40]
    :END:
A public load balancer needs one [public subnet] in each [a/z where it is defined]   
** Differences ALB/NLB
Differences alb and nlb
*** A/Zs                                                              :drill:
     SCHEDULED: <2022-01-14 Fri>
     :PROPERTIES:
     :ID:       ca0302e9-b001-482e-9541-6364e16c3c32
     :DRILL_LAST_INTERVAL: 24.9136
     :DRILL_REPEATS_SINCE_FAIL: 4
     :DRILL_TOTAL_REPEATS: 3
     :DRILL_FAILURE_COUNT: 0
     :DRILL_AVERAGE_QUALITY: 3.667
     :DRILL_EASE: 2.32
     :DRILL_LAST_QUALITY: 3
     :DRILL_LAST_REVIEWED: [2021-12-20 Mon 21:24]
     :END:
     which kind of load balancer allows multiple A/Zs?

***** answer
      both, but not default for either

**** Static/Elastic IPs                                              :drill:
     SCHEDULED: <2022-01-14 Fri>
     :PROPERTIES:
     :ID:       4d8bad99-c911-46cf-8982-7356ba26d165
     :DRILL_LAST_INTERVAL: 25.8489
     :DRILL_REPEATS_SINCE_FAIL: 4
     :DRILL_TOTAL_REPEATS: 3
     :DRILL_FAILURE_COUNT: 0
     :DRILL_AVERAGE_QUALITY: 4.0
     :DRILL_EASE: 2.46
     :DRILL_LAST_QUALITY: 3
     :DRILL_LAST_REVIEWED: [2021-12-19 Sun 10:25]
     :END:
     Where can you use static and elastic ips with Elastic load balancers?

***** Answer
      Only with network load bal.
      For ALB the target is determined by amazon
      
***** notes
      You use an alias in route53 to send traffic to the ELB


*** ALB
**** A/Z
     ALB allow cross-zone load balancing
***** Answer
      Yes, but disabled by default
**** Format DNS name                                         :memorize:drill:
     SCHEDULED: <2022-01-15 Sat>
     :PROPERTIES:
     :ID:       40b3c80c-ee44-4075-82fb-a47969f30ecf
     :DRILL_LAST_INTERVAL: 19.4722
     :DRILL_REPEATS_SINCE_FAIL: 4
     :DRILL_TOTAL_REPEATS: 7
     :DRILL_FAILURE_COUNT: 2
     :DRILL_AVERAGE_QUALITY: 3.286
     :DRILL_EASE: 2.28
     :DRILL_LAST_QUALITY: 5
     :DRILL_LAST_REVIEWED: [2021-12-27 Mon 06:54]
     :END:
     Format of DNS name of ALB
***** answer
      <name><id-number>.region.elb.amazonaws.com
***** Bonus 
      only for public facing
      internal ones have "internal-" at the beginning
**** Configuration: Listeners per port                                :drill:
     SCHEDULED: <2022-01-17 Mon>
     :PROPERTIES:
     :ID:       b74279bb-e32f-4826-a164-b86185ee09d0
     :DRILL_LAST_INTERVAL: 29.946
     :DRILL_REPEATS_SINCE_FAIL: 4
     :DRILL_TOTAL_REPEATS: 3
     :DRILL_FAILURE_COUNT: 0
     :DRILL_AVERAGE_QUALITY: 4.667
     :DRILL_EASE: 2.7
     :DRILL_LAST_QUALITY: 4
     :DRILL_LAST_REVIEWED: [2021-12-18 Sat 03:54]
     :END:
     ALB - how many listeners per port
***** answer
      1
**** Describe high level components of ALB                      :drill:fuzzy:
     SCHEDULED: <2022-01-11 Tue>
     :PROPERTIES:
     :ID:       9493ea22-a169-481d-9072-5d7ccea6ecb5
     :DRILL_LAST_INTERVAL: 16.4926
     :DRILL_REPEATS_SINCE_FAIL: 4
     :DRILL_TOTAL_REPEATS: 6
     :DRILL_FAILURE_COUNT: 1
     :DRILL_AVERAGE_QUALITY: 3.0
     :DRILL_EASE: 1.94
     :DRILL_LAST_QUALITY: 3
     :DRILL_LAST_REVIEWED: [2021-12-26 Sun 08:31]
     :END:
     Describe high level components of ALB
***** answer
- NODES - not seen to you but use IP addresses in your private subnet
- Load balancer either Connects to Internet gateway or?
- ALB connects to mulitple listeners
- listeners connect to target groups
- Devices can be in multiple target groups
**** Private subnet                                      :drill:fix:inferred:
     SCHEDULED: <2022-01-15 Sat>
     :PROPERTIES:
     :ID:       6a1e31ae-3571-49de-bdeb-a12f5c15f2d8
     :DRILL_LAST_INTERVAL: 25.8489
     :DRILL_REPEATS_SINCE_FAIL: 4
     :DRILL_TOTAL_REPEATS: 4
     :DRILL_FAILURE_COUNT: 1
     :DRILL_AVERAGE_QUALITY: 3.5
     :DRILL_EASE: 2.46
     :DRILL_LAST_QUALITY: 3
     :DRILL_LAST_REVIEWED: [2021-12-20 Mon 21:27]
     :END:
     How can ALB use nodes in private subnet
***** A
      It doesn't.  ALB makes node in public and you connect
      
**** Pricing ALB - two measures                             :drill:
     SCHEDULED: <2022-01-21 Fri>
     :PROPERTIES:
     :ID:       43526031-7ec0-44d9-bbf2-c3e53bcfc200
     :DRILL_LAST_INTERVAL: 20.6501
     :DRILL_REPEATS_SINCE_FAIL: 4
     :DRILL_TOTAL_REPEATS: 6
     :DRILL_FAILURE_COUNT: 1
     :DRILL_AVERAGE_QUALITY: 3.333
     :DRILL_EASE: 2.32
     :DRILL_LAST_QUALITY: 5
     :DRILL_LAST_REVIEWED: [2021-12-31 Fri 16:04]
     :END:
What are two measures for pricing ALB

***** Answer
      LCU and Hourly (about 20 cents/day)
      LCU == Load Balancer Capacity Units
***** notes
      LCU is the greates charge of 4 measures over an hour

    - New connections: Number of newly established connections per
      second. Typically, many requests are sent per connection.

    - Active connections: Number of active connections per minute.

    - Processed bytes: The number of bytes processed by the load balancer in GBs for HTTP(S) requests and responses.

    - Rule evaluations: The product of the number of rules processed
      by your load balancer and the request rate. The first 10
      processed rules are free (Rule evaluations = Request rate *
      (Number of rules processed - 10 free rules).

**** Which OSI level is App load balancer working on                  :drill:
     SCHEDULED: <2022-01-18 Tue>
     :PROPERTIES:
     :ID:       5e69d6f8-8145-4a7f-b21a-76659813a8a5
     :DRILL_LAST_INTERVAL: 30.9885
     :DRILL_REPEATS_SINCE_FAIL: 4
     :DRILL_TOTAL_REPEATS: 3
     :DRILL_FAILURE_COUNT: 0
     :DRILL_AVERAGE_QUALITY: 5.0
     :DRILL_EASE: 2.8
     :DRILL_LAST_QUALITY: 5
     :DRILL_LAST_REVIEWED: [2021-12-18 Sat 03:55]
     :END:
     Which OSI level is App load balancer working on
***** Answer
      level 7 the App layer.
**** Which OSI level is Network load balancer working on           :drill:
     SCHEDULED: <2022-01-10 Mon>
     :PROPERTIES:
     :ID:       3d46d682-3649-4e24-842e-e261f1792027
     :DRILL_LAST_INTERVAL: 25.88
     :DRILL_REPEATS_SINCE_FAIL: 4
     :DRILL_TOTAL_REPEATS: 3
     :DRILL_FAILURE_COUNT: 0
     :DRILL_AVERAGE_QUALITY: 4.333
     :DRILL_EASE: 2.6
     :DRILL_LAST_QUALITY: 5
     :DRILL_LAST_REVIEWED: [2021-12-15 Wed 21:28]
     :END:
     Which OSI level is Network load balancer working on
***** Answer
      level 4 the Network layer.
** Cloud formation
*** define CF stack sets                                              :drill:
    SCHEDULED: <2022-01-18 Tue>
    :PROPERTIES:
    :ID:       21a8d348-4d41-43ef-b4c8-e9ffba625e01
    :DRILL_LAST_INTERVAL: 23.2194
    :DRILL_REPEATS_SINCE_FAIL: 4
    :DRILL_TOTAL_REPEATS: 5
    :DRILL_FAILURE_COUNT: 1
    :DRILL_AVERAGE_QUALITY: 3.2
    :DRILL_EASE: 2.32
    :DRILL_LAST_QUALITY: 3
    :DRILL_LAST_REVIEWED: [2021-12-26 Sun 08:44]
    :END:
    stack sets =
**** A
     Apply creat/update/delete accross multiple regions, multiple accounts
*** define CF Change Sets                                             youtube:drill:
    SCHEDULED: <2021-12-26 Sun>
    :PROPERTIES:
    :ID:       9c8e88bb-24e8-450e-aeb2-c7ae0e4718c1
    :DRILL_LAST_INTERVAL: 3.855
    :DRILL_REPEATS_SINCE_FAIL: 2
    :DRILL_TOTAL_REPEATS: 4
    :DRILL_FAILURE_COUNT: 1
    :DRILL_AVERAGE_QUALITY: 3.25
    :DRILL_EASE: 2.32
    :DRILL_LAST_QUALITY: 3
    :DRILL_LAST_REVIEWED: [2021-12-22 Wed 20:35]
    :END:
    Change sets =
**** A
     Summary of propsed changes let you preview impact -- Visualization
*** Two types of resources                                            :drill:
    SCHEDULED: <2022-01-16 Sun>
    :PROPERTIES:
    :ID:       1d40cf9b-8606-4e38-80a8-da49b15f0068
    :DRILL_LAST_INTERVAL: 25.0
    :DRILL_REPEATS_SINCE_FAIL: 4
    :DRILL_TOTAL_REPEATS: 3
    :DRILL_FAILURE_COUNT: 0
    :DRILL_AVERAGE_QUALITY: 4.0
    :DRILL_EASE: 2.5
    :DRILL_LAST_QUALITY: 4
    :DRILL_LAST_REVIEWED: [2021-12-22 Wed 07:28]
    :END:
    There are two types of ways of refering to a resource: e.g. i-2310d7aa7801 and RedisServer1.
    What are they callled --- _______ ID and _________ ID
**** A
     physical and logical
**** bonus
     the physical are "outside" of CF
*** What does a CF template describe                                  :drill:
    SCHEDULED: <2022-01-20 Thu>
:PROPERTIES:
:DRILL_CARD_TYPE: hide1cloze
:ID:       aa808fc7-0a00-4afd-9134-8c62288b8e5c
:DRILL_LAST_INTERVAL: 24.8958
:DRILL_REPEATS_SINCE_FAIL: 4
:DRILL_TOTAL_REPEATS: 5
:DRILL_FAILURE_COUNT: 1
:DRILL_AVERAGE_QUALITY: 3.8
:DRILL_EASE: 2.56
:DRILL_LAST_QUALITY: 5
:DRILL_LAST_REVIEWED: [2021-12-26 Sun 08:32]
:END:
    [end state] of the [infrastructure] you are privisioning or changing
*** define                                                            :drill:
    SCHEDULED: <2022-01-09 Sun>
:PROPERTIES:
:DRILL_CARD_TYPE: hide1cloze
:ID:       f88fa158-3123-4ab1-8f21-d9945cdd8beb
:DRILL_LAST_INTERVAL: 10.3231
:DRILL_REPEATS_SINCE_FAIL: 3
:DRILL_TOTAL_REPEATS: 6
:DRILL_FAILURE_COUNT: 2
:DRILL_AVERAGE_QUALITY: 3.167
:DRILL_EASE: 2.56
:DRILL_LAST_QUALITY: 5
:DRILL_LAST_REVIEWED: [2021-12-30 Thu 06:54]
:END:

    [runtime values] are assigned  in CF templates with [instrinsic functions]
*** functions
**** Name function that gets a value from mapping section             :drill:
     SCHEDULED: <2022-01-22 Sat>
     :PROPERTIES:
     :ID:       052a13bf-f064-409b-a96f-30e473938e21
     :DRILL_LAST_INTERVAL: 28.6705
     :DRILL_REPEATS_SINCE_FAIL: 4
     :DRILL_TOTAL_REPEATS: 3
     :DRILL_FAILURE_COUNT: 0
     :DRILL_AVERAGE_QUALITY: 4.333
     :DRILL_EASE: 2.56
     :DRILL_LAST_QUALITY: 3
     :DRILL_LAST_REVIEWED: [2021-12-24 Fri 11:14]
     :END:
     name?
***** Answer
      Fn:FindInMap
      
***** Bonus

           The intrinsic function Fn::FindInMap returns the value
           corresponding to keys in a two-level map that's declared in
           the Mappings section.
**** Syntax for FindInMap                                             :drill:
     SCHEDULED: <2022-01-14 Fri>
     :PROPERTIES:
     :ID:       eb84dd84-0d84-4c0a-93c8-ba0287d91a69
     :DRILL_LAST_INTERVAL: 21.9685
     :DRILL_REPEATS_SINCE_FAIL: 4
     :DRILL_TOTAL_REPEATS: 5
     :DRILL_FAILURE_COUNT: 2
     :DRILL_AVERAGE_QUALITY: 2.4
     :DRILL_EASE: 2.22
     :DRILL_LAST_QUALITY: 3
     :DRILL_LAST_REVIEWED: [2021-12-23 Thu 20:56]
     :END:
     how to call FindInMap
***** Answer
      FindInMap[MapName, TopLevelKey, SecondLevelKey]
    

    
** Service Distinctions

*** distinguish                                                       :drill:
    SCHEDULED: <2022-01-16 Sun>
    :PROPERTIES:
    :ID:       481b5a71-6685-4b3d-8a37-92c68e842e86
    :DRILL_LAST_INTERVAL: 26.7124
    :DRILL_REPEATS_SINCE_FAIL: 4
    :DRILL_TOTAL_REPEATS: 3
    :DRILL_FAILURE_COUNT: 0
    :DRILL_AVERAGE_QUALITY: 4.333
    :DRILL_EASE: 2.56
    :DRILL_LAST_QUALITY: 5
    :DRILL_LAST_REVIEWED: [2021-12-20 Mon 21:25]
    :END:
    diff between Launch Configuration and Launch Template

**** answer
     Cnofiguration is immutable, older & deprecated

** Rollback                                                           :drill:
How to rollback an immutable deplog
*** Answer:
Terminate an ASG

** Definie ASG                                                        :drill:
What is an autoscaling group
*** Answer:
 a collection of Amazon EC2 instances that are treated as a logical
 grouping for the purposes of automatic scaling and management.

** Define desired capacity                                    :drill:
Context wher you talk about desired capacity
*** Answer:
AutoScaling group

** ASG instances                                                      :drill:
What kinds of "purchase option" instances does an ASG launch -- what provisioning category?
*** Answer:
On Demand, Spot, or both


** Rollback                                                   :drill:
How do you rollback a blue/green elastic beanstalk deployment
*** Answer:
Swap the url


** Blue Green Elastic Beanstalk/DB                                    :drill:
If your app uses a database, what is requirement when updating it blue/green?
*** Answer:
Db has to be independent of the app

** inline app code in Cloud Formation                                 :drill:
If you hav code to run  in a lambda function that you want to
include in the CF template (inline) what parameter to the lambda section?
*** Answer:
Zipfile -- can take 4096 bytes, else you give it a s3 location
insline only goes with nodejs and python

AWSTemplateFormatVersion: '2010-09-09'
Description: Lambda function with cfn-response.
Resources:
  primer:
    Type: AWS::Lambda::Function
    Properties:
      Runtime: nodejs12.x
      Role: arn:aws:iam::123456789012:role/lambda-role
      Handler: index.handler
      Code:
        ZipFile: |
          var aws = require('aws-sdk')
          var response = require('cfn-response')
          exports.handler = ....



** Mnemonic Launch Templates                                  :drill:
   :PROPERTIES:
   :ID:       a0dc7ca9-ba10-413d-a2e0-113b858e4608
   :END:
Which is newer -- ec2 launch configurations or launch templates
*** Answer:
crusty container
tasty templates

** IAM Resource based policy                                          :drill:
   SCHEDULED: <2022-01-17 Mon>
   :PROPERTIES:
   :ID:       c97b9304-18a8-4128-8016-748279af7b27
   :DRILL_LAST_INTERVAL: 10.352
   :DRILL_REPEATS_SINCE_FAIL: 3
   :DRILL_TOTAL_REPEATS: 2
   :DRILL_FAILURE_COUNT: 0
   :DRILL_AVERAGE_QUALITY: 4.5
   :DRILL_EASE: 2.6
   :DRILL_LAST_QUALITY: 5
   :DRILL_LAST_REVIEWED: [2022-01-07 Fri 08:01]
   :END:
What is only IAM resource based policy?
*** Answer:
"Trust Relationship" or "Trust Policy"
     
** Trusted Advisor

**** disinguish                                           :drill:
     SCHEDULED: <2022-01-21 Fri>
     :PROPERTIES:
     :ID:       41ee5153-cf54-4038-b8c6-9eb4bcd69add
     :DRILL_LAST_INTERVAL: 23.9544
     :DRILL_REPEATS_SINCE_FAIL: 4
     :DRILL_TOTAL_REPEATS: 6
     :DRILL_FAILURE_COUNT: 1
     :DRILL_AVERAGE_QUALITY: 3.667
     :DRILL_EASE: 2.42
     :DRILL_LAST_QUALITY: 5
     :DRILL_LAST_REVIEWED: [2021-12-28 Tue 22:32]
     :END:
     Distinguish Trusted advisor and Insprector

***** Answer
      - Inspector is only for EC2, it runs inside instances on a schedule looking for vulnerabilities
      - Trusted advisor makes cost recommendations and performance, and is premium service
      
**** distinguish                                                      :drill:
     SCHEDULED: <2022-01-12 Wed>
     :PROPERTIES:
     :ID:       8fc08668-27fa-4094-8ede-41a84ed1342a
     :DRILL_LAST_INTERVAL: 25.2548
     :DRILL_REPEATS_SINCE_FAIL: 4
     :DRILL_TOTAL_REPEATS: 3
     :DRILL_FAILURE_COUNT: 0
     :DRILL_AVERAGE_QUALITY: 4.0
     :DRILL_EASE: 2.46
     :DRILL_LAST_QUALITY: 4
     :DRILL_LAST_REVIEWED: [2021-12-18 Sat 03:54]
     :END:
          Distinguish Trusted advisor and Xray

***** Answer                                                     :conjecture:
      Xray gets traces from your applications for debugging - Developers adds instrument to apps
      TA you turn it on to get best pracitics
      
	
      
     


      



      




*** Deployment files for Elastic Beanstalk vs CloudFormation          :drill:
    SCHEDULED: <2022-01-12 Wed>
    :PROPERTIES:
    :ID:       ee17c841-9de8-4ff1-8a2f-066ee15a407a
    :DRILL_LAST_INTERVAL: 21.9723
    :DRILL_REPEATS_SINCE_FAIL: 4
    :DRILL_TOTAL_REPEATS: 3
    :DRILL_FAILURE_COUNT: 0
    :DRILL_AVERAGE_QUALITY: 3.667
    :DRILL_EASE: 2.36
    :DRILL_LAST_QUALITY: 4
    :DRILL_LAST_REVIEWED: [2021-12-21 Tue 06:35]
    :END:
    what are the extensions

**** A
     Beanstalk: .zip or .war ; CF .yaml/.json



** Associations

*** association dupe                                                  :drill:
    SCHEDULED: <2022-01-08 Sat>
    :PROPERTIES:
    :DRILL_CARD_TYPE: hide1cloze
    :ID:       cc455c2c-9cea-4622-8983-626c0528df47
    :DRILL_LAST_INTERVAL: 24.3659
    :DRILL_REPEATS_SINCE_FAIL: 4
    :DRILL_TOTAL_REPEATS: 3
    :DRILL_FAILURE_COUNT: 0
    :DRILL_AVERAGE_QUALITY: 4.333
    :DRILL_EASE: 2.56
    :DRILL_LAST_QUALITY: 5
    :DRILL_LAST_REVIEWED: [2021-12-15 Wed 21:29]
    :END:
    [state machine] is implemented by aws [step function]



*** association dupe                                                  :drill:
    SCHEDULED: <2022-02-16 Wed>
    :PROPERTIES:
    :DRILL_CARD_TYPE: hide1cloze
    :ID:       cc455c2c-9cea-4622-8983-626c0528df47
    :DRILL_LAST_INTERVAL: 44.287
    :DRILL_REPEATS_SINCE_FAIL: 5
    :DRILL_TOTAL_REPEATS: 4
    :DRILL_FAILURE_COUNT: 0
    :DRILL_AVERAGE_QUALITY: 3.5
    :DRILL_EASE: 2.22
    :DRILL_LAST_QUALITY: 4
    :DRILL_LAST_REVIEWED: [2022-01-03 Mon 13:35]
    :END:
    [state machine] is implemented by aws [step function]



*** association template                                              :drill:
    SCHEDULED: <2022-01-25 Tue>
    :PROPERTIES:
    :DRILL_CARD_TYPE: hide1cloze
    :ID:       8a5bfe07-de84-4bcc-ba35-e1cd59694c0c
    :DRILL_LAST_INTERVAL: 30.7556
    :DRILL_REPEATS_SINCE_FAIL: 4
    :DRILL_TOTAL_REPEATS: 6
    :DRILL_FAILURE_COUNT: 2
    :DRILL_AVERAGE_QUALITY: 3.5
    :DRILL_EASE: 2.8
    :DRILL_LAST_QUALITY: 5
    :DRILL_LAST_REVIEWED: [2021-12-25 Sat 15:23]
    :END:
    [man in tne middle attack] and [DNS spoofing]
    Are remedied by DNSSEC
*** association template
    :PROPERTIES:
    :DRILL_CARD_TYPE: hide1cloze
    :END:
    [state machine] is implemented by aws [step function]




*** association template                                              :drill:
    SCHEDULED: <2022-01-29 Sat>
    :PROPERTIES:
    :DRILL_CARD_TYPE: hide1cloze
    :ID:       8676f4cd-11d5-4549-acba-c7ea12aaf3f5
    :DRILL_LAST_INTERVAL: 23.959
    :DRILL_REPEATS_SINCE_FAIL: 4
    :DRILL_TOTAL_REPEATS: 11
    :DRILL_FAILURE_COUNT: 4
    :DRILL_AVERAGE_QUALITY: 3.0
    :DRILL_EASE: 2.42
    :DRILL_LAST_QUALITY: 4
    :DRILL_LAST_REVIEWED: [2022-01-05 Wed 07:22]
    :END:
    [request attributes] for ALB include  [X-Forwarded-For headers].
*** association template
    :PROPERTIES:
    :DRILL_CARD_TYPE: hide1cloze
    :END:
    [state machine] is implemented by aws [step function]
*** association template
    :PROPERTIES:
    :DRILL_CARD_TYPE: hide1cloze
    :END:
    [state machine] is implemented by aws [step function]
*** association template
    :PROPERTIES:
    :DRILL_CARD_TYPE: hide1cloze
    :END:
    [state machine] is implemented by aws [step function]

*** Association                                          :drill:fix:inferred:
    SCHEDULED: <2022-01-26 Wed>
    :PROPERTIES:
    :ID:       9058140f-8cdc-459e-8b8f-f2fc1d7f0fad
    :DRILL_LAST_INTERVAL: 29.7131
    :DRILL_CARD_TYPE: hide1cloze
    :DRILL_REPEATS_SINCE_FAIL: 4
    :DRILL_TOTAL_REPEATS: 5
    :DRILL_FAILURE_COUNT: 1
    :DRILL_AVERAGE_QUALITY: 3.6
    :DRILL_EASE: 2.7
    :DRILL_LAST_QUALITY: 4
    :DRILL_LAST_REVIEWED: [2021-12-27 Mon 20:37]
    :END:
    
[shorthand] syntax and [SAM]

*** association

:PROPERTIES:
:DRILL_CARD_TYPE: hide1cloze
:END:

    In [API Gateway] client can invalidate cache with [Cache-C9ontrol: max-age=0]


** code deploy - distincive selling point                             :drill:
   :PROPERTIES:
   :ID:       3a46d7ad-a6d0-4c97-b652-abdd83926355
   :END:

*** a
    
don't need to make changes to exisitng code



** CodeDeploy                                                         :drill:
   SCHEDULED: <2022-01-18 Tue>
   :PROPERTIES:
   :ID:       4b90c2ef-a262-4ac1-a68a-001138bccff6
   :DRILL_LAST_INTERVAL: 24.12
   :DRILL_REPEATS_SINCE_FAIL: 4
   :DRILL_TOTAL_REPEATS: 4
   :DRILL_FAILURE_COUNT: 1
   :DRILL_AVERAGE_QUALITY: 3.0
   :DRILL_EASE: 2.36
   :DRILL_LAST_QUALITY: 3
   :DRILL_LAST_REVIEWED: [2021-12-25 Sat 09:11]
   :END:

   Code can deploy application content that runs on a server and is stored in 
    Name 4

*** Name 4
Amazon S3 buckets, GitHub repositories, or Bitbucket repositories.
Codecommit
   Can deploy to running servers
   Can deploy to Lambda
   Can deploy to fargate

   It can go to on-premise servers, also:
      Step 1 – Configure each on-premises instance, register it with CodeDeploy, and then tag it.
      Step 2 – Deploy application revisions to the on-premises instance.
      https://docs.aws.amazon.com/codedeploy/latest/userguide/instances-on-premises.html

   
** What service                                                       :drill:
   SCHEDULED: <2022-01-23 Sun>
   :PROPERTIES:
   :ID:       5d4a9697-70d7-4f02-bf55-59b8bd7f8f20
   :DRILL_LAST_INTERVAL: 26.7536
   :DRILL_REPEATS_SINCE_FAIL: 4
   :DRILL_TOTAL_REPEATS: 3
   :DRILL_FAILURE_COUNT: 0
   :DRILL_AVERAGE_QUALITY: 4.0
   :DRILL_EASE: 2.46
   :DRILL_LAST_QUALITY: 3
   :DRILL_LAST_REVIEWED: [2021-12-27 Mon 20:38]
   :END:
 1) Automate software installation and 2) reduce manual errors

*** what service is it
Keyword for CodeDeploy

** Code Deploy                                                        :drill:
   SCHEDULED: <2022-01-12 Wed>
   :PROPERTIES:
   :ID:       9fa5e077-8193-4ffb-bb28-6c8a9652c04d
   :DRILL_LAST_INTERVAL: 8.8569
   :DRILL_REPEATS_SINCE_FAIL: 3
   :DRILL_TOTAL_REPEATS: 9
   :DRILL_FAILURE_COUNT: 4
   :DRILL_AVERAGE_QUALITY: 2.444
   :DRILL_EASE: 2.18
   :DRILL_LAST_QUALITY: 4
   :DRILL_LAST_REVIEWED: [2022-01-03 Mon 07:54]
   :END:

   For code deploy

*** what is name of  Setting that controls rate of deployment (e.g. Canary)
 Deployment Configuration
   - also e.g. number of instances that must be healthy

** Question  :drill:
Two sam commands to deploy code from PC to cloud
*** Answer:
sam package
sam deploy

** Question  :drill:
What does `sam publish` do?
*** Answer:
Puts sam template in a repo (the AWS Serverless Repo)


** Clouformation helper scripts                               :drill:
What are the 4 clouformation helper scripts
*** Answer:


cfn-init: Use to retrieve and interpret resource metadata, install
packages, create files, and start services.

cfn-signal: Use to signal with a CreationPolicy or WaitCondition, so
you can synchronize other resources in the stack when the prerequisite
resource or application is ready.

cfn-get-metadata: Use to retrieve metadata for a resource or path to a
specific key.

cfn-hup: Use to check for updates to metadata and execute custom hooks
when changes are detected.

acronym: ismg

** Question  :drill:
Step Functions vs SWF -- Which has visual workflows
*** Answer:
Step function


** Question  :drill:
SWF vs Step functions -- what is nature of the programming you provide?
*** Answer:
SWF -- you write "deciders" in java
Step functions -- declarative json

** Question  :drill:
Step functions provides [serverless orchestration] for modern workflows

** Question  :drill:
AWS Secrets manager -- how can does it rotate secrets
*** Answer:
For some AWS databases, it's built in
for others there is a lambda function you customize

Use the generic rotation function template to rotate secrets. Before
you enable rotation for a secret for another database or service, you
must create the code for the Lambda rotation function.

** S3 select                                                  :drill:
What formats can s3 select process
*** Answer:
    CSV, JSON, and Parquet - Objects must be in CSV, JSON, or Parquet format.
    UTF-8 - UTF-8 is the only encoding type Amazon S3 Select supports.
    GZIP or BZIP2 - CSV and JSON files can be compressed using GZIP or BZIP2.


** Dynamo GSI consistency                                     :drill:
Querying global secondary index, can you specify strong consistency?
*** Answer:
No, evenutal only.

 - In general, you should use global secondary indexes rather than local
secondary indexes. The exception is when you need strong consistency
in your query results, which a local secondary index can provide but a
global secondary index cannot

** Dynamo GSI thruput                                         :drill:
Does a GSI share the main table's provisioned WCU/RCUs?

*** Answer:

 A global secondary index has no size limitations and has its own
 provisioned throughput settings for read and write activity that are
 separate from those of the table.

** Global Secondary index                                             :drill:
WCU consideratios when using GSIs in Dynamo DB
*** Answer:
Provisioned WCU should be at least as high as base because writing to
base entails writing to GSI

** GSI Storage space Dyanmo                                           :drill:
How does a GSI effect storage
*** Answer:
When an application writes an item to a table, DynamoDB automatically
copies the correct subset of attributes to any global secondary
indexes in which those attributes should appear.

The amount of space used by an index item is the sum of the following:

    The size in bytes of the base table primary key (partition key and sort key)

    The size in bytes of the index key attribute

    The size in bytes of the projected attributes (if any)

    100 bytes of overhead per index item

To estimate the storage requirements for a global secondary index, you
can estimate the average size of an item in the index and then
multiply by the number of items in the base table that have the global
secondary index key attributes.



** CloudFormation bad deploy                                          :drill:
What feature is invoked if CF deploy goes wrong
*** Answer:
cloud formation Rollback trigger

CloudFormation monitors the specified alarms during the stack create
or update operation, and for the specified amount of time after all
resources have been deployed. If any of the alarms goes to ALARM state
during the stack operation or the monitoring period, CloudFormation
rolls back the entire stack operation.


** Question  :drill:
The [AWS Flow Framework] lets developers use asynchronous programming in the development of their
SWF applications.
*** Answer:
answer here



   
** Dev env                                                            :drill:
   SCHEDULED: <2022-01-26 Wed>
   :PROPERTIES:
   :ID:       0a1340d7-33a4-45b0-adb4-05fa7f4ebbfc
   :DRILL_LAST_INTERVAL: 29.7131
   :DRILL_REPEATS_SINCE_FAIL: 4
   :DRILL_TOTAL_REPEATS: 3
   :DRILL_FAILURE_COUNT: 0
   :DRILL_AVERAGE_QUALITY: 4.667
   :DRILL_EASE: 2.7
   :DRILL_LAST_QUALITY: 4
   :DRILL_LAST_REVIEWED: [2021-12-27 Mon 20:47]
   :END:
     
 What development environment 

*** lets developer build + test in local environment?
  SAM
  It is an opensource framework

** Name it                                                            :drill:
   SCHEDULED: <2022-01-27 Thu>
   :PROPERTIES:
   :ID:       e2f56953-672a-4edd-8042-ce75a1a42477
   :DRILL_LAST_INTERVAL: 30.7556
   :DRILL_REPEATS_SINCE_FAIL: 4
   :DRILL_TOTAL_REPEATS: 3
   :DRILL_FAILURE_COUNT: 0
   :DRILL_AVERAGE_QUALITY: 5.0
   :DRILL_EASE: 2.8
   :DRILL_LAST_QUALITY: 5
   :DRILL_LAST_REVIEWED: [2021-12-27 Mon 20:32]
   :END:

  What gives you chef and puppet

*** name it
  Opsworks

**  What sections are required in a cloud formation template?         :drill:
   :PROPERTIES:
   :ID:       64885ca6-19d4-4045-8612-76b407687166
   :END:

*** they are
  Resources - only

*** except
    in SAM, tranform is required

    
** CloudFormation memorize                                            :drill:
   SCHEDULED: <2022-01-13 Thu>
   :PROPERTIES:
   :ID:       c9ae9588-0b84-4376-8e7e-8cf019c4eb7a
   :DRILL_LAST_INTERVAL: 17.091
   :DRILL_REPEATS_SINCE_FAIL: 4
   :DRILL_TOTAL_REPEATS: 8
   :DRILL_FAILURE_COUNT: 4
   :DRILL_AVERAGE_QUALITY: 2.375
   :DRILL_EASE: 2.08
   :DRILL_LAST_QUALITY: 4
   :DRILL_LAST_REVIEWED: [2021-12-27 Mon 20:30]
   :END:
  Memorize - 

*** sections of a cloudformation template
  Metadata * Parameters * Rules * Mappings * Condition * Transform * Resources * Outputs

** Cloud formation SAM 
  What is required in 

*** SAM CF template and not other CFtemplates?
   Tranform -- because that is where the version of SAM is specified

   
** Tell me                                                   :drill:practice:
   SCHEDULED: <2022-01-12 Wed>
   :PROPERTIES:
   :ID:       2675f3d1-eb12-47b7-bac4-012114ae49f4
   :DRILL_LAST_INTERVAL: 19.2482
   :DRILL_REPEATS_SINCE_FAIL: 4
   :DRILL_TOTAL_REPEATS: 5
   :DRILL_FAILURE_COUNT: 2
   :DRILL_AVERAGE_QUALITY: 2.6
   :DRILL_EASE: 2.08
   :DRILL_LAST_QUALITY: 3
   :DRILL_LAST_REVIEWED: [2021-12-24 Fri 11:00]
   :END:
   Two things you need 

*** to create a lambda function from the cli
    A deployment package and an execution role

** Lamda config pkgs                                                  :drill:
   SCHEDULED: <2022-01-18 Tue>
   :PROPERTIES:
   :ID:       eadfd751-b307-4574-9ec4-f8791946cca8
   :DRILL_LAST_INTERVAL: 11.592
   :DRILL_REPEATS_SINCE_FAIL: 3
   :DRILL_TOTAL_REPEATS: 8
   :DRILL_FAILURE_COUNT: 3
   :DRILL_AVERAGE_QUALITY: 3.75
   :DRILL_EASE: 2.9
   :DRILL_LAST_QUALITY: 5
   :DRILL_LAST_REVIEWED: [2022-01-06 Thu 08:37]
   :END:
    
    Lambda supports two types of deployment packages: [container images] and [.zip file archives].
    
***    bonus
    the console automatically makes a zip version
    container images come from  ECR

** MPU - rule of thumb                                                :drill:
   SCHEDULED: <2022-01-24 Mon>
   :PROPERTIES:
   :ID:       574aa5a9-0853-4ce0-bd17-eabeb2ee4062
   :DRILL_LAST_INTERVAL: 27.7286
   :DRILL_REPEATS_SINCE_FAIL: 4
   :DRILL_TOTAL_REPEATS: 3
   :DRILL_FAILURE_COUNT: 0
   :DRILL_AVERAGE_QUALITY: 4.333
   :DRILL_EASE: 2.6
   :DRILL_LAST_QUALITY: 4
   :DRILL_LAST_REVIEWED: [2021-12-27 Mon 20:42]
   :END:
     Object size where you should start considering multi-part upload

*** the size
     100 Meg

** Multipart upload advantages                                        :drill:
   :PROPERTIES:
   :ID:       d4d61d7d-3a8b-4d01-9ac9-7f683b76a385
   :END:

*** name 4
       - pause and resume
       - recover from network interruptios
       - thruput increase from parallelization
       - can start upload while file is still being created


** transfer acceleration                                              :drill:
   SCHEDULED: <2022-01-15 Sat>
   :PROPERTIES:
   :ID:       79decd39-d32a-438d-b8a4-082e24986ac3
   :DRILL_LAST_INTERVAL: 9.648
   :DRILL_REPEATS_SINCE_FAIL: 3
   :DRILL_TOTAL_REPEATS: 5
   :DRILL_FAILURE_COUNT: 2
   :DRILL_AVERAGE_QUALITY: 3.0
   :DRILL_EASE: 2.36
   :DRILL_LAST_QUALITY: 3
   :DRILL_LAST_REVIEWED: [2022-01-05 Wed 07:14]
   :END:
   describe 

*** transfer acceleration
    it is bucket level
    thte url ends up looking like dreambucker.s3.accelerate.amazonaws.com

    Transfer Acceleration takes advantage of the globally distributed
    edge locations in Amazon CloudFront. As the data arrives at an
    edge location, the data is routed to Amazon S3 over an optimized
    network path.

** Bucket names                                                       :drill:
   SCHEDULED: <2022-01-21 Fri>
   :PROPERTIES:
   :ID:       ed3a0cdb-a74c-4f28-b75c-8e33cdd17933
   :DRILL_LAST_INTERVAL: 24.9136
   :DRILL_REPEATS_SINCE_FAIL: 4
   :DRILL_TOTAL_REPEATS: 3
   :DRILL_FAILURE_COUNT: 0
   :DRILL_AVERAGE_QUALITY: 3.667
   :DRILL_EASE: 2.32
   :DRILL_LAST_QUALITY: 3
   :DRILL_LAST_REVIEWED: [2021-12-27 Mon 20:33]
   :END:
      Restriction on bucket names for Transfer acceleration
*** name 2
       - no dots
       - DNS compliant

** Elasticache strategies                                             :drill:
   SCHEDULED: <2022-01-26 Wed>
   :PROPERTIES:
   :ID:       7a6d284e-d9df-4baf-8408-995210a5cbbd
   :DRILL_LAST_INTERVAL: 24.048
   :DRILL_REPEATS_SINCE_FAIL: 4
   :DRILL_TOTAL_REPEATS: 7
   :DRILL_FAILURE_COUNT: 2
   :DRILL_AVERAGE_QUALITY: 3.428
   :DRILL_EASE: 2.46
   :DRILL_LAST_QUALITY: 4
   :DRILL_LAST_REVIEWED: [2022-01-02 Sun 16:10]
   :END:
       drawbacks lazy loading (elasticache)

*** name 2
       - cache miss penalty
       - stale data -- IF you only refresh when there is a miss

** Elasticache strategies                                             :drill:
   SCHEDULED: <2022-01-25 Tue>
   :PROPERTIES:
   :ID:       f180ad1c-80e3-4689-95c7-74dd3e8addc3
   :DRILL_LAST_INTERVAL: 28.7036
   :DRILL_REPEATS_SINCE_FAIL: 4
   :DRILL_TOTAL_REPEATS: 3
   :DRILL_FAILURE_COUNT: 0
   :DRILL_AVERAGE_QUALITY: 4.667
   :DRILL_EASE: 2.7
   :DRILL_LAST_QUALITY: 5
   :DRILL_LAST_REVIEWED: [2021-12-27 Mon 20:42]
   :END:
      What is write-thru

*** describe it
      elasticache strategy, contrast with lazy loading -- db writes mean cache writes, no stale data

** Elasticache strategies                                             :drill:
   SCHEDULED: <2022-01-21 Fri>
   :PROPERTIES:
   :ID:       6e2b0d9c-7327-4bd2-a6e8-13991bc99963
   :DRILL_LAST_INTERVAL: 24.9136
   :DRILL_REPEATS_SINCE_FAIL: 4
   :DRILL_TOTAL_REPEATS: 5
   :DRILL_FAILURE_COUNT: 2
   :DRILL_AVERAGE_QUALITY: 2.8
   :DRILL_EASE: 2.32
   :DRILL_LAST_QUALITY: 3
   :DRILL_LAST_REVIEWED: [2021-12-27 Mon 06:48]
   :END:
      The penalties for Lazy Loading and Write-thru

*** name 2
	LL: cache-miss penalty   WT: write penalty

** Elasticache strategies                                             :drill:
   SCHEDULED: <2022-01-12 Wed>
   :PROPERTIES:
   :ID:       049819f4-1538-4ea9-8372-c5c47860c568
   :DRILL_LAST_INTERVAL: 19.2482
   :DRILL_REPEATS_SINCE_FAIL: 4
   :DRILL_TOTAL_REPEATS: 5
   :DRILL_FAILURE_COUNT: 2
   :DRILL_AVERAGE_QUALITY: 2.6
   :DRILL_EASE: 2.08
   :DRILL_LAST_QUALITY: 3
   :DRILL_LAST_REVIEWED: [2021-12-24 Fri 10:40]
   :END:
      Elasticache write thru disadvantages

*** name 2
	- cache churn
	- missing data (if a new node is brought up e.g. after failure and only gets data on write)

** stage variables                                                    :drill:
   SCHEDULED: <2022-01-16 Sun>
   :PROPERTIES:
   :ID:       36595f75-eb9d-45da-9d20-8fe59601a4c4
   :DRILL_LAST_INTERVAL: 22.7451
   :DRILL_REPEATS_SINCE_FAIL: 4
   :DRILL_TOTAL_REPEATS: 3
   :DRILL_FAILURE_COUNT: 0
   :DRILL_AVERAGE_QUALITY: 4.0
   :DRILL_EASE: 2.46
   :DRILL_LAST_QUALITY: 5
   :DRILL_LAST_REVIEWED: [2021-12-24 Fri 10:38]
   :END:
      What service has "Stage Variable"

*** which?
       - API Gateway

** lamda layers                                                       :drill:
   SCHEDULED: <2022-01-26 Wed>
   :PROPERTIES:
   :ID:       6321e006-64ef-4809-8ff3-0606a2031ef5
   :DRILL_LAST_INTERVAL: 29.7131
   :DRILL_REPEATS_SINCE_FAIL: 4
   :DRILL_TOTAL_REPEATS: 3
   :DRILL_FAILURE_COUNT: 0
   :DRILL_AVERAGE_QUALITY: 4.667
   :DRILL_EASE: 2.7
   :DRILL_LAST_QUALITY: 4
   :DRILL_LAST_REVIEWED: [2021-12-27 Mon 20:34]
   :END:

      Generally speaking, what is in a lambda layer

*** what
       dependencies

** lambda alias                                                       :drill:
   SCHEDULED: <2022-01-23 Sun>
   :PROPERTIES:
   :ID:       d43387c7-34a4-4e51-8ff7-cc0a5a723e5d
   :DRILL_LAST_INTERVAL: 26.791
   :DRILL_REPEATS_SINCE_FAIL: 4
   :DRILL_TOTAL_REPEATS: 3
   :DRILL_FAILURE_COUNT: 0
   :DRILL_AVERAGE_QUALITY: 4.333
   :DRILL_EASE: 2.6
   :DRILL_LAST_QUALITY: 4
   :DRILL_LAST_REVIEWED: [2021-12-27 Mon 20:33]
   :END:
      What is

*** a lambda alias?


	  A pointer to a specific lambda version

** Configure rest API                                                 :drill:
   SCHEDULED: <2022-01-23 Sun>
   :PROPERTIES:
   :ID:       00cdf927-5064-4a56-8796-b1e6b97655ac
   :DRILL_LAST_INTERVAL: 18.3527
   :DRILL_REPEATS_SINCE_FAIL: 4
   :DRILL_TOTAL_REPEATS: 9
   :DRILL_FAILURE_COUNT: 4
   :DRILL_AVERAGE_QUALITY: 2.667
   :DRILL_EASE: 2.08
   :DRILL_LAST_QUALITY: 4
   :DRILL_LAST_REVIEWED: [2022-01-05 Wed 07:15]
   :END:

       [Stage variables] are name-value pairs that you can define as
       [configuration attributes] associated with a deployment stage
       of a REST API.

***        Bonus
	 configuration is key -- setting for a specific environment
	 They are part of API Gateway
 
** Using stage vars                                  :practice:suspect:drill:
   SCHEDULED: <2022-01-11 Tue>
   :PROPERTIES:
   :ID:       fb2b54d4-d479-47aa-90c8-2eb5ca9d69b9
   :DRILL_LAST_INTERVAL: 8.2681
   :DRILL_REPEATS_SINCE_FAIL: 3
   :DRILL_TOTAL_REPEATS: 8
   :DRILL_FAILURE_COUNT: 3
   :DRILL_AVERAGE_QUALITY: 2.75
   :DRILL_EASE: 2.08
   :DRILL_LAST_QUALITY: 4
   :DRILL_LAST_REVIEWED: [2022-01-03 Mon 07:53]
   :END:

	 Should you 

*** use API Gateway Stage Variable for passwords?
	  No use Lambda authorizer

** Gatway secrets                                                     :drill:
   SCHEDULED: <2022-01-16 Sun>
   :PROPERTIES:
   :ID:       cc3b71f1-be50-4769-a8a6-30be78ac540a
   :DRILL_LAST_INTERVAL: 22.4605
   :DRILL_REPEATS_SINCE_FAIL: 4
   :DRILL_TOTAL_REPEATS: 4
   :DRILL_FAILURE_COUNT: 1
   :DRILL_AVERAGE_QUALITY: 3.0
   :DRILL_EASE: 2.22
   :DRILL_LAST_QUALITY: 3
   :DRILL_LAST_REVIEWED: [2021-12-25 Sat 09:19]
   :END:
   You validate tokens in api gateway with  [lambda authorizer]
   
** secrets                                                            :drill:
   SCHEDULED: <2022-01-09 Sun>
   :PROPERTIES:
   :ID:       0ced3ab4-f165-4848-a339-c4247e0283be
   :DRILL_LAST_INTERVAL: 11.0911
   :DRILL_REPEATS_SINCE_FAIL: 3
   :DRILL_TOTAL_REPEATS: 5
   :DRILL_FAILURE_COUNT: 1
   :DRILL_AVERAGE_QUALITY: 3.8
   :DRILL_EASE: 2.7
   :DRILL_LAST_QUALITY: 5
   :DRILL_LAST_REVIEWED: [2021-12-29 Wed 06:47]
   :END:
   What does a 

*** lambda authorizer return, when is it used?
    A lambda autorizer is used by API gateway and returns a string which is a policy document
** API Gateway custom domain                                          :drill:
   SCHEDULED: <2022-01-24 Mon>
   :PROPERTIES:
   :ID:       04f44086-e6d0-41b1-8227-92abdb250964
   :DRILL_LAST_INTERVAL: 26.791
   :DRILL_REPEATS_SINCE_FAIL: 4
   :DRILL_TOTAL_REPEATS: 5
   :DRILL_FAILURE_COUNT: 1
   :DRILL_AVERAGE_QUALITY: 3.6
   :DRILL_EASE: 2.6
   :DRILL_LAST_QUALITY: 4
   :DRILL_LAST_REVIEWED: [2021-12-28 Tue 22:45]
   :END:
	  Drawback to not using a path on Custom domain for API Gateway
*** drawback
	  You can't set version if you do like api.mydomain.biz with no path


** API gateway basics                                                 :drill:
   SCHEDULED: <2022-01-28 Fri>
   :PROPERTIES:
   :ID:       9272e160-7acc-4e14-8f6d-4c3eff115d0c
   :DRILL_LAST_INTERVAL: 24.9033
   :DRILL_REPEATS_SINCE_FAIL: 4
   :DRILL_TOTAL_REPEATS: 5
   :DRILL_FAILURE_COUNT: 1
   :DRILL_AVERAGE_QUALITY: 3.2
   :DRILL_EASE: 2.32
   :DRILL_LAST_QUALITY: 3
   :DRILL_LAST_REVIEWED: [2022-01-03 Mon 07:50]
   :END:
	  API gateway supports 

*** three basic things:

	   Creating, deploying, and managing a RESTful application programming interface (API)
	       to expose backend HTTP endpoints, AWS Lambda functions, or other AWS services.
	   Creating, deploying, and managing a WebSocket API
	       to expose AWS Lambda functions or other AWS services.
	   Invoking exposed API methods through the frontend HTTP and WebSocket endpoints.


** API Gateway endpoints                                              :drill:
   :PROPERTIES:
   :ID:       b08471f7-8e3e-4d21-b940-7e9d2467927f
   :END:

*** 	   Three types of Gateway API endpoints
	     - Edge-optimized
	     - regional  (for clients in region, e.g. customer's own ec2)
	     - private (inside VPC)
** Lambda limits
   lambda default and max execution time limits
*** Default/max
    3 seconds / 900 seconds
** Gateway API non-public                                             :drill:
   SCHEDULED: <2022-01-09 Sun>
   :PROPERTIES:
   :ID:       b8fb54e8-1ae8-4300-9bd5-6435b5c2c56e
   :DRILL_LAST_INTERVAL: 3.86
   :DRILL_REPEATS_SINCE_FAIL: 2
   :DRILL_TOTAL_REPEATS: 10
   :DRILL_FAILURE_COUNT: 5
   :DRILL_AVERAGE_QUALITY: 2.5
   :DRILL_EASE: 2.08
   :DRILL_LAST_QUALITY: 3
   :DRILL_LAST_REVIEWED: [2022-01-05 Wed 21:41]
   :END:
	      
 Name two kinds of  API endpoints for use by customer's own clients?
*** The name
	    either regional or private
	       -- private means inside VPC,
	       =-- regional just means other resources of customer in same region can call it
	       
** VTL identify                                              :drill:practice:
   SCHEDULED: <2022-01-13 Thu>
   :PROPERTIES:
   :ID:       80fc2e1a-b6c4-4952-82d8-b7742bf90202
   :DRILL_LAST_INTERVAL: 19.9491
   :DRILL_REPEATS_SINCE_FAIL: 4
   :DRILL_TOTAL_REPEATS: 4
   :DRILL_FAILURE_COUNT: 1
   :DRILL_AVERAGE_QUALITY: 2.75
   :DRILL_EASE: 2.22
   :DRILL_LAST_QUALITY: 4
   :DRILL_LAST_REVIEWED: [2021-12-24 Fri 10:46]
   :END:
	    What scripting language is VTL?  

*** What service?
	     Velocity Template, associated with API Gateway.  Transforms requests from frontend format to backend format

** API Gateway without backend                                        :drill:
   SCHEDULED: <2022-01-12 Wed>
:PROPERTIES:
:DRILL_CARD_TYPE: hide1cloze
:ID:       d689335d-51be-4deb-a619-e85a0244af27
:DRILL_LAST_INTERVAL: 19.2482
:DRILL_REPEATS_SINCE_FAIL: 4
:DRILL_TOTAL_REPEATS: 3
:DRILL_FAILURE_COUNT: 0
:DRILL_AVERAGE_QUALITY: 3.0
:DRILL_EASE: 2.08
:DRILL_LAST_QUALITY: 3
:DRILL_LAST_REVIEWED: [2021-12-24 Fri 10:48]
:END:

	     In a [mock integration], API responses are generated from [API Gateway directly], without the need for an integration backend.
** API Gateway API provision                                          :drill:
   SCHEDULED: <2022-01-28 Fri>
:PROPERTIES:
:DRILL_CARD_TYPE: hide1cloze
:ID:       493d0bb9-0aa0-46cc-b952-e58609439406
:DRILL_LAST_INTERVAL: 26.791
:DRILL_REPEATS_SINCE_FAIL: 4
:DRILL_TOTAL_REPEATS: 5
:DRILL_FAILURE_COUNT: 1
:DRILL_AVERAGE_QUALITY: 3.6
:DRILL_EASE: 2.6
:DRILL_LAST_QUALITY: 4
:DRILL_LAST_REVIEWED: [2022-01-01 Sat 18:39]
:END:

	      A [model] is required for generating a [strongly typed SDK] of an API.  (Gateway API)

** API Gateway's internal interface                                   :drill:
   SCHEDULED: <2022-01-19 Wed>
   :PROPERTIES:
   :ID:       620877c4-ee32-473f-9bbf-f2142224cf7e
   :DRILL_LAST_INTERVAL: 24.0576
   :DRILL_REPEATS_SINCE_FAIL: 4
   :DRILL_TOTAL_REPEATS: 3
   :DRILL_FAILURE_COUNT: 0
   :DRILL_AVERAGE_QUALITY: 4.0
   :DRILL_EASE: 2.46
   :DRILL_LAST_QUALITY: 4
   :DRILL_LAST_REVIEWED: [2021-12-26 Sun 08:31]
   :END:
  What's this: he internal interface of a WebSocket API route or REST
  API method in API Gateway, in which you map the body of a route
  request or the parameters and body of a method request to the
  formats required by the backend.

*** it is

	      An integration request
** API Gateway's internal intervace                                   :drill:
   SCHEDULED: <2022-01-31 Mon>
   :PROPERTIES:
   :ID:       ef50f701-d6aa-43de-b0d9-9aaae7f76082
   :DRILL_LAST_INTERVAL: 31.8327
   :DRILL_REPEATS_SINCE_FAIL: 4
   :DRILL_TOTAL_REPEATS: 5
   :DRILL_FAILURE_COUNT: 1
   :DRILL_AVERAGE_QUALITY: 4.2
   :DRILL_EASE: 2.8
   :DRILL_LAST_QUALITY: 5
   :DRILL_LAST_REVIEWED: [2021-12-30 Thu 07:02]
   :END:
      What's this: The internal interface of a WebSocket API route or
      REST API method in API Gateway, in which you map the status
      codes, headers, and payload that are received from the backend
      to the response format that is returned to a client app.
*** it is 

	      And integration response
** API Gateway distinguish integration request/response               :drill:
   SCHEDULED: <2022-01-20 Thu>
   :PROPERTIES:
   :ID:       7353bad1-a440-4091-95da-923b8a3e7027
   :DRILL_LAST_INTERVAL: 25.88
   :DRILL_REPEATS_SINCE_FAIL: 4
   :DRILL_TOTAL_REPEATS: 4
   :DRILL_FAILURE_COUNT: 1
   :DRILL_AVERAGE_QUALITY: 3.75
   :DRILL_EASE: 2.6
   :DRILL_LAST_QUALITY: 5
   :DRILL_LAST_REVIEWED: [2021-12-25 Sat 09:17]
   :END:
	      Api gateway: integration request vs integration response
*** distinction
	      integration request - maps request data to format needed by backend
	      integration response - map the backend result to a response the client can use

** Creating HTTP API                                                  :drill:
   SCHEDULED: <2022-01-25 Tue>
   :PROPERTIES:
   :ID:       d8db47d0-7151-4b72-b0b9-92ce4d087f74
   :DRILL_LAST_INTERVAL: 18.0052
   :DRILL_REPEATS_SINCE_FAIL: 4
   :DRILL_TOTAL_REPEATS: 9
   :DRILL_FAILURE_COUNT: 4
   :DRILL_AVERAGE_QUALITY: 2.667
   :DRILL_EASE: 2.04
   :DRILL_LAST_QUALITY: 3
   :DRILL_LAST_REVIEWED: [2022-01-07 Fri 08:19]
   :END:
	      You can use [quick create] to simplify creating an HTTP API.

** Grant permissions API Gateway 	      
	      What lets you allocate certain permissions to given API clients?  (API gateway)

*** what?
	      A usage plan

** API Stage Variable                                                 :drill:
   SCHEDULED: <2022-01-27 Thu>
   :PROPERTIES:
   :ID:       030b1082-366d-425d-8893-531a34e01c05
   :DRILL_LAST_INTERVAL: 30.7556
   :DRILL_REPEATS_SINCE_FAIL: 4
   :DRILL_TOTAL_REPEATS: 3
   :DRILL_FAILURE_COUNT: 0
   :DRILL_AVERAGE_QUALITY: 5.0
   :DRILL_EASE: 2.8
   :DRILL_LAST_QUALITY: 5
   :DRILL_LAST_REVIEWED: [2021-12-27 Mon 20:38]
   :END:
	      Api stage variable are like [environment variables]

	      
** SAM reusable components                                            :drill:
   SCHEDULED: <2022-01-24 Mon>
   :PROPERTIES:
   :ID:       b965fcfb-654b-46c4-ae90-319463d47b0f
   :DRILL_LAST_INTERVAL: 17.7133
   :DRILL_REPEATS_SINCE_FAIL: 4
   :DRILL_TOTAL_REPEATS: 7
   :DRILL_FAILURE_COUNT: 2
   :DRILL_AVERAGE_QUALITY: 2.857
   :DRILL_EASE: 2.08
   :DRILL_LAST_QUALITY: 3
   :DRILL_LAST_REVIEWED: [2022-01-06 Thu 08:34]
   :END:
	      In SAM a common pattern of components that can be included  in templates is a [nested application]


	      
**  How do you recover dtaa keys from KMS                    :drill:practice:
   SCHEDULED: <2022-01-14 Fri>
   :PROPERTIES:
   :ID:       bb3f0f54-7c55-4937-a40b-ce27b468c322
   :DRILL_LAST_INTERVAL: 19.9491
   :DRILL_REPEATS_SINCE_FAIL: 4
   :DRILL_TOTAL_REPEATS: 3
   :DRILL_FAILURE_COUNT: 0
   :DRILL_AVERAGE_QUALITY: 3.333
   :DRILL_EASE: 2.22
   :DRILL_LAST_QUALITY: 4
   :DRILL_LAST_REVIEWED: [2021-12-25 Sat 08:49]
   :END:
How do you 

*** recover dtaa keys from KMS
    Data keys not retained by KMS -- it creates the keys and stores an encrypted copy of the key with the data.
   
** xray annotations                                                   :drill:
   :PROPERTIES:
   :ID:       d2cae291-7102-4fa3-9dd1-0a707ad65577
   :END:

**  distinguish between                                               :drill:
   SCHEDULED: <2022-01-21 Fri>
   :PROPERTIES:
   :ID:       9a41e787-ba5a-4721-83ca-3ce776c9a742
   :DRILL_LAST_INTERVAL: 26.791
   :DRILL_REPEATS_SINCE_FAIL: 4
   :DRILL_TOTAL_REPEATS: 3
   :DRILL_FAILURE_COUNT: 0
   :DRILL_AVERAGE_QUALITY: 4.333
   :DRILL_EASE: 2.6
   :DRILL_LAST_QUALITY: 4
   :DRILL_LAST_REVIEWED: [2021-12-25 Sat 15:33]
   :END:
distinguish
*** annotations and metadata for xray

    annotations are indexed for search, metadata isn't
    both are key/value pairs
** formal def                                                         :drill:
   SCHEDULED: <2022-01-30 Sun>
   :PROPERTIES:
   :ID:       2c5ebc84-6ad1-4905-b320-2d9201684bbf
   :DRILL_LAST_INTERVAL: 30.7556
   :DRILL_REPEATS_SINCE_FAIL: 4
   :DRILL_TOTAL_REPEATS: 5
   :DRILL_FAILURE_COUNT: 1
   :DRILL_AVERAGE_QUALITY: 4.0
   :DRILL_EASE: 2.8
   :DRILL_LAST_QUALITY: 5
   :DRILL_LAST_REVIEWED: [2021-12-30 Thu 07:01]
   :END:
  What does dynamos streams capture
*** it captures
  Time ordered item level modifications
** xray                                                               :drill:
   SCHEDULED: <2022-01-22 Sat>
   :PROPERTIES:
   :ID:       9a7414a1-fa1b-4c47-9304-f2bcaa23e894
   :DRILL_LAST_INTERVAL: 27.733
   :DRILL_REPEATS_SINCE_FAIL: 4
   :DRILL_TOTAL_REPEATS: 3
   :DRILL_FAILURE_COUNT: 0
   :DRILL_AVERAGE_QUALITY: 4.667
   :DRILL_EASE: 2.7
   :DRILL_LAST_QUALITY: 5
   :DRILL_LAST_REVIEWED: [2021-12-25 Sat 09:24]
   :END:
  How are 
***  x-ray annotations used
    For use with filter expressions.
    Also for grouping data and console or API
** define                                                             :drill:
   SCHEDULED: <2022-01-20 Thu>
   :PROPERTIES:
   :ID:       8a8dfae6-5f9c-46a7-93af-dc61b6561de2
   :DRILL_LAST_INTERVAL: 19.9491
   :DRILL_REPEATS_SINCE_FAIL: 4
   :DRILL_TOTAL_REPEATS: 6
   :DRILL_FAILURE_COUNT: 2
   :DRILL_AVERAGE_QUALITY: 2.667
   :DRILL_EASE: 2.22
   :DRILL_LAST_QUALITY: 4
   :DRILL_LAST_REVIEWED: [2021-12-31 Fri 15:55]
   :END:
  What is a 
*** gateway endpoint - 3 items
  It enables a private subnet to read and write  either S3  or Dynamo
  No internet
  It is a VPC feature
** Keys                                                               :drill:
   SCHEDULED: <2022-01-22 Sat>
   :PROPERTIES:
   :ID:       2b9b2239-3b74-4633-9770-9f47d9042713
   :DRILL_LAST_INTERVAL: 24.12
   :DRILL_REPEATS_SINCE_FAIL: 4
   :DRILL_TOTAL_REPEATS: 5
   :DRILL_FAILURE_COUNT: 1
   :DRILL_AVERAGE_QUALITY: 3.4
   :DRILL_EASE: 2.36
   :DRILL_LAST_QUALITY: 3
   :DRILL_LAST_REVIEWED: [2021-12-29 Wed 06:45]
   :END:

  What type of keys 
*** allow for an audit trail?
   KMS key management service customer master keys
** lambda tmp                                                         :drill:
   SCHEDULED: <2022-01-26 Wed>
   :PROPERTIES:
   :ID:       1df0e1f8-355c-49c3-a5bf-5fe6b3b51c57
   :DRILL_LAST_INTERVAL: 29.7131
   :DRILL_REPEATS_SINCE_FAIL: 4
   :DRILL_TOTAL_REPEATS: 3
   :DRILL_FAILURE_COUNT: 0
   :DRILL_AVERAGE_QUALITY: 4.667
   :DRILL_EASE: 2.7
   :DRILL_LAST_QUALITY: 4
   :DRILL_LAST_REVIEWED: [2021-12-27 Mon 20:37]
   :END:
   
   What is typically stored in /temp for lambda
*** typically:
   Database connection
** Dyanamo                                                            :drill:
   SCHEDULED: <2022-01-26 Wed>
   :PROPERTIES:
   :ID:       5c09e814-669a-4e43-9a03-ed241809d4ce
   :DRILL_LAST_INTERVAL: 29.7131
   :DRILL_REPEATS_SINCE_FAIL: 4
   :DRILL_TOTAL_REPEATS: 3
   :DRILL_FAILURE_COUNT: 0
   :DRILL_AVERAGE_QUALITY: 4.667
   :DRILL_EASE: 2.7
   :DRILL_LAST_QUALITY: 4
   :DRILL_LAST_REVIEWED: [2021-12-27 Mon 20:39]
   :END:
   How to make dynamo DB acid
*** ACID feature is called
   Transactions
** Dyanmo
   In dynamodb what types 
*** of access can be eventually consistent?
    Reads
** Cloud Formation                                                    :drill:
   SCHEDULED: <2022-01-26 Wed>
   :PROPERTIES:
   :ID:       d3cb572b-744b-4764-859b-4e7fb1c5b994
   :DRILL_LAST_INTERVAL: 24.8862
   :DRILL_REPEATS_SINCE_FAIL: 4
   :DRILL_TOTAL_REPEATS: 6
   :DRILL_FAILURE_COUNT: 2
   :DRILL_AVERAGE_QUALITY: 3.167
   :DRILL_EASE: 2.56
   :DRILL_LAST_QUALITY: 5
   :DRILL_LAST_REVIEWED: [2022-01-01 Sat 18:23]
   :END:

    How to set values in cloud formation to vary by region (like env vars)
*** use the feature
    With mappings.  Takes region as key to lookup
*** Bonus
    FindInMap intrinsic fiunction
**  What is the CloudFormation 'output' section for?                  :drill:
   SCHEDULED: <2022-01-18 Tue>
   :PROPERTIES:
   :ID:       3dc4ebc0-1559-4019-ac40-5a15385d763c
   :DRILL_LAST_INTERVAL: 24.12
   :DRILL_REPEATS_SINCE_FAIL: 4
   :DRILL_TOTAL_REPEATS: 3
   :DRILL_FAILURE_COUNT: 0
   :DRILL_AVERAGE_QUALITY: 3.667
   :DRILL_EASE: 2.36
   :DRILL_LAST_QUALITY: 3
   :DRILL_LAST_REVIEWED: [2021-12-25 Sat 09:19]
   :END:
   "output"
***  is for
     Cross stack data, returning Val's
**   How to control page size on dynamodb                             :drill:
   SCHEDULED: <2022-01-24 Mon>
   :PROPERTIES:
   :ID:       5aa9bbcb-728e-4585-b05d-27e72786249c
   :DRILL_LAST_INTERVAL: 27.7286
   :DRILL_REPEATS_SINCE_FAIL: 4
   :DRILL_TOTAL_REPEATS: 3
   :DRILL_FAILURE_COUNT: 0
   :DRILL_AVERAGE_QUALITY: 4.333
   :DRILL_EASE: 2.6
   :DRILL_LAST_QUALITY: 4
   :DRILL_LAST_REVIEWED: [2021-12-27 Mon 20:34]
   :END:
   in dynamo db 
*** set page size with 
     With limit keyword
**  Dynamo                                       :suspect:drill:
   SCHEDULED: <2022-01-12 Wed>
   :PROPERTIES:
   :ID:       c61beff0-11ec-4224-a074-3143d2cddd22
   :DRILL_LAST_INTERVAL: 19.2482
   :DRILL_REPEATS_SINCE_FAIL: 4
   :DRILL_TOTAL_REPEATS: 3
   :DRILL_FAILURE_COUNT: 0
   :DRILL_AVERAGE_QUALITY: 3.0
   :DRILL_EASE: 2.08
   :DRILL_LAST_QUALITY: 3
   :DRILL_LAST_REVIEWED: [2021-12-24 Fri 10:59]
   :END:
    a Dynamo Shadow table
*** it is aka  
    Global table or read replica
** Code deploy                                                        :drill:
   SCHEDULED: <2022-01-27 Thu>
   :PROPERTIES:
   :ID:       f54db49c-0a0f-40bf-b405-575e2853d34e
   :DRILL_LAST_INTERVAL: 27.5933
   :DRILL_REPEATS_SINCE_FAIL: 4
   :DRILL_TOTAL_REPEATS: 5
   :DRILL_FAILURE_COUNT: 1
   :DRILL_AVERAGE_QUALITY: 3.8
   :DRILL_EASE: 2.66
   :DRILL_LAST_QUALITY: 5
   :DRILL_LAST_REVIEWED: [2021-12-30 Thu 07:00]
   :END:
   memorization
*** Code deploy: what hooks are there for lambda (2)?  for Ec2 (5)?
    For lambda:
    BeforeAllowTrafffic
    AfterAllowtraffic

    For Ec2:
    BeforeInstall 
    AfterInstall   
    AfterAllowTestTraffic 
    BeforeAllowTraffic
    AfterAllowTraffic



** Cloudwatch metrics                                                 :drill:
   SCHEDULED: <2022-01-17 Mon>
   :PROPERTIES:
:DRILL_CARD_TYPE: hide1cloze
:ID:       e3afd67b-b0fa-4924-ad15-e0a25b03658c
:DRILL_LAST_INTERVAL: 9.624
:DRILL_REPEATS_SINCE_FAIL: 3
:DRILL_TOTAL_REPEATS: 5
:DRILL_FAILURE_COUNT: 1
:DRILL_AVERAGE_QUALITY: 3.2
:DRILL_EASE: 2.32
:DRILL_LAST_QUALITY: 3
:DRILL_LAST_REVIEWED: [2022-01-07 Fri 08:18]
:END:

  For cloudwatch api call [GetMetricStatistics], the maximum number
  of [data points] returned is 1440 from single call

** Cloudwatch metrics                                                 :drill:
   SCHEDULED: <2022-01-13 Thu>
:PROPERTIES:
:DRILL_CARD_TYPE: hide1cloze
:ID:       20d40fa5-d617-451b-a3c0-1cac911309c8
:DRILL_LAST_INTERVAL: 8.2681
:DRILL_REPEATS_SINCE_FAIL: 3
:DRILL_TOTAL_REPEATS: 6
:DRILL_FAILURE_COUNT: 2
:DRILL_AVERAGE_QUALITY: 2.5
:DRILL_EASE: 2.08
:DRILL_LAST_QUALITY: 4
:DRILL_LAST_REVIEWED: [2022-01-05 Wed 21:34]
:END:

  For cloudwatch api call [GetMetricStatistics], [1440]
  is the maximum number of data points returned from a single call
  
** Cloudwatch metrics                                         :drill:
   :PROPERTIES:
   :ID:       c10590d9-10bf-406c-ba89-dc0aa945e1da
   :END:
For the GetMetricStatistics call, what is maximum number of datapoints you
can retrieve?
*** Answer:
1440

    
** how to you include libraries for labmda without a massive deployment package :drill:
   SCHEDULED: <2022-01-31 Mon>
   :PROPERTIES:
   :ID:       25c4f528-a20d-4b56-aa36-95db8f4319f5
   :DRILL_LAST_INTERVAL: 27.733
   :DRILL_REPEATS_SINCE_FAIL: 4
   :DRILL_TOTAL_REPEATS: 3
   :DRILL_FAILURE_COUNT: 0
   :DRILL_AVERAGE_QUALITY: 4.667
   :DRILL_EASE: 2.7
   :DRILL_LAST_QUALITY: 5
   :DRILL_LAST_REVIEWED: [2022-01-03 Mon 07:50]
   :END:
   how
  
*** answer
    layers

** adding a layer                                                     :drill:
   SCHEDULED: <2022-01-11 Tue>
   :PROPERTIES:
   :ID:       6f4bb41f-eac6-484f-b08d-fd898c6a606c
   :DRILL_LAST_INTERVAL: 8.2681
   :DRILL_REPEATS_SINCE_FAIL: 3
   :DRILL_TOTAL_REPEATS: 12
   :DRILL_FAILURE_COUNT: 7
   :DRILL_AVERAGE_QUALITY: 2.0
   :DRILL_EASE: 2.08
   :DRILL_LAST_QUALITY: 4
   :DRILL_LAST_REVIEWED: [2022-01-03 Mon 08:02]
   :END:
   [update-function-configuration] is is the lambda cli call to add a layer
   :PROPERTIES:
   :ID:       cf7dbc72-27b7-4854-bc47-d20b11a29531
   :END:

** limits for mem in lambda                                           :drill:
   SCHEDULED: <2022-01-16 Sun>
   :PROPERTIES:
   :ID:       b39a3bec-32e8-4650-858b-26f57b0b0cd6
   :DRILL_LAST_INTERVAL: 11.0911
   :DRILL_REPEATS_SINCE_FAIL: 3
   :DRILL_TOTAL_REPEATS: 6
   :DRILL_FAILURE_COUNT: 2
   :DRILL_AVERAGE_QUALITY: 3.667
   :DRILL_EASE: 2.7
   :DRILL_LAST_QUALITY: 5
   :DRILL_LAST_REVIEWED: [2022-01-05 Wed 21:33]
   :END:
 what are min/max memory  for lambda func
*** they are...
 default 128 is min and 3008 Meg is max 64 MB incs
 performance scales with memory
 128 is defaul

** lambda limits                                                      :drill:
   SCHEDULED: <2022-01-27 Thu>
   :PROPERTIES:
   :ID:       6b27e5ed-7a62-4f7a-803f-be55ed6d01b6
   :DRILL_LAST_INTERVAL: 25.88
   :DRILL_REPEATS_SINCE_FAIL: 4
   :DRILL_TOTAL_REPEATS: 3
   :DRILL_FAILURE_COUNT: 0
   :DRILL_AVERAGE_QUALITY: 4.333
   :DRILL_EASE: 2.6
   :DRILL_LAST_QUALITY: 5
   :DRILL_LAST_REVIEWED: [2022-01-01 Sat 18:31]
   :END:
 Max env var size (all env vars) for lamda is [4kb]


** lambda                                                             :drill:
   SCHEDULED: <2022-01-22 Sat>
   :PROPERTIES:
   :ID:       72a5512e-2694-4a43-a38a-920a64eae1ab
   :DRILL_LAST_INTERVAL: 21.6744
   :DRILL_REPEATS_SINCE_FAIL: 4
   :DRILL_TOTAL_REPEATS: 3
   :DRILL_FAILURE_COUNT: 0
   :DRILL_AVERAGE_QUALITY: 3.333
   :DRILL_EASE: 2.22
   :DRILL_LAST_QUALITY: 3
   :DRILL_LAST_REVIEWED: [2021-12-31 Fri 16:19]
   :END:
  
 Likely reason you'd get InvalidParameterValueException from CLI from a script to deploy a lambda?


*** reasons
  - giving a role it can't assume
  - a lambda needs an execution role

    It can be other things like assigning it parameter values that can't change


** verb how to call a lambda function from cli                        :drill:
   SCHEDULED: <2022-01-16 Sun>
   :PROPERTIES:
   :ID:       82aa5833-b747-4243-a64a-43186715343a
   :DRILL_LAST_INTERVAL: 10.7143
   :DRILL_REPEATS_SINCE_FAIL: 3
   :DRILL_TOTAL_REPEATS: 5
   :DRILL_FAILURE_COUNT: 1
   :DRILL_AVERAGE_QUALITY: 3.6
   :DRILL_EASE: 2.6
   :DRILL_LAST_QUALITY: 4
   :DRILL_LAST_REVIEWED: [2022-01-05 Wed 21:32]
   :END:
 the keyword is aws lambda [--invoke]

*** bonus
    for asynch it is --invocation-type Event
   
** lambda 
 How to call lambda function asynch on cli

*** the arguments to use
 --invocation-type Event



** lambda                                                             :drill:
   SCHEDULED: <2022-01-13 Thu>
   :PROPERTIES:
   :ID:       2ecb20e6-2653-49ed-acf1-83a3df771437
   :DRILL_LAST_INTERVAL: 3.99
   :DRILL_REPEATS_SINCE_FAIL: 2
   :DRILL_TOTAL_REPEATS: 7
   :DRILL_FAILURE_COUNT: 3
   :DRILL_AVERAGE_QUALITY: 2.429
   :DRILL_EASE: 2.42
   :DRILL_LAST_QUALITY: 5
   :DRILL_LAST_REVIEWED: [2022-01-09 Sun 11:55]
   :END:
 what configuration to lambda, beside permissions and routing, is needed for lambda to
 process items from a stream or queue

*** answer
 create an event source mapping

** event source mappingd                                              :drill:
   SCHEDULED: <2022-01-26 Wed>
   :PROPERTIES:
   :ID:       66c0b76c-0755-4fe9-b6fc-7bee3011eed3
   :DRILL_LAST_INTERVAL: 25.0
   :DRILL_REPEATS_SINCE_FAIL: 4
   :DRILL_TOTAL_REPEATS: 3
   :DRILL_FAILURE_COUNT: 0
   :DRILL_AVERAGE_QUALITY: 4.0
   :DRILL_EASE: 2.5
   :DRILL_LAST_QUALITY: 4
   :DRILL_LAST_REVIEWED: [2022-01-01 Sat 18:25]
   :END:
  
 Define event source mapping
*** answer
 It reads from an event source and invokes a lambda function

** boto3 objects                                                      :drill:
   SCHEDULED: <2022-01-27 Thu>
   :PROPERTIES:
   :ID:       a4baa70e-f1dc-4c09-a2c9-4c18bb674844
   :DRILL_LAST_INTERVAL: 25.88
   :DRILL_REPEATS_SINCE_FAIL: 4
   :DRILL_TOTAL_REPEATS: 4
   :DRILL_FAILURE_COUNT: 1
   :DRILL_AVERAGE_QUALITY: 3.5
   :DRILL_EASE: 2.6
   :DRILL_LAST_QUALITY: 5
   :DRILL_LAST_REVIEWED: [2022-01-01 Sat 18:31]
   :END:
 in boto3, client vs resource, which is lower level?

*** answer
 client is low level, full api
 resource is higher level, OO, not complete

** lambda permissions                                                 :drill:
   SCHEDULED: <2022-01-25 Tue>
   :PROPERTIES:
   :ID:       4069c06f-e51e-4fe5-ac61-c0c7ae1cfb44
   :DRILL_LAST_INTERVAL: 24.0814
   :DRILL_REPEATS_SINCE_FAIL: 4
   :DRILL_TOTAL_REPEATS: 3
   :DRILL_FAILURE_COUNT: 0
   :DRILL_AVERAGE_QUALITY: 4.0
   :DRILL_EASE: 2.46
   :DRILL_LAST_QUALITY: 5
   :DRILL_LAST_REVIEWED: [2022-01-01 Sat 18:27]
   :END:
 How does S3 get right to invoke lambda?

*** answer
  Add a permission for S3 to invoke it -- it is an aws lambda cli function and gives right to one bucket
  point is: permission is not granted by lambda



** vocab arn                                                          :drill:
   SCHEDULED: <2022-01-29 Sat>
   :PROPERTIES:
   :ID:       264053b4-8528-4248-a1bb-422ad4d2d732
   :DRILL_LAST_INTERVAL: 26.702
   :DRILL_REPEATS_SINCE_FAIL: 4
   :DRILL_TOTAL_REPEATS: 3
   :DRILL_FAILURE_COUNT: 0
   :DRILL_AVERAGE_QUALITY: 4.333
   :DRILL_EASE: 2.56
   :DRILL_LAST_QUALITY: 5
   :DRILL_LAST_REVIEWED: [2022-01-02 Sun 16:22]
   :END:
 what is a qualified arn
*** definition
 it has a version at the end
  - in lambda it canNOT be used for an alias

** vocab lambda alias                                                 :drill:
   SCHEDULED: <2022-01-28 Fri>
   :PROPERTIES:
   :ID:       54467e95-0410-4928-8d90-8513a764c268
   :DRILL_LAST_INTERVAL: 24.9033
   :DRILL_REPEATS_SINCE_FAIL: 4
   :DRILL_TOTAL_REPEATS: 4
   :DRILL_FAILURE_COUNT: 1
   :DRILL_AVERAGE_QUALITY: 3.25
   :DRILL_EASE: 2.32
   :DRILL_LAST_QUALITY: 3
   :DRILL_LAST_REVIEWED: [2022-01-03 Mon 07:52]
   :END:
 How does an alias difffer from a version in lambda?

*** answer
  - instead of number in arn, has name of aliase
  - the alias can be changed, versions are imutable

***  bonus:
    alias can point at two versions, with weighting

** lambda alias                                                       :drill:
   SCHEDULED: <2022-02-03 Thu>
   :PROPERTIES:
   :ID:       d760bdba-2951-4b0f-b60b-e6d745a9c183
   :DRILL_LAST_INTERVAL: 30.7556
   :DRILL_REPEATS_SINCE_FAIL: 4
   :DRILL_TOTAL_REPEATS: 3
   :DRILL_FAILURE_COUNT: 0
   :DRILL_AVERAGE_QUALITY: 5.0
   :DRILL_EASE: 2.8
   :DRILL_LAST_QUALITY: 5
   :DRILL_LAST_REVIEWED: [2022-01-03 Mon 21:18]
   :END:
 What is typical use for weighted alias in lambda
*** typical:
  - blue / green deployment

** lambda zipfile size                                                :drill:
   SCHEDULED: <2022-01-24 Mon>
   :PROPERTIES:
   :ID:       7abf79cc-44a8-4ab7-9b74-656640a17f29
   :DRILL_LAST_INTERVAL: 23.2098
   :DRILL_REPEATS_SINCE_FAIL: 4
   :DRILL_TOTAL_REPEATS: 3
   :DRILL_FAILURE_COUNT: 0
   :DRILL_AVERAGE_QUALITY: 3.667
   :DRILL_EASE: 2.32
   :DRILL_LAST_QUALITY: 3
   :DRILL_LAST_REVIEWED: [2022-01-01 Sat 18:30]
   :END:
 What is size limit of zip file for lambda to upload
*** max is
  - 50 mb, has to go to S3 if bigger

** lambda execs                                                       :drill:
   SCHEDULED: <2022-01-27 Thu>
   :PROPERTIES:
   :ID:       9cbb95e8-e9d2-42d1-babc-00d8b34f3ef8
   :DRILL_LAST_INTERVAL: 25.8026
   :DRILL_REPEATS_SINCE_FAIL: 4
   :DRILL_TOTAL_REPEATS: 3
   :DRILL_FAILURE_COUNT: 0
   :DRILL_AVERAGE_QUALITY: 4.0
   :DRILL_EASE: 2.46
   :DRILL_LAST_QUALITY: 4
   :DRILL_LAST_REVIEWED: [2022-01-01 Sat 18:58]
   :END:
 Lambda default execution/second limit

*** limit is:
  - 1000 execution/second

** lambd concurrency                                                  :drill:
   SCHEDULED: <2022-01-29 Sat>
   :PROPERTIES:
   :ID:       b9cbf2ed-ae1b-4d08-9e30-dc66c735839f
   :DRILL_LAST_INTERVAL: 25.8026
   :DRILL_REPEATS_SINCE_FAIL: 4
   :DRILL_TOTAL_REPEATS: 3
   :DRILL_FAILURE_COUNT: 0
   :DRILL_AVERAGE_QUALITY: 4.0
   :DRILL_EASE: 2.46
   :DRILL_LAST_QUALITY: 4
   :DRILL_LAST_REVIEWED: [2022-01-03 Mon 07:51]
   :END:
 How much concurrency can you reserve per lambda?

*** answer
  - default 900, you hae to leave 100 unreserved capacity

** lambda behavior                                                    :drill:
   SCHEDULED: <2022-01-14 Fri>
   :PROPERTIES:
   :ID:       5aed74f8-e393-417d-a58d-59d0204ed369
   :DRILL_LAST_INTERVAL: 8.9861
   :DRILL_REPEATS_SINCE_FAIL: 3
   :DRILL_TOTAL_REPEATS: 5
   :DRILL_FAILURE_COUNT: 1
   :DRILL_AVERAGE_QUALITY: 3.2
   :DRILL_EASE: 2.22
   :DRILL_LAST_QUALITY: 3
   :DRILL_LAST_REVIEWED: [2022-01-05 Wed 21:31]
   :END:
 What happens when too many lambda functions called concurrently?
*** it is signalled by three things:
   - throttle
   - TooManyRequestException
   - Http 429

** lambda throttling                                                  :drill:
   SCHEDULED: <2022-01-09 Sun>
   :PROPERTIES:
   :ID:       0b883def-7754-4396-aff2-665e6b78ca7b
   :DRILL_LAST_INTERVAL: 3.995
   :DRILL_REPEATS_SINCE_FAIL: 2
   :DRILL_TOTAL_REPEATS: 6
   :DRILL_FAILURE_COUNT: 2
   :DRILL_AVERAGE_QUALITY: 3.167
   :DRILL_EASE: 2.46
   :DRILL_LAST_QUALITY: 5
   :DRILL_LAST_REVIEWED: [2022-01-05 Wed 21:30]
   :END:
 Default throttle behavior for lambda?
*** defaults:
   - Synch: 429 error
   - Asynch retry, retry, DLQ


** Question  :drill:
   SCHEDULED: <2022-01-26 Wed>
   :PROPERTIES:
   :ID:       761f31e8-9238-4e1c-b9fc-ca53d45a819b
   :DRILL_LAST_INTERVAL: 24.048
   :DRILL_REPEATS_SINCE_FAIL: 4
   :DRILL_TOTAL_REPEATS: 3
   :DRILL_FAILURE_COUNT: 0
   :DRILL_AVERAGE_QUALITY: 4.0
   :DRILL_EASE: 2.46
   :DRILL_LAST_QUALITY: 4
   :DRILL_LAST_REVIEWED: [2022-01-02 Sun 16:15]
   :END:
Name an Elastic beanstalk feature that takes care of asynch tasks like file transformations
*** Answer:
  - worker environment
    Elastic Beanstalk worker environments simplify this process by managing
    the Amazon SQS queue and running a daemon process on each instance that
    reads from the queue for you. 
   
** Dyanmo db indices                                                  :drill:
   SCHEDULED: <2022-01-31 Mon>
   :PROPERTIES:
   :ID:       41ea0eff-0b33-4577-8f87-1de36c48a74a
   :DRILL_LAST_INTERVAL: 27.733
   :DRILL_REPEATS_SINCE_FAIL: 4
   :DRILL_TOTAL_REPEATS: 3
   :DRILL_FAILURE_COUNT: 0
   :DRILL_AVERAGE_QUALITY: 4.667
   :DRILL_EASE: 2.7
   :DRILL_LAST_QUALITY: 5
   :DRILL_LAST_REVIEWED: [2022-01-03 Mon 08:06]
   :END:
Distinguish global and local secondary indices
*** Answer:
    

Global secondary index — an index with a partition key and a sort key
that can be different from those on the base table. A global secondary
index is considered "global" because queries on the index can span all
of the data in the base table, across all partitions.

Local secondary index — an index that has the same partition key as
the base table, but a different sort key. A local secondary index is
"local" in the sense that every partition of a local secondary index
is scoped to a base table partition that has the same partition key
value.

** Kinesis shards                                                     :drill:
   SCHEDULED: <2022-01-29 Sat>
   :PROPERTIES:
   :ID:       3b05f3ff-a174-4fb2-9d44-fe1335989abf
   :DRILL_LAST_INTERVAL: 25.8489
   :DRILL_REPEATS_SINCE_FAIL: 4
   :DRILL_TOTAL_REPEATS: 3
   :DRILL_FAILURE_COUNT: 0
   :DRILL_AVERAGE_QUALITY: 4.0
   :DRILL_EASE: 2.46
   :DRILL_LAST_QUALITY: 3
   :DRILL_LAST_REVIEWED: [2022-01-03 Mon 21:24]
   :END:
If you have 4 shards, how many instances with KCL  should you have
*** Answer:
1 to 4.  At most 1 worker can process a shard, but 1 worker can process
multiple shards

** What is CORS for                                           :drill:
   SCHEDULED: <2022-02-01 Tue>
   :PROPERTIES:
   :ID:       447e0e0d-beaa-4338-b93b-d2c73c576dc6
   :DRILL_LAST_INTERVAL: 28.7036
   :DRILL_REPEATS_SINCE_FAIL: 4
   :DRILL_TOTAL_REPEATS: 3
   :DRILL_FAILURE_COUNT: 0
   :DRILL_AVERAGE_QUALITY: 4.667
   :DRILL_EASE: 2.7
   :DRILL_LAST_QUALITY: 5
   :DRILL_LAST_REVIEWED: [2022-01-03 Mon 13:41]
   :END:
What does CORS do and for which service is it relevant
*** Answer:
Allows apps loaded in one domain to use resources from another.
Relevant especially getting resources from S3 buckets thru a web app

You sett a CORS configuration on buckets

** Cloudformation deploy                                          :drill:fix:
   SCHEDULED: <2022-01-28 Fri>
   :PROPERTIES:
   :ID:       7c7e2788-89ed-44b6-8e19-586322422c21
   :DRILL_LAST_INTERVAL: 24.9033
   :DRILL_REPEATS_SINCE_FAIL: 4
   :DRILL_TOTAL_REPEATS: 3
   :DRILL_FAILURE_COUNT: 0
   :DRILL_AVERAGE_QUALITY: 3.667
   :DRILL_EASE: 2.32
   :DRILL_LAST_QUALITY: 3
   :DRILL_LAST_REVIEWED: [2022-01-03 Mon 13:34]
   :END:

If you are going to deploy resources on your local machine from CLI, what do you
doe wWhat do you usually run before "aws cloudformation deploy"
*** Answer:
aws cloudformation package

** DynamoDb                                                    :drill:
   SCHEDULED: <2022-01-26 Wed>
   :PROPERTIES:
   :ID:       93907369-1f23-4c40-a129-6d56444e62da
   :DRILL_LAST_INTERVAL: 24.12
   :DRILL_REPEATS_SINCE_FAIL: 4
   :DRILL_TOTAL_REPEATS: 3
   :DRILL_FAILURE_COUNT: 0
   :DRILL_AVERAGE_QUALITY: 3.667
   :DRILL_EASE: 2.36
   :DRILL_LAST_QUALITY: 3
   :DRILL_LAST_REVIEWED: [2022-01-02 Sun 16:12]
   :END:
Reduce frequency of ProvisionedThroughputExceededException
*** Answer:
Use exponential backoff.  Retries happen always with DynamodB

** ALB feature                                               :drill:practice:
   SCHEDULED: <2022-01-31 Mon>
   :PROPERTIES:
   :ID:       96a5e99c-0821-4f2e-9b84-a29664a73da0
   :DRILL_LAST_INTERVAL: 27.7286
   :DRILL_REPEATS_SINCE_FAIL: 4
   :DRILL_TOTAL_REPEATS: 3
   :DRILL_FAILURE_COUNT: 0
   :DRILL_AVERAGE_QUALITY: 4.333
   :DRILL_EASE: 2.6
   :DRILL_LAST_QUALITY: 4
   :DRILL_LAST_REVIEWED: [2022-01-03 Mon 21:28]
   :END:
What does enable multi valued headers do?
*** Answer:
    Turns values specified twice to arrays -
     &name=Fred&name=Flinstone
     -> name: [Fred, Flinstone]

** Question  :drill:
   SCHEDULED: <2022-01-24 Mon>
   :PROPERTIES:
   :ID:       e14ea5b6-1c38-435e-b6b5-30435bb4ceff
   :DRILL_LAST_INTERVAL: 22.4564
   :DRILL_REPEATS_SINCE_FAIL: 4
   :DRILL_TOTAL_REPEATS: 3
   :DRILL_FAILURE_COUNT: 0
   :DRILL_AVERAGE_QUALITY: 3.667
   :DRILL_EASE: 2.36
   :DRILL_LAST_QUALITY: 4
   :DRILL_LAST_REVIEWED: [2022-01-02 Sun 16:09]
   :END:
An Amazon SQS message has three basic states:
*** Answer:
    Sent to a queue by a producer.
    Received from the queue by a consumer.
    Deleted from the queue.

** SQS states                                                 :drill:
   SCHEDULED: <2022-01-31 Mon>
   :PROPERTIES:
   :ID:       5a21a457-cdca-4d96-a245-7286a19f6edf
   :DRILL_LAST_INTERVAL: 27.733
   :DRILL_REPEATS_SINCE_FAIL: 4
   :DRILL_TOTAL_REPEATS: 3
   :DRILL_FAILURE_COUNT: 0
   :DRILL_AVERAGE_QUALITY: 4.667
   :DRILL_EASE: 2.7
   :DRILL_LAST_QUALITY: 5
   :DRILL_LAST_REVIEWED: [2022-01-03 Mon 21:24]
   :END:
What is an inflight message? (SQS)
*** Answer:
It has been received by consumer but not deleted

** SQS limits                                                 :drill:
   SCHEDULED: <2022-01-27 Thu>
   :PROPERTIES:
   :ID:       f058312d-b6f7-46d7-a319-97b8c8d4d3c9
   :DRILL_LAST_INTERVAL: 22.4605
   :DRILL_REPEATS_SINCE_FAIL: 4
   :DRILL_TOTAL_REPEATS: 4
   :DRILL_FAILURE_COUNT: 1
   :DRILL_AVERAGE_QUALITY: 2.75
   :DRILL_EASE: 2.22
   :DRILL_LAST_QUALITY: 3
   :DRILL_LAST_REVIEWED: [2022-01-05 Wed 07:13]
   :END:
Maximum number of inflight messages
 - for each of 2 types of queues
*** Answer:
For Standard queues 120K
For FIFO 20K

** SQS queue
   If you set the visibility timeout for a message and it never gets
   deleted, what happens?

*** answer
    it gets delivered again with the original timeout
    - ChangeMessageVisibility is the call that sets it

** SQS limits                                                         :drill:
   SCHEDULED: <2022-01-08 Sat>
   :PROPERTIES:
   :ID:       1908c040-a6ee-4ec2-8077-65c0eb14ae74
   :DRILL_LAST_INTERVAL: 11.4795
   :DRILL_REPEATS_SINCE_FAIL: 3
   :DRILL_TOTAL_REPEATS: 4
   :DRILL_FAILURE_COUNT: 1
   :DRILL_AVERAGE_QUALITY: 3.75
   :DRILL_EASE: 2.7
   :DRILL_LAST_QUALITY: 4
   :DRILL_LAST_REVIEWED: [2021-12-28 Tue 22:37]
   :END:
   [12 hours] is the maxium visibility timeout

   
** SQS Visibility timeout                                             :drill:
   SCHEDULED: <2022-02-05 Sat>
   :PROPERTIES:
   :ID:       e7cb3f4b-f657-439e-9a1b-3d3aff675b1f
   :DRILL_LAST_INTERVAL: 30.7556
   :DRILL_REPEATS_SINCE_FAIL: 4
   :DRILL_TOTAL_REPEATS: 3
   :DRILL_FAILURE_COUNT: 0
   :DRILL_AVERAGE_QUALITY: 5.0
   :DRILL_EASE: 2.8
   :DRILL_LAST_QUALITY: 5
   :DRILL_LAST_REVIEWED: [2022-01-05 Wed 21:37]
   :END:
   A feature in message handler that extends visibility timeout
   periodically is called a [heartbeat]

** SQS Alternative                                                    :drill:
   SCHEDULED: <2022-02-03 Thu>
   :PROPERTIES:
:DRILL_CARD_TYPE: hide1cloze
:ID:       30232118-12b2-4d16-a2df-559dc3231fc1
:DRILL_LAST_INTERVAL: 28.7036
:DRILL_REPEATS_SINCE_FAIL: 4
:DRILL_TOTAL_REPEATS: 3
:DRILL_FAILURE_COUNT: 0
:DRILL_AVERAGE_QUALITY: 4.667
:DRILL_EASE: 2.7
:DRILL_LAST_QUALITY: 5
:DRILL_LAST_REVIEWED: [2022-01-05 Wed 21:38]
:END:
If you have to extend [visibility timeout] for SQS message to more than
12 hours, you should consider [step functions]

** SQS long polling                                                   :drill:
   SCHEDULED: <2022-02-05 Sat>
   :PROPERTIES:
   :ID:       e7f1e769-5294-4e21-aebe-43e875565ee0
   :DRILL_LAST_INTERVAL: 30.7556
   :DRILL_REPEATS_SINCE_FAIL: 4
   :DRILL_TOTAL_REPEATS: 3
   :DRILL_FAILURE_COUNT: 0
   :DRILL_AVERAGE_QUALITY: 5.0
   :DRILL_EASE: 2.8
   :DRILL_LAST_QUALITY: 5
   :DRILL_LAST_REVIEWED: [2022-01-05 Wed 21:40]
   :END:
   The maxium time you can set polling to in SQS is [20 seconds]

** CodeDeploy                                                         :drill:
   SCHEDULED: <2022-01-11 Tue>
   :PROPERTIES:
   :ID:       4016ffad-3a16-41cf-9df2-9428071c9e7f
   :DRILL_LAST_INTERVAL: 4.14
   :DRILL_REPEATS_SINCE_FAIL: 2
   :DRILL_TOTAL_REPEATS: 5
   :DRILL_FAILURE_COUNT: 3
   :DRILL_AVERAGE_QUALITY: 2.6
   :DRILL_EASE: 2.6
   :DRILL_LAST_QUALITY: 5
   :DRILL_LAST_REVIEWED: [2022-01-07 Fri 08:25]
   :END:
   Vocab = What does CodeDeploy target in the case of
   - Lambda
   - ECS
   - EC2/On prem
*** answer
    Lamda -- it changes VERSION
    ECS -- it changes TASK SET
    EC2/on prem -- set of instances

    Lambda+ECS are always some kind of blue/green
    ECS/on prem can be all at once

** SQS polling errors                                                 :drill:
   SCHEDULED: <2022-01-15 Sat>
   :PROPERTIES:
   :ID:       1e5888cd-8ffd-4ab1-8480-f46edbc63ecc
   :DRILL_LAST_INTERVAL: 8.88
   :DRILL_REPEATS_SINCE_FAIL: 3
   :DRILL_TOTAL_REPEATS: 6
   :DRILL_FAILURE_COUNT: 2
   :DRILL_AVERAGE_QUALITY: 2.833
   :DRILL_EASE: 2.22
   :DRILL_LAST_QUALITY: 4
   :DRILL_LAST_REVIEWED: [2022-01-06 Thu 08:37]
   :END:

   In SQS, To avoid HTTP errors, make sure that the HTTP response
   timeout for [ReceiveMessage] requests is longer than the
   [WaitTimeSeconds] parameter.

   Otherwise the HTTP can timeout before SQS answers when the
   queue is working as intended

** SQS polling
   what servers do different polling modes query?

*** answer
    short polling-> subset
    long polling -> all
    
    With short polling, the ReceiveMessage request queries only a
    subset of the servers (based on a weighted random distribution) to
    find messages that are available to include in the
    response. Amazon SQS sends the response right away, even if the
    query found no messages.

With long polling, the ReceiveMessage request queries all of the servers for messages.
** SQS distinction in waits                                           :drill:
   SCHEDULED: <2022-02-03 Thu>
   :PROPERTIES:
   :ID:       6d0b914c-c61f-433a-9ba9-9b1c9a7ee219
   :DRILL_LAST_INTERVAL: 28.7036
   :DRILL_REPEATS_SINCE_FAIL: 4
   :DRILL_TOTAL_REPEATS: 3
   :DRILL_FAILURE_COUNT: 0
   :DRILL_AVERAGE_QUALITY: 4.667
   :DRILL_EASE: 2.7
   :DRILL_LAST_QUALITY: 5
   :DRILL_LAST_REVIEWED: [2022-01-05 Wed 21:37]
   :END:
   Difference WaitTimeSeconds and Http Response timeout?
*** answer
    WaitTimeSeconds is how long it will wait for a message to becoe available
    Http Response timeout is the underlying http layer that receiveMessage calls
    WaitTimeSeconds should be shorter than The Response Timeout

    AKA ReceiveMessageWaitTimeSeconds
    The attribute you set to get long polling

**  SQS                                                               :drill:
   SCHEDULED: <2022-01-30 Sun>
   :PROPERTIES:
   :ID:       408bf111-d13d-43ae-ae37-cf235055d460
   :DRILL_LAST_INTERVAL: 26.791
   :DRILL_REPEATS_SINCE_FAIL: 4
   :DRILL_TOTAL_REPEATS: 3
   :DRILL_FAILURE_COUNT: 0
   :DRILL_AVERAGE_QUALITY: 4.333
   :DRILL_EASE: 2.6
   :DRILL_LAST_QUALITY: 4
   :DRILL_LAST_REVIEWED: [2022-01-03 Mon 21:20]
   :END:
   what is a receipt handle for in SQS?

*** answer
    the consumer needsit to delete a message

    
** SQS receipts                                                       :drill:
   SCHEDULED: <2022-02-03 Thu>
   :PROPERTIES:
:DRILL_CARD_TYPE: hide1cloze
:ID:       e432218e-d2cc-4325-8fca-5a13c2c0b601
:DRILL_LAST_INTERVAL: 28.6705
:DRILL_REPEATS_SINCE_FAIL: 4
:DRILL_TOTAL_REPEATS: 3
:DRILL_FAILURE_COUNT: 0
:DRILL_AVERAGE_QUALITY: 4.333
:DRILL_EASE: 2.56
:DRILL_LAST_QUALITY: 3
:DRILL_LAST_REVIEWED: [2022-01-05 Wed 21:36]
:END:

   A message that isn't deleted or a message whose visibility isn't
   extended before the [visibility timeout] expires counts as a [failed
   receive].
   
    


     
     
** SSL for Cloudfront                                         :drill:
   SCHEDULED: <2022-01-30 Sun>
   :PROPERTIES:
   :ID:       dca3e6b5-4216-4907-b6e4-4bcaef45131e
   :DRILL_LAST_INTERVAL: 26.702
   :DRILL_REPEATS_SINCE_FAIL: 4
   :DRILL_TOTAL_REPEATS: 3
   :DRILL_FAILURE_COUNT: 0
   :DRILL_AVERAGE_QUALITY: 4.333
   :DRILL_EASE: 2.56
   :DRILL_LAST_QUALITY: 5
   :DRILL_LAST_REVIEWED: [2022-01-03 Mon 13:41]
   :END:
If you use the default name for cloudfront (h2ee41bedff.cloudfront.net)
how can you get traffic directed to HTTPS?
*** Answer:
Viewer Protocol Policy to use Redirect HTTP to HTTPS
or
setting the Viewer Protocol Policy to use HTTPS Only
     
** Multi valued headers                                      :drill:practice:
   SCHEDULED: <2022-01-26 Wed>
   :PROPERTIES:
   :ID:       d2877fad-5b98-4359-853f-181a00318021
   :DRILL_LAST_INTERVAL: 20.6501
   :DRILL_REPEATS_SINCE_FAIL: 4
   :DRILL_TOTAL_REPEATS: 5
   :DRILL_FAILURE_COUNT: 1
   :DRILL_AVERAGE_QUALITY: 3.2
   :DRILL_EASE: 2.32
   :DRILL_LAST_QUALITY: 5
   :DRILL_LAST_REVIEWED: [2022-01-05 Wed 21:23]
   :END:
An Advanced feature of [Application Load Balancer] is multi-valued headers
*** bonus
API gateway also allows for multip value parameters
** Encrypt / reenctrypt                                               :drill:
   SCHEDULED: <2022-01-16 Sun>
   :PROPERTIES:
   :ID:       0ccfc215-51dd-41d3-942a-be7963db5f2c
   :DRILL_LAST_INTERVAL: 8.9861
   :DRILL_REPEATS_SINCE_FAIL: 3
   :DRILL_TOTAL_REPEATS: 2
   :DRILL_FAILURE_COUNT: 0
   :DRILL_AVERAGE_QUALITY: 3.0
   :DRILL_EASE: 2.22
   :DRILL_LAST_QUALITY: 3
   :DRILL_LAST_REVIEWED: [2022-01-07 Fri 08:13]
   :END:
   What is aws reencrypt for?
*** answer
    to change the CMK encryption key
    E.g. for rotating
    Can also use it to reencrypt with same key, changing the encryption context ?


** Dynamo keys                                                :drill:
   :PROPERTIES:
   :ID:       bec5d381-143c-4785-9cab-ceeb9c9b20a0
   :END:
For dynamo keys what are valid data types
*** Answer:
Number, String or binary

** Dynamo keys                                                        :drill:
   :PROPERTIES:
   :ID:       318ffa43-ffe2-49f0-9634-f5ed78dc7787
   :END:
   For binary partition/sort keys there are length restrictions

*** What are they

 - For a simple primary key, the maximum length of the first attribute
   value (the partition key) is 2048 bytes.

 - For a composite primary key, the maximum length of the second
   attribute value (the sort key) is 1024 bytes.
   
** Dynamo limits on RCU/WCU                                           :drill:
   :PROPERTIES:
   :ID:       f2567672-21cc-4dea-a6ea-ba62e33fbdff
   :END:
Max RCU, Max WCU
*** Answer:
RCU - 3000 per partition
WCU - 1000 per partition


** KMS encryption context  :drill:
   :PROPERTIES:
   :ID:       761d05d5-c082-4ec3-ac6a-74c907b22a9f
   :END:
What is...
*** What is encryption context
An additional layer of authentication for your KMS API calls utilizing
encryption context. The encryption context is a key-value pair of
additional data that you want associated with AWS KMS-protected
information.


Now the decrypting party will need to have
 - IAM permissions to AWS KMS,
 - a CMK policy that allows them to use the key in the requested fashion,
 - finally know the expected encryption context values.
    
You can use the encryption context inside your policies to enforce
tighter controls for your encrypted resources. Because the encryption
context is logged in CloudTrail, you can get more insight into the
usage of your keys from an audit perspective.

 - the encryption context is not encrypted and will be visible within
CloudTrail logs. The encryption context should not be considered
sensitive information and should not require secrecy.
    
** KMS def                                                            :drill:
   SCHEDULED: <2022-01-11 Tue>
   :PROPERTIES:
   :ID:       684830b7-36e5-426a-8d7b-b4d4fc94fe96
   :DRILL_LAST_INTERVAL: 3.86
   :DRILL_REPEATS_SINCE_FAIL: 2
   :DRILL_TOTAL_REPEATS: 3
   :DRILL_FAILURE_COUNT: 1
   :DRILL_AVERAGE_QUALITY: 2.333
   :DRILL_EASE: 2.36
   :DRILL_LAST_QUALITY: 3
   :DRILL_LAST_REVIEWED: [2022-01-07 Fri 08:24]
   :END:
Define KMS Key policy
*** Answer:
Every CMK must have exactly one key policy.

the key policy document determine who has permission to use the CMK
and how they can use it.

Key Policy is separate from the IAM policies

Examples https://docs.aws.amazon.com/kms/latest/developerguide/determining-access-key-policy.html


{
  "Sid": "Enable IAM policies",
  "Effect": "Allow",
  "Principal": {"AWS": "arn:aws:iam::111122223333:root"},
  "Action": "kms:*",
  "Resource": "*"
}


{
  "Sid": "Allow attachment of persistent resources",
  "Effect": "Allow",
  "Principal": {"AWS": "arn:aws:iam::111122223333:role/EncryptionApp"},
  "Action": [
    "kms:ListGrants",
    "kms:CreateGrant",
    "kms:RevokeGrant"
  ],
  "Resource": "*",
  "Condition": {"Bool": {"kms:GrantIsForAWSResource": true}}
}
** KMS -- how to manually rotate keys                                 :drill:
   SCHEDULED: <2022-01-18 Tue>
   :PROPERTIES:
   :ID:       0da45212-acf0-4718-9a24-68452c23a218
   :DRILL_LAST_INTERVAL: 10.352
   :DRILL_REPEATS_SINCE_FAIL: 3
   :DRILL_TOTAL_REPEATS: 3
   :DRILL_FAILURE_COUNT: 1
   :DRILL_AVERAGE_QUALITY: 3.667
   :DRILL_EASE: 2.6
   :DRILL_LAST_QUALITY: 5
   :DRILL_LAST_REVIEWED: [2022-01-08 Sat 14:33]
   :END:
   for CMKs, how do you manually rotate keys

*** answer
    with the reencrypt api

** Encrypt                                                   :drill:practice:
   SCHEDULED: <2022-01-08 Sat>
   :PROPERTIES:
   :ID:       01d5ca01-deda-401d-93f7-ac098c0aa49b
   :DRILL_LAST_INTERVAL: 11.0911
   :DRILL_REPEATS_SINCE_FAIL: 3
   :DRILL_TOTAL_REPEATS: 4
   :DRILL_FAILURE_COUNT: 1
   :DRILL_AVERAGE_QUALITY: 3.75
   :DRILL_EASE: 2.7
   :DRILL_LAST_QUALITY: 5
   :DRILL_LAST_REVIEWED: [2021-12-28 Tue 22:42]
   :END:
The most common usage of KMS encrypt method is to
[move data from one region to another]

** Cognito                                                            :drill:
   SCHEDULED: <2022-02-02 Wed>
   :PROPERTIES:
   :ID:       24e3d39b-d586-4521-ae65-085e6757d101
   :DRILL_LAST_INTERVAL: 27.7286
   :DRILL_REPEATS_SINCE_FAIL: 4
   :DRILL_TOTAL_REPEATS: 3
   :DRILL_FAILURE_COUNT: 0
   :DRILL_AVERAGE_QUALITY: 4.333
   :DRILL_EASE: 2.6
   :DRILL_LAST_QUALITY: 4
   :DRILL_LAST_REVIEWED: [2022-01-05 Wed 21:40]
   :END:
   Definitions of user pools and identity pools

*** answer

   User pools are user directories that provide sign-up and sign-in
    options for your app users.

   Identity pools enable you to grant your users access to other AWS
    services.


** DynamoDb cache                                                     :drill:
   SCHEDULED: <2022-01-27 Thu>
   :PROPERTIES:
   :ID:       f091b770-d023-4067-a016-30f689081a6a
   :DRILL_LAST_INTERVAL: 25.0
   :DRILL_REPEATS_SINCE_FAIL: 4
   :DRILL_TOTAL_REPEATS: 3
   :DRILL_FAILURE_COUNT: 0
   :DRILL_AVERAGE_QUALITY: 4.0
   :DRILL_EASE: 2.5
   :DRILL_LAST_QUALITY: 4
   :DRILL_LAST_REVIEWED: [2022-01-02 Sun 16:09]
   :END:
[DAX Accelerator] is a DynamoDB-specific cache solution
*** Bonus
Reduces responses FROM milliseconds TO microseconds

** Server Side Encryption                                     :drill:
   SCHEDULED: <2022-01-20 Thu>
   :PROPERTIES:
   :ID:       7f45ce23-1ad3-4358-846e-e28d31537460
   :DRILL_LAST_INTERVAL: 19.2482
   :DRILL_REPEATS_SINCE_FAIL: 4
   :DRILL_TOTAL_REPEATS: 3
   :DRILL_FAILURE_COUNT: 0
   :DRILL_AVERAGE_QUALITY: 3.0
   :DRILL_EASE: 2.08
   :DRILL_LAST_QUALITY: 3
   :DRILL_LAST_REVIEWED: [2022-01-01 Sat 18:28]
   :END:
If you use customer keys for encrypting s3, what three headers to you need 
*** Answer:
all three of
    
x-amz-server-side​-encryption​-customer-algorithm   (can only have one value: AES256)
x-amz-server-side​-encryption​-customer-key   (the key)
x-amz-server-side​-encryption​-customer-key-MD5  (encoded version, used like checksum)

** SQS polling                                                        :drill:
   SCHEDULED: <2022-02-02 Wed>
   :PROPERTIES:
   :ID:       d5db822b-84ab-4c81-a0c9-09f385ef91df
   :DRILL_LAST_INTERVAL: 29.7131
   :DRILL_REPEATS_SINCE_FAIL: 4
   :DRILL_TOTAL_REPEATS: 3
   :DRILL_FAILURE_COUNT: 0
   :DRILL_AVERAGE_QUALITY: 4.667
   :DRILL_EASE: 2.7
   :DRILL_LAST_QUALITY: 4
   :DRILL_LAST_REVIEWED: [2022-01-03 Mon 13:36]
   :END:
How to configure long polling
*** Answer:
Just set a timeout -- default of 0 means short polling

** SQS Polling                                                        :drill:
   SCHEDULED: <2022-01-27 Thu>
   :PROPERTIES:
   :ID:       555794de-5323-4174-9763-f64745f62007
   :DRILL_LAST_INTERVAL: 25.0
   :DRILL_REPEATS_SINCE_FAIL: 4
   :DRILL_TOTAL_REPEATS: 3
   :DRILL_FAILURE_COUNT: 0
   :DRILL_AVERAGE_QUALITY: 4.0
   :DRILL_EASE: 2.5
   :DRILL_LAST_QUALITY: 4
   :DRILL_LAST_REVIEWED: [2022-01-02 Sun 16:21]
   :END:
What is custom visibility timeout for?
*** Answer:
Stop multiple consumers from getting a message that is being processed

** Lambda modify behavior                                             :drill:
   SCHEDULED: <2022-01-15 Sat>
   :PROPERTIES:
   :DRILL_LAST_INTERVAL: 10.352
   :DRILL_REPEATS_SINCE_FAIL: 3
   :DRILL_TOTAL_REPEATS: 6
   :DRILL_FAILURE_COUNT: 3
   :DRILL_AVERAGE_QUALITY: 3.0
   :DRILL_EASE: 2.6
   :DRILL_LAST_QUALITY: 5
   :DRILL_LAST_REVIEWED: [2022-01-05 Wed 21:33]
   :ID:       7096a1c0-9b58-4563-8a49-e6f6fb8965eb
   :END:
   From CLI how to modify lambda behavior?
   
*** answer
    aws lambda update-alias

context:



I want to update my AWS Lambda function's environment variables
without changing the Lambda Qualified Amazon Resource Name (Lambda
Version ARN) in my client-side application. How do I avoid hardcoding
a specific Lambda function version into my application each time I
update my function's environment variables? 

You can't change the environment variables or function code in a
published Lambda function version. You can change only the current,
unpublished function version ($LATEST). To avoid hardcoding a specific
Lambda function version into your application, you can configure a
Lambda alias ARN into your application instead. Each Lambda alias has
a unique ARN and can be reconfigured once created to point to new
versions of your function.


** Question  :drill:
   SCHEDULED: <2022-01-17 Mon>
   :PROPERTIES:
   :ID:       7704c990-8bfa-419d-b3c6-6fda4e6af1bd
   :DRILL_LAST_INTERVAL: 9.648
   :DRILL_REPEATS_SINCE_FAIL: 3
   :DRILL_TOTAL_REPEATS: 2
   :DRILL_FAILURE_COUNT: 0
   :DRILL_AVERAGE_QUALITY: 3.5
   :DRILL_EASE: 2.36
   :DRILL_LAST_QUALITY: 3
   :DRILL_LAST_REVIEWED: [2022-01-07 Fri 08:16]
   :END:
What is needed for on-premisess machine to join EC2 cluster
*** Answer:
he Amazon ECS container agent is supported on Amazon EC2 instances and
external instances (on-premises server or VM).
    
    
** EC2 roles                                                  :drill:
   SCHEDULED: <2022-01-14 Fri>
   :PROPERTIES:
   :ID:       46a2b445-9dc2-4e67-8316-afc4fad222fa
   :DRILL_LAST_INTERVAL: 8.9861
   :DRILL_REPEATS_SINCE_FAIL: 3
   :DRILL_TOTAL_REPEATS: 6
   :DRILL_FAILURE_COUNT: 3
   :DRILL_AVERAGE_QUALITY: 2.5
   :DRILL_EASE: 2.22
   :DRILL_LAST_QUALITY: 3
   :DRILL_LAST_REVIEWED: [2022-01-05 Wed 21:32]
   :END:
Name of AWS managed role that is template for EC2 instances on ECS
*** Answer:
 AmazonEC2ContainerServiceforEC2Role

 This is just a sample role, best practice is to pare town to only needed permissions

 This is needed in addition to the ECS container agent that has to run on the instance


** application passwords                                     :drill:practice:
   SCHEDULED: <2022-01-09 Sun>
   :PROPERTIES:
   :ID:       02622f48-f7c4-4e0f-b676-0d9f4dbf7d6e
   :DRILL_LAST_INTERVAL: 3.86
   :DRILL_REPEATS_SINCE_FAIL: 2
   :DRILL_TOTAL_REPEATS: 6
   :DRILL_FAILURE_COUNT: 2
   :DRILL_AVERAGE_QUALITY: 2.833
   :DRILL_EASE: 2.08
   :DRILL_LAST_QUALITY: 3
   :DRILL_LAST_REVIEWED: [2022-01-05 Wed 21:41]
   :END:
   [Secrets Manager] provides an API your code can call to get the
   password for a database, and it provides for automatic rotation

*** bonus
       Services that it works with:
       Amazon RDS, Amazon DocumentDB, and Amazon Redshift
       Others there is a template, customers must create a custom rotation function
       
** X-Ray                                                              :drill:
   SCHEDULED: <2022-01-31 Mon>
   :PROPERTIES:
   :ID:       68792d29-27eb-4e7e-ac1b-024c634999a0
   :DRILL_LAST_INTERVAL: 25.0
   :DRILL_REPEATS_SINCE_FAIL: 4
   :DRILL_TOTAL_REPEATS: 5
   :DRILL_FAILURE_COUNT: 1
   :DRILL_AVERAGE_QUALITY: 3.6
   :DRILL_EASE: 2.5
   :DRILL_LAST_QUALITY: 4
   :DRILL_LAST_REVIEWED: [2022-01-06 Thu 08:33]
   :END:
Difference settig up Xray on
1) ec2
2) elastic beanstalk
*** Answer:
1) use a "user data script" for ec2
2) for elastic beanstalk, use config file - xray-daemon.config in .ebextensions/



** Lamda concurrency                                         :drill:practice:
   SCHEDULED: <2022-02-01 Tue>
   :PROPERTIES:
   :ID:       23ea866a-d5d3-4298-a589-c9e552e8b726
   :DRILL_LAST_INTERVAL: 25.7462
   :DRILL_REPEATS_SINCE_FAIL: 4
   :DRILL_TOTAL_REPEATS: 5
   :DRILL_FAILURE_COUNT: 1
   :DRILL_AVERAGE_QUALITY: 3.6
   :DRILL_EASE: 2.42
   :DRILL_LAST_QUALITY: 3
   :DRILL_LAST_REVIEWED: [2022-01-06 Thu 08:38]
   :END:
What is Lambda provisioned concurrency?
*** Answer:
  - once it is invoked, it stays loaded, low latency (avoid cold start)
  - you pay for it as long as its running 
  - provisioned concurrency can be controlled with ASG


** RDS proxy                                                 :drill:practice:
   SCHEDULED: <2022-01-14 Fri>
   :PROPERTIES:
   :ID:       9ef90cf5-914f-46c3-979c-3d68aedbd879
   :DRILL_LAST_INTERVAL: 8.56
   :DRILL_REPEATS_SINCE_FAIL: 3
   :DRILL_TOTAL_REPEATS: 5
   :DRILL_FAILURE_COUNT: 1
   :DRILL_AVERAGE_QUALITY: 3.2
   :DRILL_EASE: 2.32
   :DRILL_LAST_QUALITY: 5
   :DRILL_LAST_REVIEWED: [2022-01-05 Wed 07:22]
   :END:
What is RDS proxy?
*** Answer:
 - a connection pool lambda can use

** Question                                                  :drill:practice:
   SCHEDULED: <2022-01-24 Mon>
   :PROPERTIES:
   :ID:       caf2ac13-8dcd-453e-a035-8edb5c1012b8
   :DRILL_LAST_INTERVAL: 19.0033
   :DRILL_REPEATS_SINCE_FAIL: 4
   :DRILL_TOTAL_REPEATS: 6
   :DRILL_FAILURE_COUNT: 2
   :DRILL_AVERAGE_QUALITY: 3.0
   :DRILL_EASE: 2.32
   :DRILL_LAST_QUALITY: 5
   :DRILL_LAST_REVIEWED: [2022-01-05 Wed 21:29]
   :END:
What is Execution Record
*** Answer:
 -a lambda artifact in Success/Failure destination
 - has version, request/response context request/response payload

** Question  :drill:
   SCHEDULED: <2022-01-23 Sun>
   :PROPERTIES:
   :ID:       48f4cd28-1683-462b-8450-92c797fd1a7e
   :DRILL_LAST_INTERVAL: 20.6501
   :DRILL_REPEATS_SINCE_FAIL: 4
   :DRILL_TOTAL_REPEATS: 3
   :DRILL_FAILURE_COUNT: 0
   :DRILL_AVERAGE_QUALITY: 3.667
   :DRILL_EASE: 2.32
   :DRILL_LAST_QUALITY: 5
   :DRILL_LAST_REVIEWED: [2022-01-02 Sun 16:18]
   :END:
Can you create a local secondary index on an existing table?
*** Answer:
You cannot add a local secondary index to an existing table. It must
be provided at creation. This is different than global secondary
indexes.


** Dynamo DB local seconary                                           :drill:
   SCHEDULED: <2022-01-29 Sat>
   :PROPERTIES:
   :ID:       3c850258-c67a-4e36-a2fe-bf1e53b58f2e
   :DRILL_LAST_INTERVAL: 25.88
   :DRILL_REPEATS_SINCE_FAIL: 4
   :DRILL_TOTAL_REPEATS: 3
   :DRILL_FAILURE_COUNT: 0
   :DRILL_AVERAGE_QUALITY: 4.333
   :DRILL_EASE: 2.6
   :DRILL_LAST_QUALITY: 5
   :DRILL_LAST_REVIEWED: [2022-01-03 Mon 08:03]
   :END:
What is advantage of Local Secondary Index?
*** Answer:
 - can share read capacity with base table  (save $, it is boutique scenario)
     
** Dymamo feature                                            :drill:practice:
   SCHEDULED: <2022-02-02 Wed>
:PROPERTIES:
:DRILL_CARD_TYPE: hide1cloze
:ID:       fe76e985-3f8e-4504-9303-af0257c21e2b
:DRILL_LAST_INTERVAL: 25.7564
:DRILL_REPEATS_SINCE_FAIL: 4
:DRILL_TOTAL_REPEATS: 5
:DRILL_FAILURE_COUNT: 1
:DRILL_AVERAGE_QUALITY: 3.8
:DRILL_EASE: 2.56
:DRILL_LAST_QUALITY: 5
:DRILL_LAST_REVIEWED: [2022-01-07 Fri 08:13]
:END:


an [item collection] is any group of items that have the same
partition key value in a table and [all of its local secondary
indexes].

*** bonus

There is a gotcha about local secondary indexes:  if you use
them, item collection max size is 10 GB

** Dynamo Db limits                                                   :drill:
   SCHEDULED: <2022-01-28 Fri>
   :PROPERTIES:
   :ID:       2c4a4e7c-0628-42fd-b092-f5f556acf211
   :DRILL_LAST_INTERVAL: 23.2194
   :DRILL_REPEATS_SINCE_FAIL: 4
   :DRILL_TOTAL_REPEATS: 3
   :DRILL_FAILURE_COUNT: 0
   :DRILL_AVERAGE_QUALITY: 3.667
   :DRILL_EASE: 2.32
   :DRILL_LAST_QUALITY: 3
   :DRILL_LAST_REVIEWED: [2022-01-05 Wed 21:24]
   :END:
   What limit can you only hit on a table that has local secondary index?

*** answer
ItemCollectionSizeLimitExceededException
If more than 10gb 


** Question  :drill:
   SCHEDULED: <2022-01-31 Mon>
   :PROPERTIES:
   :ID:       9205aa74-c39e-450c-aff6-e95c32849893
   :DRILL_LAST_INTERVAL: 25.88
   :DRILL_REPEATS_SINCE_FAIL: 4
   :DRILL_TOTAL_REPEATS: 3
   :DRILL_FAILURE_COUNT: 0
   :DRILL_AVERAGE_QUALITY: 4.333
   :DRILL_EASE: 2.6
   :DRILL_LAST_QUALITY: 5
   :DRILL_LAST_REVIEWED: [2022-01-05 Wed 07:10]
   :END:
read per second Dynamo calcs - What is 2:1:.5 for?
*** Answer:
 2 rcu per 1 transactional read
 1 rcu per strongly consistent
 .5 rcu per eventually consistent

 The provisioned amounts give you x per second

** DynamoDb SLA                                                       :drill:
   SCHEDULED: <2022-01-27 Thu>
   :PROPERTIES:
   :ID:       0356d2f8-d282-46d9-8a5d-0f1b32885e96
   :DRILL_LAST_INTERVAL: 22.4605
   :DRILL_REPEATS_SINCE_FAIL: 4
   :DRILL_TOTAL_REPEATS: 3
   :DRILL_FAILURE_COUNT: 0
   :DRILL_AVERAGE_QUALITY: 3.333
   :DRILL_EASE: 2.22
   :DRILL_LAST_QUALITY: 3
   :DRILL_LAST_REVIEWED: [2022-01-05 Wed 07:17]
   :END:
   describe latency of DynamoDb, what are fastest operations and how
   fast are they, usually
   
*** answer
    for most atomic operations, such as GetItem and PutItem, you can
    expect an average latency in single-digit milliseconds. Latency
    for non-atomic operations, such as Query and Scan, depends on many
    factors, including the size of the result set and the complexity
    of the query conditions and filters.

** Question  :drill:
   SCHEDULED: <2022-01-24 Mon>
   :PROPERTIES:
   :ID:       8d4d7c8a-3541-4fd9-810e-f2e9f179c7ec
   :DRILL_LAST_INTERVAL: 20.6501
   :DRILL_REPEATS_SINCE_FAIL: 4
   :DRILL_TOTAL_REPEATS: 3
   :DRILL_FAILURE_COUNT: 0
   :DRILL_AVERAGE_QUALITY: 3.667
   :DRILL_EASE: 2.32
   :DRILL_LAST_QUALITY: 5
   :DRILL_LAST_REVIEWED: [2022-01-03 Mon 08:02]
   :END:
How can you reduce latency for DynamoDb users in specified regions
*** Answer:
With global tables, you can specify the AWS Regions where
    you want the table to be available.
    
** DynamoDb latency                                                   :drill:
   SCHEDULED: <2022-01-09 Sun>
   :PROPERTIES:
   :ID:       a4ab0b29-a0ac-48f8-8e6e-c9976c808a84
   :DRILL_LAST_INTERVAL: 8.2681
   :DRILL_REPEATS_SINCE_FAIL: 3
   :DRILL_TOTAL_REPEATS: 6
   :DRILL_FAILURE_COUNT: 2
   :DRILL_AVERAGE_QUALITY: 2.667
   :DRILL_EASE: 2.08
   :DRILL_LAST_QUALITY: 4
   :DRILL_LAST_REVIEWED: [2022-01-01 Sat 18:24]
   :END:
   Name 5 strategies to reduce latency
***   answer
    
    Reduce the request timeout settings: Tune the client SDK
    parameters requestTimeOut and clientExecutionTimeout to timeout
    and fail much faster (for example, after 50 milliseconds). This
    causes the client to abandon high latency requests after the
    specified time period and then send a second request that usually
    completes much faster than the first. For more information about
    timeout settings, see Tuning AWS Java SDK HTTP request settings
    for latency-aware Amazon DynamoDB applications.

    Reduce the distance between the client and the DynamoDB endpoint:
    If you have globally dispersed users, consider using global
    tables. With global tables, you can specify the AWS Regions where
    you want the table to be available. This can significantly reduce
    latency for your users.

    Use caching: If your traffic is read heavy, consider using a
    caching service, such as Amazon DynamoDB Accelerator (DAX). DAX is
    a fully managed, highly available, in-memory cache for DynamoDB
    that delivers up to a 10x performance improvement, from
    milliseconds to microseconds, even at millions of requests per
    second.

    Send constant traffic or reuse connections: When you're not making
    requests, consider having the client send dummy traffic to a
    DynamoDB table. Or, you can reuse client connections or use
    connection pooling. All these techniques keep internal caches warm
    that helps keep latency low.

    Use eventually consistent reads: If your application doesn't
    require strongly consistent reads, consider using eventually
    consistent reads. Eventually consistent reads are cheaper and are
    less likely to experience high latency.

** Caches alternatives                                        :drill:
   SCHEDULED: <2022-01-29 Sat>
   :PROPERTIES:
   :ID:       c8cbc9ff-ea1d-4771-a78e-4e4bd6d8ce51
   :DRILL_LAST_INTERVAL: 25.88
   :DRILL_REPEATS_SINCE_FAIL: 4
   :DRILL_TOTAL_REPEATS: 4
   :DRILL_FAILURE_COUNT: 1
   :DRILL_AVERAGE_QUALITY: 3.75
   :DRILL_EASE: 2.6
   :DRILL_LAST_QUALITY: 5
   :DRILL_LAST_REVIEWED: [2022-01-03 Mon 07:56]
   :END:
Reasons to choose Memcached over Redis (per TJ):
*** Answer:
answer here

   - multithreaded
   - cache objects e.g. DB connection
   - Run on large nodes/multi core
   - Scale out and in
*** Bonus
    For DynamoDb DAX is the cache 
 
** Encryption - volume                                        :drill:
   SCHEDULED: <2022-01-27 Thu>
   :PROPERTIES:
   :ID:       4f894d04-2a92-4500-a536-3817a607dd4a
   :DRILL_LAST_INTERVAL: 24.12
   :DRILL_REPEATS_SINCE_FAIL: 4
   :DRILL_TOTAL_REPEATS: 3
   :DRILL_FAILURE_COUNT: 0
   :DRILL_AVERAGE_QUALITY: 3.667
   :DRILL_EASE: 2.36
   :DRILL_LAST_QUALITY: 3
   :DRILL_LAST_REVIEWED: [2022-01-03 Mon 07:56]
   :END:
How to encrypt an unencrypted volume
*** Answer:
  - it can't be encrypted "in place"
  - you can copy it onto an encrypted volume
  - or you can make a snapshot, make and encyrptetd volume, and copy snapshot to encyrpted volume

** SSL for Cloudfront                                         :drill:
   SCHEDULED: <2022-01-11 Tue>
   :PROPERTIES:
   :ID:       20b9b6ea-8761-4fe6-a929-a11c32ad0f14
   :DRILL_LAST_INTERVAL: 8.9667
   :DRILL_REPEATS_SINCE_FAIL: 3
   :DRILL_TOTAL_REPEATS: 8
   :DRILL_FAILURE_COUNT: 4
   :DRILL_AVERAGE_QUALITY: 2.125
   :DRILL_EASE: 2.18
   :DRILL_LAST_QUALITY: 3
   :DRILL_LAST_REVIEWED: [2022-01-02 Sun 16:21]
   :END:
Name of the feature to use in Cloudfront to Redirect HTTP to HTTPS?

To configure CloudFront to require HTTPS [between viewers and CloudFront]
Specify one of the following values for [Viewer Protocol Policy]:
    - Redirect HTTP to HTTPS
    - HTTPS only
or 
*** Answer:
 Viewer Protocol Policy 

** cloudwatch alarm                                                   :drill:
   SCHEDULED: <2022-01-28 Fri>
:PROPERTIES:
:DRILL_CARD_TYPE: hide1cloze
:ID:       45d3c320-b490-455f-b851-5563171d7f34
:DRILL_LAST_INTERVAL: 23.2194
:DRILL_REPEATS_SINCE_FAIL: 4
:DRILL_TOTAL_REPEATS: 4
:DRILL_FAILURE_COUNT: 1
:DRILL_AVERAGE_QUALITY: 3.25
:DRILL_EASE: 2.32
:DRILL_LAST_QUALITY: 3
:DRILL_LAST_REVIEWED: [2022-01-05 Wed 07:13]
:END:
  an alarm watches [a single action] over [a specified time period]

** Cloudwatch custom metrics                                 :drill:practice:
   SCHEDULED: <2022-02-01 Tue>
   :PROPERTIES:
   :ID:       77d6782c-e439-4ef0-97b8-38e0e86147a6
   :DRILL_LAST_INTERVAL: 24.0122
   :DRILL_REPEATS_SINCE_FAIL: 4
   :DRILL_TOTAL_REPEATS: 5
   :DRILL_FAILURE_COUNT: 1
   :DRILL_AVERAGE_QUALITY: 3.6
   :DRILL_EASE: 2.42
   :DRILL_LAST_QUALITY: 5
   :DRILL_LAST_REVIEWED: [2022-01-08 Sat 14:38]
   :END:
 - what is Api name and some parms to add a custom metric
*** Answer:
PutMetricData
  Parms: MetricData.member.N = array of MetricDatum
  Namespace: something that isn't AWS

  https://monitoring.&api-domain;/doc/2010-08-01/?Action=PutMetricData&Version=2010-08-01
  &Namespace=TestNamespace
  &MetricData.member.1.MetricName=buffers
  &MetricData.member.1.Unit=Bytes
  &MetricData.member.1.Value=231434333
  &MetricData.member.1.Dimensions.member.1.Name=InstanceID
  &MetricData.member.1.Dimensions.member.1.Value=i-aaba32d4
  &MetricData.member.1.Dimensions.member.2.Name=InstanceType
  &MetricData.member.1.Dimensions.member.2.Value=m1.small
  &AUTHPARAMS

  https://monitoring.&api-domain;/doc/2010-08-01/
  ?Action=PutMetricData
  &Version=2010-08-01
  &Namespace=TestNamespace
  &MetricData.member.1.MetricName=Reads
  &MetricData.member.1.Unit=Count
  &MetricData.member.1.Values.member.1=5
  &MetricData.member.1.Values.member.2=8
  &MetricData.member.1.Values.member.3=10
  &MetricData.member.1.Values.member.4=9
  &MetricData.member.1.Counts.member.1=1
  &MetricData.member.1.Counts.member.2=5
  &MetricData.member.1.Counts.member.3=6
  &MetricData.member.1.Counts.member.4=5
  &MetricData.member.1.Dimensions.member.1.Name=InstanceID
  &MetricData.member.1.Dimensions.member.1.Value=i-aaba32d4
  &MetricData.member.2.MetricName=Writes
  &MetricData.member.2.Unit=Count
  &MetricData.member.2.Values.member.1=2
  &MetricData.member.2.Values.member.2=3
  &MetricData.member.2.Values.member.3=0
  &MetricData.member.2.Counts.member.1=2
  &MetricData.member.2.Counts.member.2=2
  &MetricData.member.2.Counts.member.3=1
  &MetricData.member.2.Dimensions.member.1.Name=InstanceID
  &MetricData.member.2.Dimensions.member.1.Value=i-aaba32d4
  &AUTHPARAMS
  

** Question                                                  :drill:practice:
   SCHEDULED: <2022-01-08 Sat>
   :PROPERTIES:
   :ID:       a43038e7-dfc4-4cce-ad2c-32261b9a0ddb
   :DRILL_LAST_INTERVAL: 9.6346
   :DRILL_REPEATS_SINCE_FAIL: 3
   :DRILL_TOTAL_REPEATS: 4
   :DRILL_FAILURE_COUNT: 1
   :DRILL_AVERAGE_QUALITY: 3.25
   :DRILL_EASE: 2.46
   :DRILL_LAST_QUALITY: 5
   :DRILL_LAST_REVIEWED: [2021-12-29 Wed 06:42]
   :END:
lambda DLQ vs on-failure queue?
*** Answer:
DLQ is part of lambda version specific and is locked in
On-Failure can include more details

DLQ has redrive support

** CF deploy from s3                                              :drill:fix:
   SCHEDULED: <2022-01-08 Sat>
   :PROPERTIES:
   :ID:       6a39f60e-0c73-4349-a69d-4b52d77cf356
   :DRILL_LAST_INTERVAL: 10.352
   :DRILL_REPEATS_SINCE_FAIL: 3
   :DRILL_TOTAL_REPEATS: 4
   :DRILL_FAILURE_COUNT: 1
   :DRILL_AVERAGE_QUALITY: 3.5
   :DRILL_EASE: 2.6
   :DRILL_LAST_QUALITY: 5
   :DRILL_LAST_REVIEWED: [2021-12-29 Wed 06:56]
   :END:
 cloud formation to deploy lambda from s3, does bucket have to be in same region we run CF in?
*** Answer:

 Yes -- even tho s3 is global
 weird

** EC2 busrsting                                                      :drill:
   SCHEDULED: <2022-01-13 Thu>
   :PROPERTIES:
:DRILL_CARD_TYPE: hide1cloze
:ID:       d3806b49-3929-426b-b78f-c238b5326e4e
:DRILL_LAST_INTERVAL: 10.7143
:DRILL_REPEATS_SINCE_FAIL: 3
:DRILL_TOTAL_REPEATS: 6
:DRILL_FAILURE_COUNT: 2
:DRILL_AVERAGE_QUALITY: 2.833
:DRILL_EASE: 2.6
:DRILL_LAST_QUALITY: 4
:DRILL_LAST_REVIEWED: [2022-01-02 Sun 16:15]
:END:

There are two throughput modes for your file system: [Bursting Throughput] or [Provisioned Throughput].
*** bonus
Bursting Throughput mode
  - throughput on Amazon EFS scales as your file system grows.
Provisioned Throughput mode
  you can instantly provision the throughput of your file system independent of the amount of data stored

** Bursting Credits                                           :drill:
   SCHEDULED: <2022-01-17 Mon>
   :PROPERTIES:
   :ID:       af93d7fb-8074-4ea8-8379-4895b8419674
   :DRILL_LAST_INTERVAL: 8.2681
   :DRILL_REPEATS_SINCE_FAIL: 3
   :DRILL_TOTAL_REPEATS: 5
   :DRILL_FAILURE_COUNT: 1
   :DRILL_AVERAGE_QUALITY: 3.0
   :DRILL_EASE: 2.08
   :DRILL_LAST_QUALITY: 4
   :DRILL_LAST_REVIEWED: [2022-01-09 Sun 11:59]
   :END:
What is allotment of bursting credits on new file system
*** Answer:
New file systems start out with 2.1 TiB of burst credits. 
*** Bonus
    This is why you can drive the new file system at burst throughput,
    despite having no data or metadata stored in the system. When the
    burst credits are used, then the performance of the new system is
    lowered.

** EFS Filesystem                                             :drill:
   SCHEDULED: <2022-01-22 Sat>
   :PROPERTIES:
   :ID:       2c1d6726-6c31-4f3e-94ac-b27826ce63a9
   :DRILL_LAST_INTERVAL: 19.2482
   :DRILL_REPEATS_SINCE_FAIL: 4
   :DRILL_TOTAL_REPEATS: 3
   :DRILL_FAILURE_COUNT: 0
   :DRILL_AVERAGE_QUALITY: 3.0
   :DRILL_EASE: 2.08
   :DRILL_LAST_QUALITY: 3
   :DRILL_LAST_REVIEWED: [2022-01-03 Mon 07:52]
   :END:
What fielsystem becomes more efficient with greater volumes and why?
*** Answer:

With EFS, overall throughput generally increases as the average I/O
size increases, because the overhead is amortized over a larger amount
of data.  Amazon EFS supports highly parallelized workloads (for
example, using concurrent operations from multiple threads and
multiple Amazon EC2 instances), which enables high levels of aggregate
throughput and operations per second.

** SAM CDK                                                    :drill:
   SCHEDULED: <2022-01-15 Sat>
   :PROPERTIES:
   :ID:       b7006885-ff3b-4644-a8b3-883ff0e0e703
   :DRILL_LAST_INTERVAL: 10.3376
   :DRILL_REPEATS_SINCE_FAIL: 3
   :DRILL_TOTAL_REPEATS: 2
   :DRILL_FAILURE_COUNT: 0
   :DRILL_AVERAGE_QUALITY: 4.0
   :DRILL_EASE: 2.46
   :DRILL_LAST_QUALITY: 3
   :DRILL_LAST_REVIEWED: [2022-01-05 Wed 07:09]
   :END:
Use case distinction SAM and CDK
*** Answer:
Both abstract stack configuration
 - SAM into the Serverless app repo by Declaritive statements
 - CDK with programming languages -- Javascript/Java/.Net/python

** ALB cross zone                                                     :drill:
   SCHEDULED: <2022-01-16 Sun>
   :PROPERTIES:
   :ID:       30427647-4669-4755-afa1-7a995d651ab1
   :DRILL_LAST_INTERVAL: 10.352
   :DRILL_REPEATS_SINCE_FAIL: 3
   :DRILL_TOTAL_REPEATS: 2
   :DRILL_FAILURE_COUNT: 0
   :DRILL_AVERAGE_QUALITY: 4.5
   :DRILL_EASE: 2.6
   :DRILL_LAST_QUALITY: 5
   :DRILL_LAST_REVIEWED: [2022-01-06 Thu 08:31]
   :END:
   In cross zone, does each load balancer distribute to all zones?
   
*** answer
    yes
    so if there are 2 load balancers
    and one zone has 1 instance and the other has 4
    all instances will be 20% of traffic if cross-zone is enabled

** Elastic beanstalk                                                  :drill:
   SCHEDULED: <2022-01-28 Fri>
   :PROPERTIES:
   :ID:       7389718b-bf5c-4b39-808c-0f03ab3dd1fd
   :DRILL_LAST_INTERVAL: 23.271
   :DRILL_REPEATS_SINCE_FAIL: 4
   :DRILL_TOTAL_REPEATS: 3
   :DRILL_FAILURE_COUNT: 0
   :DRILL_AVERAGE_QUALITY: 3.667
   :DRILL_EASE: 2.36
   :DRILL_LAST_QUALITY: 4
   :DRILL_LAST_REVIEWED: [2022-01-05 Wed 07:19]
   :END:
   When can you lose bursting credits

*** answer
    

Some policies replace all instances during the deployment or
update. This causes all accumulated Amazon EC2 burst balances to be
lost. It happens in the following cases:

    Managed platform updates with instance replacement enabled

    Immutable updates

    Deployments with immutable updates or traffic splitting enabled


** Elastic Beastalk Deployment                                :drill:
   SCHEDULED: <2022-01-10 Mon>
   :PROPERTIES:
:DRILL_CARD_TYPE: hide1cloze
:ID:       116fff72-34c8-4d3f-808a-a60bc036b0b9
:DRILL_LAST_INTERVAL: 3.725
:DRILL_REPEATS_SINCE_FAIL: 2
:DRILL_TOTAL_REPEATS: 6
:DRILL_FAILURE_COUNT: 2
:DRILL_AVERAGE_QUALITY: 2.5
:DRILL_EASE: 1.94
:DRILL_LAST_QUALITY: 3
:DRILL_LAST_REVIEWED: [2022-01-06 Thu 08:41]
:END:
Synonyms: [traffic splitting] and [canary deployment]

Traffic-splitting deployments let you perform canary testing
   -  Beanstalk launches a full set of new instances just like during an immutable deployment.

   - Forwards a specified percentage of incoming client traffic to the new application version
     for a specified evaluation period.

   - If the new instances stay healthy, Elastic Beanstalk forwards all traffic to them
     and terminates the old ones.

   - If the new instances don't pass health checks, or if you choose to abort the deployment,
     Elastic Beanstalk moves traffic back to the old instances and terminates the new ones.

   - There's never any service interruption. 

** Bursting credit usage                                     :drill:practice:
   SCHEDULED: <2022-01-23 Sun>
   :PROPERTIES:
   :ID:       897363c3-eae5-4fdc-a637-d0b0f329168e
   :DRILL_LAST_INTERVAL: 17.091
   :DRILL_REPEATS_SINCE_FAIL: 4
   :DRILL_TOTAL_REPEATS: 5
   :DRILL_FAILURE_COUNT: 1
   :DRILL_AVERAGE_QUALITY: 2.8
   :DRILL_EASE: 2.08
   :DRILL_LAST_QUALITY: 4
   :DRILL_LAST_REVIEWED: [2022-01-06 Thu 08:35]
   :END:
What behavior to you look for when monitoring [BurstCreditBalance] metric
to ensure you are getting best thruput
*** Bonus:
To monitor and trigger an alarm on throughput, use the
BurstCreditBalance metric.

 + It should increase when your function's
concurrency is low and decrease when it is high.

If it always decreases or does not accumulate enough during low
activity to cover peak traffic, you may need to limit your function's
concurrency or enable provisioned throughput.

** Labmda version                                             :drill:
   SCHEDULED: <2022-02-04 Fri>
   :PROPERTIES:
   :ID:       e854c204-2251-4d10-a64d-d400db613bc5
   :DRILL_LAST_INTERVAL: 28.7036
   :DRILL_REPEATS_SINCE_FAIL: 4
   :DRILL_TOTAL_REPEATS: 3
   :DRILL_FAILURE_COUNT: 0
   :DRILL_AVERAGE_QUALITY: 4.667
   :DRILL_EASE: 2.7
   :DRILL_LAST_QUALITY: 5
   :DRILL_LAST_REVIEWED: [2022-01-06 Thu 08:38]
   :END:
What is unpublished version of lambda?
*** Answer:
 - the working copy, unversioed, aka $LATEST



** Lambda and VPC resources                              :drill:fix:practice:
   SCHEDULED: <2022-01-28 Fri>
   :PROPERTIES:
   :ID:       d8c0068d-f452-4910-903a-d05cc1b7b72f
   :DRILL_LAST_INTERVAL: 23.2385
   :DRILL_REPEATS_SINCE_FAIL: 4
   :DRILL_TOTAL_REPEATS: 3
   :DRILL_FAILURE_COUNT: 0
   :DRILL_AVERAGE_QUALITY: 4.0
   :DRILL_EASE: 2.46
   :DRILL_LAST_QUALITY: 5
   :DRILL_LAST_REVIEWED: [2022-01-05 Wed 21:26]
   :END:
 How to connect to VPC with lambda
*** Answer:
 by default it can't
 lambda creates an ENI -- it needs private subnet id and security gourp id
 https://docs.aws.amazon.com/lambda/latest/dg/configuration-vpc.html 

** Lambda and VPC resources                                  :drill:practice:
   SCHEDULED: <2022-01-23 Sun>
   :PROPERTIES:
   :ID:       c17559ad-6298-4607-934e-27f87560fc8a
   :DRILL_LAST_INTERVAL: 16.4926
   :DRILL_REPEATS_SINCE_FAIL: 4
   :DRILL_TOTAL_REPEATS: 5
   :DRILL_FAILURE_COUNT: 1
   :DRILL_AVERAGE_QUALITY: 2.6
   :DRILL_EASE: 1.94
   :DRILL_LAST_QUALITY: 3
   :DRILL_LAST_REVIEWED: [2022-01-07 Fri 08:05]
   :END:
When lambda connects to private subnet, key points
*** Answer:
  - need to have a Nat Gateway if it needs internet access
  - time to create dns records can cause timeout
  - the function needs create/describe/delete netowrk interfac
  - included in managed poolicy AWSLamdaVPCAccessExecutionRole
 


** What region s3                                             :drill:
   SCHEDULED: <2022-01-09 Sun>
   :PROPERTIES:
   :ID:       212586b1-d99b-4f76-b921-ff3cc4908fba
   :DRILL_LAST_INTERVAL: 9.6346
   :DRILL_REPEATS_SINCE_FAIL: 3
   :DRILL_TOTAL_REPEATS: 4
   :DRILL_FAILURE_COUNT: 1
   :DRILL_AVERAGE_QUALITY: 3.5
   :DRILL_EASE: 2.46
   :DRILL_LAST_QUALITY: 5
   :DRILL_LAST_REVIEWED: [2021-12-30 Thu 06:59]
   :END:
How do you get the bucket location from CLI?
*** Answer:
aws s3api get-bucket-location --bucket lambd-wiki

note: bucket, not bucket-name, and s3api, not s3


** Question  :drill:
   SCHEDULED: <2022-02-06 Sun>
   :PROPERTIES:
   :ID:       4a8f5988-bf0a-4a49-a5a0-900937ee4d85
   :DRILL_LAST_INTERVAL: 30.7556
   :DRILL_REPEATS_SINCE_FAIL: 4
   :DRILL_TOTAL_REPEATS: 3
   :DRILL_FAILURE_COUNT: 0
   :DRILL_AVERAGE_QUALITY: 5.0
   :DRILL_EASE: 2.8
   :DRILL_LAST_QUALITY: 5
   :DRILL_LAST_REVIEWED: [2022-01-06 Thu 08:39]
   :END:
What are the high level object in Cloud Development Kit called
*** Answer:
Constructs

Constructs Can be created in Java, .net, python

AWS CDK uses the familiarity and expressive power of programming
languages for modeling your applications. It provides high-level
components called constructs that preconfigure cloud resources with
proven defaults, so you can build cloud applications with ease.

** CDK                     :drill:
   SCHEDULED: <2022-01-09 Sun>
   :PROPERTIES:
   :ID:       e8c5f6d5-2204-4d5f-825e-297278af0f50
   :DRILL_LAST_INTERVAL: 10.352
   :DRILL_REPEATS_SINCE_FAIL: 3
   :DRILL_TOTAL_REPEATS: 4
   :DRILL_FAILURE_COUNT: 1
   :DRILL_AVERAGE_QUALITY: 3.75
   :DRILL_EASE: 2.6
   :DRILL_LAST_QUALITY: 5
   :DRILL_LAST_REVIEWED: [2021-12-30 Thu 06:54]
   :END:
What backend does CDK use to define stacks?
*** answer:
    either CloudFormation or Terraform

** Lambda placement requiremetn
   Where must Lamda be defined for ALB?
   
*** answer
    in same region
  - target group and Lambda must be in same account and same region

** Lambda limits                                              :drill:
   SCHEDULED: <2022-01-09 Sun>
   :PROPERTIES:
   :ID:       a3d14727-e863-4034-bd8d-6369431f5dd0
   :DRILL_LAST_INTERVAL: 9.648
   :DRILL_REPEATS_SINCE_FAIL: 3
   :DRILL_TOTAL_REPEATS: 5
   :DRILL_FAILURE_COUNT: 2
   :DRILL_AVERAGE_QUALITY: 2.8
   :DRILL_EASE: 2.36
   :DRILL_LAST_QUALITY: 3
   :DRILL_LAST_REVIEWED: [2021-12-30 Thu 06:57]
   :END:
Maxiumum body of Lambda function call
*** Answer:
  - Synchronoou when in ALB 1 meg
  - Synchronous, otherwise 6 MB
  - Asynch 256K

As a container, -- You can deploy Lambda function as container image with the maximum size of 10GB.
** IAM to use coname/users/XYX/ buckets                               :drill:
   SCHEDULED: <2022-01-31 Mon>
   :PROPERTIES:
   :ID:       822d6aee-ad32-4ae6-ab05-52272a11b401
   :DRILL_LAST_INTERVAL: 23.2385
   :DRILL_REPEATS_SINCE_FAIL: 4
   :DRILL_TOTAL_REPEATS: 5
   :DRILL_FAILURE_COUNT: 1
   :DRILL_AVERAGE_QUALITY: 3.6
   :DRILL_EASE: 2.46
   :DRILL_LAST_QUALITY: 5
   :DRILL_LAST_REVIEWED: [2022-01-08 Sat 14:34]
   :END:
   How can you set up to easiliy create sibling folders limited to different EE names?

*** answer
    IAM policy variables
    {"Condition": {"StringLike": {"s3://assholery/:{$aws:username}"}}}
    They were introduced in 2012 version

    
** Dedicated instance                                                 :drill:
   SCHEDULED: <2022-01-31 Mon>
   :PROPERTIES:
   :ID:       e39003b1-fa47-4bc3-b26c-8b6a3725439a
   :DRILL_LAST_INTERVAL: 25.88
   :DRILL_REPEATS_SINCE_FAIL: 4
   :DRILL_TOTAL_REPEATS: 3
   :DRILL_FAILURE_COUNT: 0
   :DRILL_AVERAGE_QUALITY: 4.333
   :DRILL_EASE: 2.6
   :DRILL_LAST_QUALITY: 5
   :DRILL_LAST_REVIEWED: [2022-01-05 Wed 07:08]
   :END:
   can dedicated instances be the on the same host as non-dedicated instances?

*** answer
    Yes.  Dedicated hosts have all dedicated instances
    
** SQS Default                                               :drill:memorize:
   SCHEDULED: <2022-01-27 Thu>
   :PROPERTIES:
   :ID:       ae293f95-b1b7-4bf5-9f37-871def0a2421
   :DRILL_LAST_INTERVAL: 21.6744
   :DRILL_REPEATS_SINCE_FAIL: 4
   :DRILL_TOTAL_REPEATS: 3
   :DRILL_FAILURE_COUNT: 0
   :DRILL_AVERAGE_QUALITY: 3.333
   :DRILL_EASE: 2.22
   :DRILL_LAST_QUALITY: 3
   :DRILL_LAST_REVIEWED: [2022-01-05 Wed 07:16]
   :END:
   Default visibility timeout for SQS message

*** answer
    30 seconds
    Both standard and FIFO

    
** Tag behavior                                                       :drill:
   SCHEDULED: <2022-02-06 Sun>
   :PROPERTIES:
   :ID:       fb9d154a-450d-4c7c-9672-5d7f0de57289
   :DRILL_LAST_INTERVAL: 30.7556
   :DRILL_REPEATS_SINCE_FAIL: 4
   :DRILL_TOTAL_REPEATS: 3
   :DRILL_FAILURE_COUNT: 0
   :DRILL_AVERAGE_QUALITY: 5.0
   :DRILL_EASE: 2.8
   :DRILL_LAST_QUALITY: 5
   :DRILL_LAST_REVIEWED: [2022-01-06 Thu 08:39]
   :END:
   Are tags case sensitive?  What if you use dupes
   
*** answer
    Yes, case sensitive.  Existing value overwrites older

** Queue limits                                                       :drill:
   SCHEDULED: <2022-01-30 Sun>
   :PROPERTIES:
   :ID:       2a247a23-b12b-4fb0-9a2e-5c552d5ca598
   :DRILL_LAST_INTERVAL: 24.8958
   :DRILL_REPEATS_SINCE_FAIL: 4
   :DRILL_TOTAL_REPEATS: 3
   :DRILL_FAILURE_COUNT: 0
   :DRILL_AVERAGE_QUALITY: 4.333
   :DRILL_EASE: 2.56
   :DRILL_LAST_QUALITY: 5
   :DRILL_LAST_REVIEWED: [2022-01-05 Wed 07:20]
   :END:
   How long to wait after you create a queue?

*** asnwer
    One second 
   
** lambda vocab                                                       :drill:
   SCHEDULED: <2022-02-06 Sun>
   :PROPERTIES:
:DRILL_CARD_TYPE: hide1cloze
:ID:       bd27a5b1-2e8d-4747-89df-5e8d082f7061
:DRILL_LAST_INTERVAL: 30.7556
:DRILL_REPEATS_SINCE_FAIL: 4
:DRILL_TOTAL_REPEATS: 3
:DRILL_FAILURE_COUNT: 0
:DRILL_AVERAGE_QUALITY: 5.0
:DRILL_EASE: 2.8
:DRILL_LAST_QUALITY: 5
:DRILL_LAST_REVIEWED: [2022-01-06 Thu 08:40]
:END:
Lambda - [LATEST (with a dollar sign)] is aka [unpublished]

** SQS Queue Quotas                                                   :drill:
   SCHEDULED: <2022-01-09 Sun>
   :PROPERTIES:
   :ID:       2cdbea31-f99d-49ea-b6da-e4d0d503ac7d
   :DRILL_LAST_INTERVAL: 3.86
   :DRILL_REPEATS_SINCE_FAIL: 2
   :DRILL_TOTAL_REPEATS: 6
   :DRILL_FAILURE_COUNT: 3
   :DRILL_AVERAGE_QUALITY: 2.667
   :DRILL_EASE: 2.36
   :DRILL_LAST_QUALITY: 4
   :DRILL_LAST_REVIEWED: [2022-01-05 Wed 07:28]
   :END:
   if you hit inflight limit, what happens?

*** answer
    Short Polling queue:  you get an error message
    Long polling Queue: nothing

    
** ALB performance                                                    :drill:
   SCHEDULED: <2022-01-24 Mon>
   :PROPERTIES:
   :ID:       0679f167-ee36-4e40-bbe1-29bbc479d06e
   :DRILL_LAST_INTERVAL: 19.2482
   :DRILL_REPEATS_SINCE_FAIL: 4
   :DRILL_TOTAL_REPEATS: 3
   :DRILL_FAILURE_COUNT: 0
   :DRILL_AVERAGE_QUALITY: 3.0
   :DRILL_EASE: 2.08
   :DRILL_LAST_QUALITY: 3
   :DRILL_LAST_REVIEWED: [2022-01-05 Wed 07:27]
   :END:
   Distinguish ALB Access Logs and ALB Request tracing

*** answer
    Request tracing: Http routing info -- Load balancer adds a header
    ALB access log:  troubleshooting access/performance -- latencies, etc.
      -- Access logging is disabled by default
** ALB Feature                                                :drill:
   SCHEDULED: <2022-01-17 Mon>
   :PROPERTIES:
   :ID:       b8f30f5f-5c59-4336-b3a9-1a0545624fd4
   :DRILL_LAST_INTERVAL: 9.3103
   :DRILL_REPEATS_SINCE_FAIL: 3
   :DRILL_TOTAL_REPEATS: 3
   :DRILL_FAILURE_COUNT: 1
   :DRILL_AVERAGE_QUALITY: 3.0
   :DRILL_EASE: 2.36
   :DRILL_LAST_QUALITY: 4
   :DRILL_LAST_REVIEWED: [2022-01-08 Sat 14:32]
   :END:
What feature in ALB can capture when the request was received, the
client's IP address, latencies, request paths, and server responses.
*** Answer:
Access Log

** Access Log                                                 :drill:
   SCHEDULED: <2022-01-18 Tue>
   :PROPERTIES:
   :ID:       b255396a-28fd-47a5-b695-7af6b6a1be18
   :DRILL_LAST_INTERVAL: 10.0
   :DRILL_REPEATS_SINCE_FAIL: 3
   :DRILL_TOTAL_REPEATS: 2
   :DRILL_FAILURE_COUNT: 0
   :DRILL_AVERAGE_QUALITY: 4.0
   :DRILL_EASE: 2.5
   :DRILL_LAST_QUALITY: 4
   :DRILL_LAST_REVIEWED: [2022-01-08 Sat 14:36]
   :END:
With what service is Access Log associated
*** Answer:
ALB


      
** SQS Troubleshooting                                                :drill:
   SCHEDULED: <2022-01-11 Tue>
   :PROPERTIES:
:DRILL_CARD_TYPE: hide1cloze
:ID:       d5045ca9-cf40-42c5-8bb1-a355a1ebbe9e
:DRILL_LAST_INTERVAL: 3.99
:DRILL_REPEATS_SINCE_FAIL: 2
:DRILL_TOTAL_REPEATS: 9
:DRILL_FAILURE_COUNT: 4
:DRILL_AVERAGE_QUALITY: 3.0
:DRILL_EASE: 2.42
:DRILL_LAST_QUALITY: 5
:DRILL_LAST_REVIEWED: [2022-01-07 Fri 08:22]
:END:

   [Access log] is an ALB feature for troubleshooting.  There is no
   charge except [s3 charges to store the log]

** Elastic Beanstalk deployment                                       :drill:
   SCHEDULED: <2022-02-02 Wed>
   :PROPERTIES:
   :ID:       e86b194d-1f41-49c6-a0f6-e771efabe696
   :DRILL_LAST_INTERVAL: 27.733
   :DRILL_REPEATS_SINCE_FAIL: 4
   :DRILL_TOTAL_REPEATS: 3
   :DRILL_FAILURE_COUNT: 0
   :DRILL_AVERAGE_QUALITY: 4.667
   :DRILL_EASE: 2.7
   :DRILL_LAST_QUALITY: 5
   :DRILL_LAST_REVIEWED: [2022-01-05 Wed 21:38]
   :END:
   Tell me five Elastic Beanstalk deployment methods

*** answer

 - All at one
 - Blue Green
 - Immutable
 - Rolling
 - Rolling with additional

** VPC endpoint                                                       :drill:
   SCHEDULED: <2022-01-09 Sun>
   :PROPERTIES:
   :ID:       41203c39-807a-4387-8364-e98624d49717
   :DRILL_LAST_INTERVAL: 4.0
   :DRILL_REPEATS_SINCE_FAIL: 2
   :DRILL_TOTAL_REPEATS: 4
   :DRILL_FAILURE_COUNT: 1
   :DRILL_AVERAGE_QUALITY: 3.0
   :DRILL_EASE: 2.22
   :DRILL_LAST_QUALITY: 4
   :DRILL_LAST_REVIEWED: [2022-01-05 Wed 21:30]
   :END:
   What is a region specific s3 url?

*** answer
    e.g. mybucket.s3-us-west-2.amazonaws.com
    You use it creating enpoints

** Reader endpoint                                            :drill:
   SCHEDULED: <2022-01-17 Mon>
   :PROPERTIES:
   :ID:       f361903b-5717-40e8-82c3-6bf7d033cf30
   :DRILL_LAST_INTERVAL: 10.0
   :DRILL_REPEATS_SINCE_FAIL: 3
   :DRILL_TOTAL_REPEATS: 2
   :DRILL_FAILURE_COUNT: 0
   :DRILL_AVERAGE_QUALITY: 4.0
   :DRILL_EASE: 2.5
   :DRILL_LAST_QUALITY: 4
   :DRILL_LAST_REVIEWED: [2022-01-07 Fri 08:05]
   :END:
What is a reader endpoint
*** Answer:
Where you read from read replicas -- queries e.g. to aurora replicas and elasticache read replicas
    
** Question  :drill:
   SCHEDULED: <2022-01-09 Sun>
   :PROPERTIES:
   :ID:       304f8645-9366-4105-8ed1-238c1460bee3
   :DRILL_LAST_INTERVAL: 9.3103
   :DRILL_REPEATS_SINCE_FAIL: 3
   :DRILL_TOTAL_REPEATS: 2
   :DRILL_FAILURE_COUNT: 0
   :DRILL_AVERAGE_QUALITY: 3.5
   :DRILL_EASE: 2.36
   :DRILL_LAST_QUALITY: 4
   :DRILL_LAST_REVIEWED: [2021-12-31 Fri 16:03]
   :END:

     is a reader endpoint a load balancer?
*** Answer:
      A reader endpoint is not a load balancer. It is a DNS record that will resolve to an IP address of one of the replica nodes in a round robin fashion.
answer here
    

** Question  :drill:
   SCHEDULED: <2022-01-08 Sat>
   :PROPERTIES:
   :ID:       d3912bf4-2a35-40c0-b59e-a99126d4f3d0
   :DRILL_LAST_INTERVAL: 10.3376
   :DRILL_REPEATS_SINCE_FAIL: 3
   :DRILL_TOTAL_REPEATS: 2
   :DRILL_FAILURE_COUNT: 0
   :DRILL_AVERAGE_QUALITY: 4.0
   :DRILL_EASE: 2.46
   :DRILL_LAST_QUALITY: 3
   :DRILL_LAST_REVIEWED: [2021-12-29 Wed 06:56]
   :END:
What is a local secondary index?
*** Answer:
  - it has the same partition key as the main table, different sort key


** Question                                                  :drill:practice:
   SCHEDULED: <2022-01-08 Sat>
   :PROPERTIES:
   :ID:       3e3fb1a5-fc77-40c4-b890-00b78ff5fd8b
   :DRILL_LAST_INTERVAL: 11.0911
   :DRILL_REPEATS_SINCE_FAIL: 3
   :DRILL_TOTAL_REPEATS: 2
   :DRILL_FAILURE_COUNT: 0
   :DRILL_AVERAGE_QUALITY: 5.0
   :DRILL_EASE: 2.7
   :DRILL_LAST_QUALITY: 5
   :DRILL_LAST_REVIEWED: [2021-12-28 Tue 22:43]
   :END:
How do you control acces to ECR docker repo?
*** Answer:
IAM


** Lambda                                                             :drill:
   SCHEDULED: <2022-01-12 Wed>
   :PROPERTIES:
   :ID:       b15894e3-8ebf-4089-a2a1-9737d1486473
   :DRILL_LAST_INTERVAL: 9.9715
   :DRILL_REPEATS_SINCE_FAIL: 3
   :DRILL_TOTAL_REPEATS: 4
   :DRILL_FAILURE_COUNT: 1
   :DRILL_AVERAGE_QUALITY: 3.25
   :DRILL_EASE: 2.46
   :DRILL_LAST_QUALITY: 4
   :DRILL_LAST_REVIEWED: [2022-01-02 Sun 16:17]
   :END:
Lambda - (currency)LATEST  is aka [unpublished]

** Question  :drill:
   SCHEDULED: <2022-01-10 Mon>
   :PROPERTIES:
   :ID:       8c32167e-70a9-402d-a093-d0fc5ed1cf34
   :DRILL_LAST_INTERVAL: 8.2695
   :DRILL_REPEATS_SINCE_FAIL: 3
   :DRILL_TOTAL_REPEATS: 5
   :DRILL_FAILURE_COUNT: 2
   :DRILL_AVERAGE_QUALITY: 2.8
   :DRILL_EASE: 2.22
   :DRILL_LAST_QUALITY: 4
   :DRILL_LAST_REVIEWED: [2022-01-02 Sun 16:21]
   :END:
What is a task in ECS
*** Answer:
Mostly:
A task is the instantiation of a task definition within a cluster.
Same as a "batch" container - the running reification of an images
But:
  A task can be comprised of multiple containers

vs Service:  a service keeps running, a task will finish

https://www.freecodecamp.org/news/amazon-ecs-terms-and-architecture-807d8c4960fd/
  
** code commit exotics                                       :drill:practice:
   SCHEDULED: <2022-01-10 Mon>
:PROPERTIES:
:DRILL_CARD_TYPE: hide1cloze
:ID:       8d57eda7-e807-4821-a566-4f6e4893e19e
:DRILL_LAST_INTERVAL: 10.3376
:DRILL_REPEATS_SINCE_FAIL: 3
:DRILL_TOTAL_REPEATS: 2
:DRILL_FAILURE_COUNT: 0
:DRILL_AVERAGE_QUALITY: 4.0
:DRILL_EASE: 2.46
:DRILL_LAST_QUALITY: 3
:DRILL_LAST_REVIEWED: [2021-12-31 Fri 16:23]
:END:
   you can use [aws access keys] using [credential helper] over https with the CLI

** distinguish cloudtrail and clouwatch                               :drill:
   SCHEDULED: <2022-01-08 Sat>
   :PROPERTIES:
   :ID:       ce2db68b-bd3a-438a-b384-8be606a1766c
   :DRILL_LAST_INTERVAL: 10.3376
   :DRILL_REPEATS_SINCE_FAIL: 3
   :DRILL_TOTAL_REPEATS: 2
   :DRILL_FAILURE_COUNT: 0
   :DRILL_AVERAGE_QUALITY: 4.0
   :DRILL_EASE: 2.46
   :DRILL_LAST_QUALITY: 3
   :DRILL_LAST_REVIEWED: [2021-12-29 Wed 06:44]
   :END:
  distinguish cloudtrail and clouwatch
*** answer
Cloudwatch - performance/health  (a guy watching a dashboard)
Cloudtrail - auditing (think footprints and sleuth)

Cloudwatch is a monitoring service that gives you visibility into the performance and health of your AWS resources and applications, whereas

AWS Cloudtrail is a service that logs AWS account activity and API usage for risk auditing, compliance and monitoring.

** Firehose vs Kinesis Data Streams                                   :drill:
   SCHEDULED: <2022-02-01 Tue>
   :PROPERTIES:
   :ID:       c329da20-fbd2-4d4b-9e63-0028d8738bc1
   :DRILL_LAST_INTERVAL: 24.8862
   :DRILL_REPEATS_SINCE_FAIL: 4
   :DRILL_TOTAL_REPEATS: 3
   :DRILL_FAILURE_COUNT: 0
   :DRILL_AVERAGE_QUALITY: 4.333
   :DRILL_EASE: 2.56
   :DRILL_LAST_QUALITY: 5
   :DRILL_LAST_REVIEWED: [2022-01-07 Fri 08:03]
   :END:
   distinguish Firehose vs Kinesis Data Streams

*** answer
    Firehose can't go to custom apps
    It goes to certain Analytics producst: Redshift,  splunk, elasticsearch, also s3

    
** Load Balancer conectivity                                  :drill:
   SCHEDULED: <2022-01-08 Sat>
:PROPERTIES:
:DRILL_CARD_TYPE: hide1cloze
:ID:       86a25a48-6221-40be-b9fd-8bf33f1361d0
:DRILL_LAST_INTERVAL: 10.7143
:DRILL_REPEATS_SINCE_FAIL: 3
:DRILL_TOTAL_REPEATS: 2
:DRILL_FAILURE_COUNT: 0
:DRILL_AVERAGE_QUALITY: 4.5
:DRILL_EASE: 2.6
:DRILL_LAST_QUALITY: 4
:DRILL_LAST_REVIEWED: [2021-12-28 Tue 22:38]
:END:

You must ensure that your load balancer can communicate with
registered targets on both [the listener port] and the [health check
port].

** Definition Gateway usage plan                              :drill:
   SCHEDULED: <2022-01-27 Thu>
   :PROPERTIES:
   :ID:       ddb72b20-df9f-4d53-ab47-7f21ba5b5a4a
   :DRILL_LAST_INTERVAL: 19.9491
   :DRILL_REPEATS_SINCE_FAIL: 4
   :DRILL_TOTAL_REPEATS: 3
   :DRILL_FAILURE_COUNT: 0
   :DRILL_AVERAGE_QUALITY: 3.333
   :DRILL_EASE: 2.22
   :DRILL_LAST_QUALITY: 4
   :DRILL_LAST_REVIEWED: [2022-01-07 Fri 08:12]
   :END:
Define Gateway usage plan
*** Answer:
A usage plan specifies who can access one or more deployed API stages
and methods—and optionally sets the target request rate to start
throttling requests

** Define Lambda Authorizer                                   :drill:
   SCHEDULED: <2022-01-08 Sat>
   :PROPERTIES:
   :ID:       17628708-3ab4-4375-8eb9-c8ca1766fc85
   :DRILL_LAST_INTERVAL: 9.648
   :DRILL_REPEATS_SINCE_FAIL: 3
   :DRILL_TOTAL_REPEATS: 2
   :DRILL_FAILURE_COUNT: 0
   :DRILL_AVERAGE_QUALITY: 3.5
   :DRILL_EASE: 2.36
   :DRILL_LAST_QUALITY: 3
   :DRILL_LAST_REVIEWED: [2021-12-29 Wed 06:54]
   :END:
Define Lambda Authorizer
*** Answer:
formerly known as a custom authorizer
- an API Gateway feature that uses a Lambda function to control access to your
API.
- takes the caller's identity as input and returns an IAM policy as
output.

A Lambda authorizer is useful if you want to implement a custom
authorization scheme that uses a bearer token authentication strategy
such as OAuth or SAML, or that uses request parameters to determine
the caller's identity.


** SAM and CDK                                                :drill:
   SCHEDULED: <2022-01-26 Wed>
   :PROPERTIES:
   :ID:       2a87ab3e-58da-48da-9c13-6c0a267eb0eb
   :DRILL_LAST_INTERVAL: 19.2482
   :DRILL_REPEATS_SINCE_FAIL: 4
   :DRILL_TOTAL_REPEATS: 3
   :DRILL_FAILURE_COUNT: 0
   :DRILL_AVERAGE_QUALITY: 3.0
   :DRILL_EASE: 2.08
   :DRILL_LAST_QUALITY: 3
   :DRILL_LAST_REVIEWED: [2022-01-07 Fri 08:14]
   :END:
Can I use the AWS SAM CLI to locally test Lambda functions defined with AWS CDK?
*** Answer:

Yes, you can locally synthesize your AWS CDK application into a
CloudFormation template and then reference the generated AWS Lambda
handler ID in the SAM CLI.

** user data script -- multiple runs                                  :drill:
   SCHEDULED: <2022-01-09 Sun>
   :PROPERTIES:
   :ID:       b434cada-b587-4492-b9a3-28a4534fe974
   :DRILL_LAST_INTERVAL: 11.0911
   :DRILL_REPEATS_SINCE_FAIL: 3
   :DRILL_TOTAL_REPEATS: 2
   :DRILL_FAILURE_COUNT: 0
   :DRILL_AVERAGE_QUALITY: 5.0
   :DRILL_EASE: 2.7
   :DRILL_LAST_QUALITY: 5
   :DRILL_LAST_REVIEWED: [2021-12-29 Wed 06:42]
   :END:
   By default a user data script only runs on initial boot.  How to change that?
   
*** ansewr
    stop it.  In the console, go to the window and change the script to a MIME file that
    runs the script.

** Question  :drill:
   SCHEDULED: <2022-01-15 Sat>
   :PROPERTIES:
   :ID:       d5e21d27-81b6-4882-824e-64548e65ac87
   :DRILL_LAST_INTERVAL: 10.3376
   :DRILL_REPEATS_SINCE_FAIL: 3
   :DRILL_TOTAL_REPEATS: 2
   :DRILL_FAILURE_COUNT: 0
   :DRILL_AVERAGE_QUALITY: 4.0
   :DRILL_EASE: 2.46
   :DRILL_LAST_QUALITY: 3
   :DRILL_LAST_REVIEWED: [2022-01-05 Wed 21:34]
   :END:
How does a load balancer communicate with instances -- what does it call?
*** Answer:
On their private IP addresses
    
** Question  :drill:
   SCHEDULED: <2022-01-16 Sun>
   :PROPERTIES:
   :ID:       f85b4ec9-60b7-4b9d-9536-5c8725714282
   :DRILL_LAST_INTERVAL: 10.7143
   :DRILL_REPEATS_SINCE_FAIL: 3
   :DRILL_TOTAL_REPEATS: 2
   :DRILL_FAILURE_COUNT: 0
   :DRILL_AVERAGE_QUALITY: 4.5
   :DRILL_EASE: 2.6
   :DRILL_LAST_QUALITY: 4
   :DRILL_LAST_REVIEWED: [2022-01-05 Wed 21:29]
   :END:
Association: what service is "synthesize stack" associated with?
*** Answer:
CDK - it synthesizes a CloudFormation template

** EC2 - metadata                                            :drill:memorize:
   SCHEDULED: <2022-01-11 Tue>
   :PROPERTIES:
   :ID:       53ac1803-4efc-4791-b516-e28742b22421
   :DRILL_LAST_INTERVAL: 9.6346
   :DRILL_REPEATS_SINCE_FAIL: 3
   :DRILL_TOTAL_REPEATS: 2
   :DRILL_FAILURE_COUNT: 0
   :DRILL_AVERAGE_QUALITY: 4.0
   :DRILL_EASE: 2.46
   :DRILL_LAST_QUALITY: 5
   :DRILL_LAST_REVIEWED: [2022-01-01 Sat 18:30]
   :END:
   what is that magic address for metadata in ec2?

*** it is...
    169.254.169.254

    You can also get user-data

** User data scripts and AWS resources                       :drill:practice:
   SCHEDULED: <2022-01-10 Mon>
   :PROPERTIES:
   :ID:       2744e57a-32d6-4266-8588-d44c0a53bf2b
   :DRILL_LAST_INTERVAL: 9.648
   :DRILL_REPEATS_SINCE_FAIL: 3
   :DRILL_TOTAL_REPEATS: 3
   :DRILL_FAILURE_COUNT: 1
   :DRILL_AVERAGE_QUALITY: 2.333
   :DRILL_EASE: 2.36
   :DRILL_LAST_QUALITY: 3
   :DRILL_LAST_REVIEWED: [2021-12-31 Fri 15:59]
   :END:
   If you use an AWS API, including the AWS CLI, in a user data script,
   you must use an [instance profile] when launching the instance.
   
*** bonus: where the output goes
    /var/log/cloud-init-output.log
   
** Two technologies for lambda authorizers                   :drill:practice:
   SCHEDULED: <2022-01-14 Fri>
   :PROPERTIES:
   :ID:       64f28527-1ae8-4994-be3b-8f14f6d652c0
   :DRILL_LAST_INTERVAL: 11.0911
   :DRILL_REPEATS_SINCE_FAIL: 3
   :DRILL_TOTAL_REPEATS: 4
   :DRILL_FAILURE_COUNT: 1
   :DRILL_AVERAGE_QUALITY: 3.75
   :DRILL_EASE: 2.7
   :DRILL_LAST_QUALITY: 5
   :DRILL_LAST_REVIEWED: [2022-01-03 Mon 08:01]
   :END:
What are teh two main types of lambda authorizers

A use case where only one works
*** Answer:
Token based    (oauth/jwt)
Request based  (only choice for websocket apis)

A token-based Lambda authorizer (also called a TOKEN authorizer)
receives the caller's identity in a bearer token, such as a JSON Web
Token (JWT) or an OAuth token. 

A request parameter-based Lambda authorizer (also called a REQUEST
authorizer) receives the caller's identity in a combination of
headers, query string parameters, stageVariables, and $context
variables.

For WebSocket APIs, only request parameter-based authorizers are supported.

   
** SQS queue                                                          :drill:
   SCHEDULED: <2022-01-08 Sat>
   :PROPERTIES:
   :ID:       20f1991e-1ed9-4b82-be6b-7fdb79a7451b
   :DRILL_LAST_INTERVAL: 10.7143
   :DRILL_REPEATS_SINCE_FAIL: 3
   :DRILL_TOTAL_REPEATS: 2
   :DRILL_FAILURE_COUNT: 0
   :DRILL_AVERAGE_QUALITY: 4.5
   :DRILL_EASE: 2.6
   :DRILL_LAST_QUALITY: 4
   :DRILL_LAST_REVIEWED: [2021-12-28 Tue 22:35]
   :END:
   Can you change type of existing SQS, and what types are there

*** answer
    No.  FIFO and standard  -- standard is best effort, at least once

** Question  :drill:
   SCHEDULED: <2022-01-07 Fri>
   :PROPERTIES:
   :ID:       3c59807a-f4bd-4baf-a8f9-2d994d95faad
   :DRILL_LAST_INTERVAL: 10.352
   :DRILL_REPEATS_SINCE_FAIL: 3
   :DRILL_TOTAL_REPEATS: 2
   :DRILL_FAILURE_COUNT: 0
   :DRILL_AVERAGE_QUALITY: 4.5
   :DRILL_EASE: 2.6
   :DRILL_LAST_QUALITY: 5
   :DRILL_LAST_REVIEWED: [2021-12-28 Tue 22:43]
   :END:
In API Gateway - what is that allows you to publish different versions aka dev, test -- to different urls from same code
*** Answer:
 - stage variables -- they are deployment stages
   Lets you reference the value from API setup

** Question                                                  :drill:practice:
   SCHEDULED: <2022-01-31 Mon>
   :PROPERTIES:
   :ID:       d01a929f-1b73-4d57-a265-b73f434cc712
   :DRILL_LAST_INTERVAL: 23.2385
   :DRILL_REPEATS_SINCE_FAIL: 4
   :DRILL_TOTAL_REPEATS: 3
   :DRILL_FAILURE_COUNT: 0
   :DRILL_AVERAGE_QUALITY: 4.0
   :DRILL_EASE: 2.46
   :DRILL_LAST_QUALITY: 5
   :DRILL_LAST_REVIEWED: [2022-01-08 Sat 14:35]
   :END:
What is task definition
*** Answer:
Looks a lot like docker compose file, json file used with ECS


** Question                                                  :drill:practice:
   SCHEDULED: <2022-01-08 Sat>
   :PROPERTIES:
   :ID:       9ae600fc-2912-418a-8d05-f8d295c39fd3
   :DRILL_LAST_INTERVAL: 10.352
   :DRILL_REPEATS_SINCE_FAIL: 3
   :DRILL_TOTAL_REPEATS: 2
   :DRILL_FAILURE_COUNT: 0
   :DRILL_AVERAGE_QUALITY: 4.5
   :DRILL_EASE: 2.6
   :DRILL_LAST_QUALITY: 5
   :DRILL_LAST_REVIEWED: [2021-12-29 Wed 06:57]
   :END:
Can you run ECS services with Elastic Beanstalk?
*** Answer:
Yes
Bonus either single- or multi-container instance


** Question  :drill:
   SCHEDULED: <2022-01-11 Tue>
   :PROPERTIES:
   :ID:       b6b8b755-8816-43db-b377-e2bf2dd5b5a9
   :DRILL_LAST_INTERVAL: 9.6346
   :DRILL_REPEATS_SINCE_FAIL: 3
   :DRILL_TOTAL_REPEATS: 2
   :DRILL_FAILURE_COUNT: 0
   :DRILL_AVERAGE_QUALITY: 4.0
   :DRILL_EASE: 2.46
   :DRILL_LAST_QUALITY: 5
   :DRILL_LAST_REVIEWED: [2022-01-01 Sat 18:38]
   :END:
Can you put on premises machines into ecs cluster?
*** Answer:
No - only Ec2 can run the necessary agent


** Question  :drill:
   SCHEDULED: <2022-01-08 Sat>
   :PROPERTIES:
   :ID:       addfa695-4a53-4cd7-8470-711b23aba029
   :DRILL_LAST_INTERVAL: 11.0911
   :DRILL_REPEATS_SINCE_FAIL: 3
   :DRILL_TOTAL_REPEATS: 2
   :DRILL_FAILURE_COUNT: 0
   :DRILL_AVERAGE_QUALITY: 5.0
   :DRILL_EASE: 2.7
   :DRILL_LAST_QUALITY: 5
   :DRILL_LAST_REVIEWED: [2021-12-28 Tue 22:43]
   :END:
2 things required to allow specified clients  to get up-to-desults from API Gateway
*** Answer:
 - 1 you configure: Tick on require authorization in Cache Settings
 - 2 they configure: include header Cache-Control: max-age=0

** define                                                         :drill:fix:
   SCHEDULED: <2022-01-14 Fri>
   :PROPERTIES:
   :ID:       3e2ecacf-8d28-4522-b8f4-38ed08cf0df3
   :DRILL_LAST_INTERVAL: 9.3103
   :DRILL_REPEATS_SINCE_FAIL: 3
   :DRILL_TOTAL_REPEATS: 5
   :DRILL_FAILURE_COUNT: 2
   :DRILL_AVERAGE_QUALITY: 3.0
   :DRILL_EASE: 2.36
   :DRILL_LAST_QUALITY: 4
   :DRILL_LAST_REVIEWED: [2022-01-05 Wed 21:24]
   :END:
define Cloudwatch Events
*** Answer:
  delivers a near real-time stream of system events that describe changes in Amazon Web Services (AWS) resources.

  aged?  Amazon EventBridge is the preferred way to manage your
  events. CloudWatch Events and EventBridge are the same underlying
  service and API, but EventBridge provides more features. Changes you
  make in either CloudWatch or EventBridge will appear in each
  console.


** dynamo projection                                                  :drill:
   SCHEDULED: <2022-01-16 Sun>
   :PROPERTIES:
   :ID:       a6b69001-e683-477d-8709-1a5ed6e65674
   :DRILL_LAST_INTERVAL: 11.0911
   :DRILL_REPEATS_SINCE_FAIL: 3
   :DRILL_TOTAL_REPEATS: 5
   :DRILL_FAILURE_COUNT: 2
   :DRILL_AVERAGE_QUALITY: 3.6
   :DRILL_EASE: 2.7
   :DRILL_LAST_QUALITY: 5
   :DRILL_LAST_REVIEWED: [2022-01-05 Wed 21:35]
   :END:
the [primary key attributes] of the [base table] are always projected into a dynamo index  


** API gateway integrations                                  :drill:practice:
   SCHEDULED: <2022-01-07 Fri>
   :PROPERTIES:
   :ID:       a409925f-1774-4008-96ef-b627d77d9cb6
   :DRILL_LAST_INTERVAL: 10.352
   :DRILL_REPEATS_SINCE_FAIL: 3
   :DRILL_TOTAL_REPEATS: 2
   :DRILL_FAILURE_COUNT: 0
   :DRILL_AVERAGE_QUALITY: 4.5
   :DRILL_EASE: 2.6
   :DRILL_LAST_QUALITY: 5
   :DRILL_LAST_REVIEWED: [2021-12-28 Tue 22:42]
   :END:
In API gateway, distinguish HTTP PROXY and HTTP integration
*** Answer:
  - proxy simply maps path and HTTP method
  - HTTP aka HTTP custom - allows you to specify how data in
    request/response is mapped to methods


** Question  :drill:
   SCHEDULED: <2022-01-09 Sun>
   :PROPERTIES:
   :ID:       55e677f3-9487-4ca1-af49-a371670c21f2
   :DRILL_LAST_INTERVAL: 9.3103
   :DRILL_REPEATS_SINCE_FAIL: 3
   :DRILL_TOTAL_REPEATS: 2
   :DRILL_FAILURE_COUNT: 0
   :DRILL_AVERAGE_QUALITY: 3.5
   :DRILL_EASE: 2.36
   :DRILL_LAST_QUALITY: 4
   :DRILL_LAST_REVIEWED: [2021-12-31 Fri 16:05]
   :END:
Difference geolocation and gegoproximity routing
*** Answer:
Route53:
  Geolocation routing policy – Use when you want to route traffic
based on the location of your users.
  Geoproximity routing policy – 
when you want to route traffic based on the location of your resources
and, optionally, shift traffic from resources in one location to
resources in another.


** Question  :drill:
   SCHEDULED: <2022-01-07 Fri>
   :PROPERTIES:
   :ID:       4bd4ac9c-7d4e-4551-8c37-5b2c3885b488
   :DRILL_LAST_INTERVAL: 10.352
   :DRILL_REPEATS_SINCE_FAIL: 3
   :DRILL_TOTAL_REPEATS: 3
   :DRILL_FAILURE_COUNT: 1
   :DRILL_AVERAGE_QUALITY: 3.333
   :DRILL_EASE: 2.6
   :DRILL_LAST_QUALITY: 5
   :DRILL_LAST_REVIEWED: [2021-12-28 Tue 22:40]
   :END:
Lambda feature to redirect traffic to new version; its advantage;
name of implementation setting

*** Answer:
answer here
 - Traffic shifting
 - easy backoff
 - routing-config
 Bonus - two versions only


** Question                                                  :drill:practice:
   SCHEDULED: <2022-01-08 Sat>
   :PROPERTIES:
   :ID:       489b425b-9754-4076-9044-e57f72a1e418
   :DRILL_LAST_INTERVAL: 11.0911
   :DRILL_REPEATS_SINCE_FAIL: 3
   :DRILL_TOTAL_REPEATS: 3
   :DRILL_FAILURE_COUNT: 1
   :DRILL_AVERAGE_QUALITY: 4.0
   :DRILL_EASE: 2.7
   :DRILL_LAST_QUALITY: 5
   :DRILL_LAST_REVIEWED: [2021-12-28 Tue 22:33]
   :END:
 Diff between AWS and HTTP integration in API Gateway?
*** Answer:
   AWS  and AWS_PROXY for lambda -- proxy is simple mapping
   HTPP and HTTP proxy for ec2 -- proxy is simple mapping

** dynamo projection                                          :drill:
   SCHEDULED: <2022-01-10 Mon>
   :PROPERTIES:
   :ID:       9ec7e1f3-3d75-4cfe-b173-5ea59fea46f3
   :DRILL_LAST_INTERVAL: 10.352
   :DRILL_REPEATS_SINCE_FAIL: 3
   :DRILL_TOTAL_REPEATS: 2
   :DRILL_FAILURE_COUNT: 0
   :DRILL_AVERAGE_QUALITY: 4.5
   :DRILL_EASE: 2.6
   :DRILL_LAST_QUALITY: 5
   :DRILL_LAST_REVIEWED: [2021-12-31 Fri 16:23]
   :END:
   What is always projected into a dynamodb index?
*** Answer:
  - the primary key attributes of the base table

** Ec2 requirement for ecs                                            :drill:
   SCHEDULED: <2022-01-12 Wed>
   :PROPERTIES:
   :ID:       e50b1b52-8096-48b2-9980-f7f9eda1044f
   :DRILL_LAST_INTERVAL: 10.7143
   :DRILL_REPEATS_SINCE_FAIL: 3
   :DRILL_TOTAL_REPEATS: 4
   :DRILL_FAILURE_COUNT: 1
   :DRILL_AVERAGE_QUALITY: 3.75
   :DRILL_EASE: 2.6
   :DRILL_LAST_QUALITY: 4
   :DRILL_LAST_REVIEWED: [2022-01-01 Sat 18:31]
   :END:
the [ec2 agent] runs on ec2 instances in ECS



** distinction fargate/ec2                                    :drill:
   SCHEDULED: <2022-01-28 Fri>
   :PROPERTIES:
   :ID:       7a1d3d27-d264-45ae-835c-91bf7c7d2460
   :DRILL_LAST_INTERVAL: 21.6744
   :DRILL_REPEATS_SINCE_FAIL: 4
   :DRILL_TOTAL_REPEATS: 3
   :DRILL_FAILURE_COUNT: 0
   :DRILL_AVERAGE_QUALITY: 3.333
   :DRILL_EASE: 2.22
   :DRILL_LAST_QUALITY: 3
   :DRILL_LAST_REVIEWED: [2022-01-06 Thu 08:31]
   :END:
Main diff Fargate ECS
*** Answer:
Fargate is "serverless" -- you don't manage the EC2 instances.  You
are still responsible/able to configure EC2 instaces iwth ECS

** ECS Scaling                                                :drill:
   SCHEDULED: <2022-01-15 Sat>
   :PROPERTIES:
   :ID:       4e903e2e-0180-4bb4-a353-11d631d8b1d4
   :DRILL_LAST_INTERVAL: 8.9667
   :DRILL_REPEATS_SINCE_FAIL: 3
   :DRILL_TOTAL_REPEATS: 7
   :DRILL_FAILURE_COUNT: 3
   :DRILL_AVERAGE_QUALITY: 2.715
   :DRILL_EASE: 2.18
   :DRILL_LAST_QUALITY: 3
   :DRILL_LAST_REVIEWED: [2022-01-06 Thu 08:34]
   :END:
For scaling in ECS, ASGs work with [services] in a cluser
(as oppose to tasks)

** Container launch types                                     :drill:
   SCHEDULED: <2022-01-09 Sun>
   :PROPERTIES:
   :ID:       d330a1d5-d384-414f-a5b0-62f48a797827
   :DRILL_LAST_INTERVAL: 10.7143
   :DRILL_REPEATS_SINCE_FAIL: 3
   :DRILL_TOTAL_REPEATS: 2
   :DRILL_FAILURE_COUNT: 0
   :DRILL_AVERAGE_QUALITY: 4.5
   :DRILL_EASE: 2.6
   :DRILL_LAST_QUALITY: 4
   :DRILL_LAST_REVIEWED: [2021-12-29 Wed 06:45]
   :END:
What are two launch types for containers
*** Answer:
EC2 launch type and fargate launchtype

** Question  :drill:
   SCHEDULED: <2022-01-10 Mon>
   :PROPERTIES:
   :ID:       1b1fb2bf-0174-4b48-b65c-4b6151c2ef34
   :DRILL_LAST_INTERVAL: 9.3103
   :DRILL_REPEATS_SINCE_FAIL: 3
   :DRILL_TOTAL_REPEATS: 4
   :DRILL_FAILURE_COUNT: 1
   :DRILL_AVERAGE_QUALITY: 3.25
   :DRILL_EASE: 2.36
   :DRILL_LAST_QUALITY: 4
   :DRILL_LAST_REVIEWED: [2022-01-01 Sat 18:22]
   :END:
There are 8 pseuodoparameters

Guess what they are
*** Answer:
What services are the associated with and what are they
 = AccountID / NotificationARNs / NoValue / Partition
   Recion / StackID / StackName / URLSuffix

suffix is like amazonaws.com or amazonaws.com.cn
partion is liek china, gov or aws

** EC2 agent                                                 :drill:practice:
   SCHEDULED: <2022-01-15 Sat>
   :PROPERTIES:
   :ID:       e236ae0d-2e0a-42b7-b38b-4ef49096684f
   :DRILL_LAST_INTERVAL: 9.628
   :DRILL_REPEATS_SINCE_FAIL: 3
   :DRILL_TOTAL_REPEATS: 5
   :DRILL_FAILURE_COUNT: 2
   :DRILL_AVERAGE_QUALITY: 2.4
   :DRILL_EASE: 2.32
   :DRILL_LAST_QUALITY: 3
   :DRILL_LAST_REVIEWED: [2022-01-05 Wed 21:31]
   :END:
Where do you find the ECS agent instance env variables  on ec2
*** Answer:
/etc/ecs/ecs.confige

** Question  :drill:
   SCHEDULED: <2022-01-08 Sat>
   :PROPERTIES:
   :ID:       9782c2fc-897e-46a0-8519-beb9b34a36a8
   :DRILL_LAST_INTERVAL: 10.352
   :DRILL_REPEATS_SINCE_FAIL: 3
   :DRILL_TOTAL_REPEATS: 2
   :DRILL_FAILURE_COUNT: 0
   :DRILL_AVERAGE_QUALITY: 4.5
   :DRILL_EASE: 2.6
   :DRILL_LAST_QUALITY: 5
   :DRILL_LAST_REVIEWED: [2021-12-29 Wed 06:57]
   :END:
How many containers can be described in a task definition file?
*** Answer:
up to 10


** EC                                                                 :drill:
   SCHEDULED: <2022-01-09 Sun>
   :PROPERTIES:
   :ID:       8da6e34b-8f0c-45a8-a35c-590a42501650
   :DRILL_LAST_INTERVAL: 9.3103
   :DRILL_REPEATS_SINCE_FAIL: 3
   :DRILL_TOTAL_REPEATS: 2
   :DRILL_FAILURE_COUNT: 0
   :DRILL_AVERAGE_QUALITY: 3.5
   :DRILL_EASE: 2.36
   :DRILL_LAST_QUALITY: 4
   :DRILL_LAST_REVIEWED: [2021-12-31 Fri 16:15]
   :END:
   ECS will manage [the whole lifecycle] of a container

*** bonus
    including e.g. restarting, load balancing

    
** ECS                                                                :drill:
   SCHEDULED: <2022-01-11 Tue>
   :PROPERTIES:
   :ID:       35eba3e6-2850-4b6f-97e8-b683f8828070
   :DRILL_LAST_INTERVAL: 11.0911
   :DRILL_REPEATS_SINCE_FAIL: 3
   :DRILL_TOTAL_REPEATS: 4
   :DRILL_FAILURE_COUNT: 2
   :DRILL_AVERAGE_QUALITY: 3.5
   :DRILL_EASE: 2.7
   :DRILL_LAST_QUALITY: 5
   :DRILL_LAST_REVIEWED: [2021-12-31 Fri 16:06]
   :END:
   Can instances in ecs cluster be in multiple A/Zs?
   
*** answer

    There are cluster, partition, and spread groups.
    Cluster by definition can't -- point is fast communication 

    
    A partition placement group can have partitions in multiple
    Availability Zones in the same Region. A partition placement group
    can have a maximum of seven partitions per Availability Zone.

    A spread placement group can span multiple Availability Zones in
    the same Region. You can have a maximum of seven running instances
    per Availability Zone per group.

** ECS                                                                :drill:
   SCHEDULED: <2022-01-10 Mon>
   :PROPERTIES:
   :ID:       b821df13-8796-4134-9828-b74221c0f54b
   :DRILL_LAST_INTERVAL: 10.3376
   :DRILL_REPEATS_SINCE_FAIL: 3
   :DRILL_TOTAL_REPEATS: 2
   :DRILL_FAILURE_COUNT: 0
   :DRILL_AVERAGE_QUALITY: 4.0
   :DRILL_EASE: 2.46
   :DRILL_LAST_QUALITY: 3
   :DRILL_LAST_REVIEWED: [2021-12-31 Fri 15:55]
   :END:
   When Amazon ECS places tasks, it uses a 4 step process to pick (an) instance(s)
   What is that?

*** the 4 steps

    Identify the instances that satisfy the CPU, memory, and port requirements in the task definition.

    Identify the instances that satisfy the task placement constraints.

    Identify the instances that satisfy the task placement strategies.

    Select the instances for task placement.


** ECS                                                                :drill:
   SCHEDULED: <2022-01-10 Mon>
   :PROPERTIES:
   :ID:       64d2bc54-02ac-4ce8-8e82-7579f2341868
   :DRILL_LAST_INTERVAL: 9.648
   :DRILL_REPEATS_SINCE_FAIL: 3
   :DRILL_TOTAL_REPEATS: 2
   :DRILL_FAILURE_COUNT: 0
   :DRILL_AVERAGE_QUALITY: 3.5
   :DRILL_EASE: 2.36
   :DRILL_LAST_QUALITY: 3
   :DRILL_LAST_REVIEWED: [2021-12-31 Fri 15:58]
   :END:
   Placement group limits
   Per acct?  Naming rules?  Can instances be in > 1?
   
*** answer

    You can create a maximum of 500 placement groups per account in each Region.

    The name that you specify for a placement group must be unique within your AWS account for the Region.

    You can't merge placement groups.

    An instance can be launched in one placement group at a time; it cannot span multiple placement groups.

    On-Demand Capacity Reservation and zonal Reserved Instances
    provide a capacity reservation for EC2 instances in a specific
    Availability Zone. The capacity reservation can be used by
    instances in a placement group. However, it is not possible to
    explicitly reserve capacity for a placement group.

    You cannot launch Dedicated Hosts in placement groups.
     - Dedicated instances can go in cluster and partition
       but NOT spread placement groups


** Distinguish Instance Profile and IAM role                          :drill:
   SCHEDULED: <2022-01-10 Mon>
   :PROPERTIES:
   :ID:       34e9b98a-1a2e-480f-afa4-5b39602df8bf
   :DRILL_LAST_INTERVAL: 9.6346
   :DRILL_REPEATS_SINCE_FAIL: 3
   :DRILL_TOTAL_REPEATS: 2
   :DRILL_FAILURE_COUNT: 0
   :DRILL_AVERAGE_QUALITY: 4.0
   :DRILL_EASE: 2.46
   :DRILL_LAST_QUALITY: 5
   :DRILL_LAST_REVIEWED: [2021-12-31 Fri 15:53]
   :END:
Distinguish Instance Profile and IAM role 
*** Answer:
Role: what can I do?   Not a specific user
  A role gets assumed
Instance profile: who am i?
An IAM Role for ec2 created in console creates both
  but created via the SDK/CLI have to do both


** Ec2 IAM assignment                                                 :drill:
   SCHEDULED: <2022-01-11 Tue>
   :PROPERTIES:
   :ID:       c24581ac-056f-4cb2-850a-af20f7f1324c
   :DRILL_LAST_INTERVAL: 11.0911
   :DRILL_REPEATS_SINCE_FAIL: 3
   :DRILL_TOTAL_REPEATS: 2
   :DRILL_FAILURE_COUNT: 0
   :DRILL_AVERAGE_QUALITY: 5.0
   :DRILL_EASE: 2.7
   :DRILL_LAST_QUALITY: 5
   :DRILL_LAST_REVIEWED: [2021-12-31 Fri 16:07]
   :END:

An EC2 Instance cannot be assigned a [Role] directly, but it can be
assigned an [Instance Profile] which contains a [Role].


** Ec2 IAM assignment                                                 :drill:
   SCHEDULED: <2022-02-01 Tue>
   :PROPERTIES:
   :ID:       a1c4b755-813d-4507-9711-db0f566e9303
   :DRILL_LAST_INTERVAL: 24.0814
   :DRILL_REPEATS_SINCE_FAIL: 4
   :DRILL_TOTAL_REPEATS: 3
   :DRILL_FAILURE_COUNT: 0
   :DRILL_AVERAGE_QUALITY: 4.0
   :DRILL_EASE: 2.46
   :DRILL_LAST_QUALITY: 5
   :DRILL_LAST_REVIEWED: [2022-01-08 Sat 14:36]
   :END:

If you use the AWS Management Console to create a [role] for Amazon EC2,
the console automatically creates an [instance profile] with the same name



** DLQ                                                        :drill:
   SCHEDULED: <2022-01-14 Fri>
   :PROPERTIES:
   :ID:       25562f6e-bc1b-41ba-bccf-706c60a16916
   :DRILL_LAST_INTERVAL: 8.9861
   :DRILL_REPEATS_SINCE_FAIL: 3
   :DRILL_TOTAL_REPEATS: 4
   :DRILL_FAILURE_COUNT: 1
   :DRILL_AVERAGE_QUALITY: 3.0
   :DRILL_EASE: 2.22
   :DRILL_LAST_QUALITY: 3
   :DRILL_LAST_REVIEWED: [2022-01-05 Wed 07:27]
   :END:
SQS Dead Letter Queue prereq
*** Answer:
  -  same type of queue (FIFO or standard) that the source queue is.
  - It must also be created using the same AWS account
  - and AWS Region as the source queue.



** ECS vocab                                                  :drill:
   SCHEDULED: <2022-01-10 Mon>
   :PROPERTIES:
   :ID:       8d7092ab-7936-4e61-bf89-1fac18c88eea
   :DRILL_LAST_INTERVAL: 8.2695
   :DRILL_REPEATS_SINCE_FAIL: 3
   :DRILL_TOTAL_REPEATS: 4
   :DRILL_FAILURE_COUNT: 1
   :DRILL_AVERAGE_QUALITY: 3.0
   :DRILL_EASE: 2.22
   :DRILL_LAST_QUALITY: 4
   :DRILL_LAST_REVIEWED: [2022-01-02 Sun 16:17]
   :END:
ECS spreads EC2 instances are across underlying hardware to minimize correlated failures.
The algorithms determining specifcs are, generically, called [placement groups]
*** Enumerated:
Cluster – packs instances close together inside an Availability
Zone. This strategy enables workloads to achieve the low-latency
network performance necessary for tightly-coupled node-to-node
communication that is typical of HPC applications.


Partition – spreads your instances across logical partitions such that
groups of instances in one partition do not share the underlying
hardware with groups of instances in different partitions. This
strategy is typically used by large distributed and replicated
workloads, such as Hadoop, Cassandra, and Kafka.


Spread – strictly places a small group of instances across distinct
underlying hardware to reduce correlated failures.

    
    
** ECS                                                                :drill:
   SCHEDULED: <2022-02-01 Tue>
   :PROPERTIES:
   :ID:       3f216484-ed42-4a70-bf1a-28a69b3522fe
   :DRILL_LAST_INTERVAL: 24.0814
   :DRILL_REPEATS_SINCE_FAIL: 4
   :DRILL_TOTAL_REPEATS: 3
   :DRILL_FAILURE_COUNT: 0
   :DRILL_AVERAGE_QUALITY: 4.0
   :DRILL_EASE: 2.46
   :DRILL_LAST_QUALITY: 5
   :DRILL_LAST_REVIEWED: [2022-01-08 Sat 14:32]
   :END:
   In ECS, multiple ec2 machines may be used.
   Each [ec2 instance] is conntect to the [ecs cluster]

*** bonus - two things on ec2 
    docker runtime
    ecs agent

    As opposed to fargate:
    you delegate management of the containers to ecs, however
     you still manage the ec2 instances -- you have to join them
     and connect them to ecs
    
    
** Question  :drill:
   SCHEDULED: <2022-01-10 Mon>
   :PROPERTIES:
   :ID:       f1baecac-491e-4b90-af08-074569cc7edb
   :DRILL_LAST_INTERVAL: 11.0911
   :DRILL_REPEATS_SINCE_FAIL: 3
   :DRILL_TOTAL_REPEATS: 3
   :DRILL_FAILURE_COUNT: 1
   :DRILL_AVERAGE_QUALITY: 3.333
   :DRILL_EASE: 2.7
   :DRILL_LAST_QUALITY: 5
   :DRILL_LAST_REVIEWED: [2021-12-30 Thu 06:58]
   :END:
What's a periodic task?
*** Answer:
 -in elastic beanstalk, cron based submission to queues

** Question                                                  :drill:practice:
   SCHEDULED: <2022-01-12 Wed>
   :PROPERTIES:
   :ID:       02c73808-e691-477e-a9ed-2e3fff69fa0f
   :DRILL_LAST_INTERVAL: 9.9715
   :DRILL_REPEATS_SINCE_FAIL: 3
   :DRILL_TOTAL_REPEATS: 5
   :DRILL_FAILURE_COUNT: 2
   :DRILL_AVERAGE_QUALITY: 2.8
   :DRILL_EASE: 2.46
   :DRILL_LAST_QUALITY: 4
   :DRILL_LAST_REVIEWED: [2022-01-02 Sun 16:20]
   :END:
Difference between IAM task for Fargate and EC2
*** Answer:
 - Fargate can only have roles attached to tasks
 - EC2 can have roles on both instances and tasks


** Credentials on ECS                                         :drill:
   SCHEDULED: <2022-01-11 Tue>
   :PROPERTIES:
   :ID:       aa40cbaf-890a-4e34-9518-e74405dbedfa
   :DRILL_LAST_INTERVAL: 10.3376
   :DRILL_REPEATS_SINCE_FAIL: 3
   :DRILL_TOTAL_REPEATS: 3
   :DRILL_FAILURE_COUNT: 1
   :DRILL_AVERAGE_QUALITY: 3.333
   :DRILL_EASE: 2.46
   :DRILL_LAST_QUALITY: 3
   :DRILL_LAST_REVIEWED: [2022-01-01 Sat 18:26]
   :END:
Guess how to query the credential endpoint in ec2 running in ECS?
*** Answer:
curl 169.254.170.2$AWS_CONTAINER_CREDENTIALS_RELATIVE_URI

** Question  :drill:
   SCHEDULED: <2022-01-07 Fri>
   :PROPERTIES:
   :ID:       106ff445-d0c1-42b9-a9af-1d7dfb306fc8
   :DRILL_LAST_INTERVAL: 8.9861
   :DRILL_REPEATS_SINCE_FAIL: 3
   :DRILL_TOTAL_REPEATS: 2
   :DRILL_FAILURE_COUNT: 0
   :DRILL_AVERAGE_QUALITY: 3.0
   :DRILL_EASE: 2.22
   :DRILL_LAST_QUALITY: 3
   :DRILL_LAST_REVIEWED: [2021-12-29 Wed 06:56]
   :END:
Can you apply IAM roles to containers after they are launched?
*** Answer:
 - not for EC2 types

** Dynamo access                                                      :drill:
   SCHEDULED: <2022-01-14 Fri>
   :PROPERTIES:
   :ID:       48db2aaa-7539-4b6f-8f87-2e4bf45bce6e
   :DRILL_LAST_INTERVAL: 10.7143
   :DRILL_REPEATS_SINCE_FAIL: 3
   :DRILL_TOTAL_REPEATS: 2
   :DRILL_FAILURE_COUNT: 0
   :DRILL_AVERAGE_QUALITY: 4.5
   :DRILL_EASE: 2.6
   :DRILL_LAST_QUALITY: 4
   :DRILL_LAST_REVIEWED: [2022-01-03 Mon 07:55]
   :END:
Does Dynamo DB allow assigning resource-based policies to individual tables?
*** Answer:
No, Dynamo DB doesn't support resource based policies


** Standard SQS                                               :drill:
   SCHEDULED: <2022-01-14 Fri>
   :PROPERTIES:
   :ID:       c9be9aee-6ab4-4793-b80a-35c6e0585a10
   :DRILL_LAST_INTERVAL: 11.0911
   :DRILL_REPEATS_SINCE_FAIL: 3
   :DRILL_TOTAL_REPEATS: 2
   :DRILL_FAILURE_COUNT: 0
   :DRILL_AVERAGE_QUALITY: 5.0
   :DRILL_EASE: 2.7
   :DRILL_LAST_QUALITY: 5
   :DRILL_LAST_REVIEWED: [2022-01-03 Mon 07:55]
   :END:
Alternative queue offering if Standard Queue best effort ordering not sufficient
*** Answer:
Either  FIFO

Or custom development effort: sequence info in each message

** Question  :drill:
   SCHEDULED: <2022-01-18 Tue>
   :PROPERTIES:
   :ID:       1e5715d7-7eb2-41f8-9dd4-3c5a73d5b66f
   :DRILL_LAST_INTERVAL: 11.8823
   :DRILL_REPEATS_SINCE_FAIL: 3
   :DRILL_TOTAL_REPEATS: 5
   :DRILL_FAILURE_COUNT: 2
   :DRILL_AVERAGE_QUALITY: 3.4
   :DRILL_EASE: 2.8
   :DRILL_LAST_QUALITY: 5
   :DRILL_LAST_REVIEWED: [2022-01-06 Thu 08:34]
   :END:
in what context do you have to worry about bucket names being valid dns names
*** Answer:
  - Transfer Accelleration
  - also must be dotless



** Multicontainer                                             :drill:
   SCHEDULED: <2022-01-12 Wed>
   :PROPERTIES:
   :ID:       177cbb42-4154-4c05-9d1a-b8a08a974e7d
   :DRILL_LAST_INTERVAL: 10.0
   :DRILL_REPEATS_SINCE_FAIL: 3
   :DRILL_TOTAL_REPEATS: 2
   :DRILL_FAILURE_COUNT: 0
   :DRILL_AVERAGE_QUALITY: 4.0
   :DRILL_EASE: 2.5
   :DRILL_LAST_QUALITY: 4
   :DRILL_LAST_REVIEWED: [2022-01-02 Sun 16:18]
   :END:
Define multicontainer docker environment
*** Answer:
  - ECS thing: multiple containers per instance
    What for (tentative) "to let you get the most"
       - fast communicating over docker network?


** Beanstalk worker env                                      :drill:practice:
   SCHEDULED: <2022-01-13 Thu>
   :PROPERTIES:
   :ID:       c8b1ff59-9d94-475a-97aa-12a5c8ea5930
   :DRILL_LAST_INTERVAL: 9.6346
   :DRILL_REPEATS_SINCE_FAIL: 3
   :DRILL_TOTAL_REPEATS: 4
   :DRILL_FAILURE_COUNT: 2
   :DRILL_AVERAGE_QUALITY: 2.75
   :DRILL_EASE: 2.46
   :DRILL_LAST_QUALITY: 5
   :DRILL_LAST_REVIEWED: [2022-01-03 Mon 08:03]
   :END:
Define Elastic Beanstalk Worker Environment
*** Answer:
 - each EC2 instance has an SQS queue and daemon that posts to http://localhost


** Beanstalk feature                                                  :drill:
   SCHEDULED: <2022-01-13 Thu>
   :PROPERTIES:
   :ID:       8899cb06-d6b7-4d4f-80ed-58421df85c93
   :DRILL_LAST_INTERVAL: 11.0911
   :DRILL_REPEATS_SINCE_FAIL: 3
   :DRILL_TOTAL_REPEATS: 2
   :DRILL_FAILURE_COUNT: 0
   :DRILL_AVERAGE_QUALITY: 5.0
   :DRILL_EASE: 2.7
   :DRILL_LAST_QUALITY: 5
   :DRILL_LAST_REVIEWED: [2022-01-02 Sun 16:17]
   :END:
An Elastic beanstalk [worker environment] allows you to queue up tasks
*** Bonus:
 Can solve problem autoscaling doesn't if single user can submit multiple tasks


** SQS Standard Queue                                         :drill:
   SCHEDULED: <2022-01-14 Fri>
:PROPERTIES:
:DRILL_CARD_TYPE: hide1cloze
:ID:       4fb2e753-434d-467b-a084-47a64d0297df
:DRILL_LAST_INTERVAL: 11.0911
:DRILL_REPEATS_SINCE_FAIL: 3
:DRILL_TOTAL_REPEATS: 2
:DRILL_FAILURE_COUNT: 0
:DRILL_AVERAGE_QUALITY: 5.0
:DRILL_EASE: 2.7
:DRILL_LAST_QUALITY: 5
:DRILL_LAST_REVIEWED: [2022-01-03 Mon 07:53]
:END:

Standard queues offer [at least once] delivery and [best effort] ordering

** SQS idempotency                                            :drill:
   SCHEDULED: <2022-01-12 Wed>
   :PROPERTIES:
   :ID:       9ac7da35-7e6e-4def-822e-f81e535968ef
   :DRILL_LAST_INTERVAL: 8.9861
   :DRILL_REPEATS_SINCE_FAIL: 3
   :DRILL_TOTAL_REPEATS: 2
   :DRILL_FAILURE_COUNT: 0
   :DRILL_AVERAGE_QUALITY: 3.0
   :DRILL_EASE: 2.22
   :DRILL_LAST_QUALITY: 3
   :DRILL_LAST_REVIEWED: [2022-01-03 Mon 07:54]
   :END:
Queue based apps should be idempotent meaning:
*** Answer:
  - they are okay if the process a message multiple times

** Dynamo Local Secondary Index                               :drill:
   SCHEDULED: <2022-01-12 Wed>
   :PROPERTIES:
   :ID:       37b06c67-96a0-4dbf-af30-94dc812e59bf
   :DRILL_LAST_INTERVAL: 9.648
   :DRILL_REPEATS_SINCE_FAIL: 3
   :DRILL_TOTAL_REPEATS: 2
   :DRILL_FAILURE_COUNT: 0
   :DRILL_AVERAGE_QUALITY: 3.5
   :DRILL_EASE: 2.36
   :DRILL_LAST_QUALITY: 3
   :DRILL_LAST_REVIEWED: [2022-01-02 Sun 16:11]
   :END:
For dynamoDb - three requirements for local secondary index
*** Answer:
 - same Partition key as base
 - created same time as base table: if you didn't anticipate you can't use it
 - 10 GB limit for item collection (all items with same partition key)

** Question  :drill:
   SCHEDULED: <2022-01-13 Thu>
   :PROPERTIES:
   :ID:       e5a3a9aa-a8c2-44e0-9a06-df908a9c53cf
   :DRILL_LAST_INTERVAL: 11.0911
   :DRILL_REPEATS_SINCE_FAIL: 3
   :DRILL_TOTAL_REPEATS: 2
   :DRILL_FAILURE_COUNT: 0
   :DRILL_AVERAGE_QUALITY: 5.0
   :DRILL_EASE: 2.7
   :DRILL_LAST_QUALITY: 5
   :DRILL_LAST_REVIEWED: [2022-01-02 Sun 16:11]
   :END:
Can you use efs on fargate
*** Answer:
      yes

** Question  :drill:
   SCHEDULED: <2022-01-14 Fri>
   :PROPERTIES:
   :ID:       287cd7a5-c44c-4ef3-9a73-607c0e587495
   :DRILL_LAST_INTERVAL: 11.0911
   :DRILL_REPEATS_SINCE_FAIL: 3
   :DRILL_TOTAL_REPEATS: 2
   :DRILL_FAILURE_COUNT: 0
   :DRILL_AVERAGE_QUALITY: 5.0
   :DRILL_EASE: 2.7
   :DRILL_LAST_QUALITY: 5
   :DRILL_LAST_REVIEWED: [2022-01-03 Mon 08:02]
   :END:
Can you use efs on windows
*** Answer:
      no



** SQS Feature                                                :drill:
   SCHEDULED: <2022-01-07 Fri>
   :PROPERTIES:
   :ID:       fd59610c-3cbc-42a2-adde-857079ae2a14
   :DRILL_LAST_INTERVAL: 4.14
   :DRILL_REPEATS_SINCE_FAIL: 2
   :DRILL_TOTAL_REPEATS: 1
   :DRILL_FAILURE_COUNT: 0
   :DRILL_AVERAGE_QUALITY: 5.0
   :DRILL_EASE: 2.6
   :DRILL_LAST_QUALITY: 5
   :DRILL_LAST_REVIEWED: [2022-01-03 Mon 21:18]
   :END:
Which types of SQS queue allow deduplication key?
*** Answer:
Answer only fifo

** Signed urls/cookies                                                :drill:
   SCHEDULED: <2022-01-17 Mon>
   :PROPERTIES:
   :ID:       1ce79d6d-c9b3-40a7-b154-b47530390270
   :DRILL_LAST_INTERVAL: 11.0911
   :DRILL_REPEATS_SINCE_FAIL: 3
   :DRILL_TOTAL_REPEATS: 2
   :DRILL_FAILURE_COUNT: 0
   :DRILL_AVERAGE_QUALITY: 5.0
   :DRILL_EASE: 2.7
   :DRILL_LAST_QUALITY: 5
   :DRILL_LAST_REVIEWED: [2022-01-06 Thu 08:35]
   :END:
What restriction do signed URLs/signed Cookies impose?
*** Answer:
1.  The ending time
2.  Optionally - beginning time
3.  Optionally - i.p. addresses that can request

   https://docs.aws.amazon.com/AmazonCloudFront/latest/DeveloperGuide/private-content-overview.html

** Bursting mode                                                      :drill:
   SCHEDULED: <2022-01-16 Sun>
   :PROPERTIES:
   :ID:       dd1defa5-feee-4090-bf5e-4db449172082
   :DRILL_LAST_INTERVAL: 8.9861
   :DRILL_REPEATS_SINCE_FAIL: 3
   :DRILL_TOTAL_REPEATS: 3
   :DRILL_FAILURE_COUNT: 1
   :DRILL_AVERAGE_QUALITY: 2.333
   :DRILL_EASE: 2.22
   :DRILL_LAST_QUALITY: 3
   :DRILL_LAST_REVIEWED: [2022-01-07 Fri 08:04]
   :END:
EFS Provisioned Throughput mode is for applications that require [a greater
ratio of throughput to storage capacity] than allowed by Bursting
Throughput mode.

** S3 Access for signed urls                                  :drill:
   SCHEDULED: <2022-01-07 Fri>
   :PROPERTIES:
   :ID:       c8563f12-781d-43b5-a6e6-9293b60e68c9
   :DRILL_LAST_INTERVAL: 3.86
   :DRILL_REPEATS_SINCE_FAIL: 2
   :DRILL_TOTAL_REPEATS: 3
   :DRILL_FAILURE_COUNT: 2
   :DRILL_AVERAGE_QUALITY: 1.667
   :DRILL_EASE: 2.36
   :DRILL_LAST_QUALITY: 3
   :DRILL_LAST_REVIEWED: [2022-01-03 Mon 08:10]
   :END:
Three steps to make s3 content only accessible via Cloudfront
*** Answer:
Create a special CloudFront user called an origin access identity and associate it with your CloudFront distribution.

Give the origin access identity permission to read the files in your bucket.

Remove permission for anyone else to use Amazon S3 URLs to read the files

** Question  :drill:
   SCHEDULED: <2022-01-18 Tue>
   :PROPERTIES:
   :ID:       99e54ff1-5567-49f2-80d0-abc2680a8256
   :DRILL_LAST_INTERVAL: 9.6346
   :DRILL_REPEATS_SINCE_FAIL: 3
   :DRILL_TOTAL_REPEATS: 3
   :DRILL_FAILURE_COUNT: 1
   :DRILL_AVERAGE_QUALITY: 3.0
   :DRILL_EASE: 2.46
   :DRILL_LAST_QUALITY: 5
   :DRILL_LAST_REVIEWED: [2022-01-08 Sat 14:31]
   :END:
What are the two EFS storage classes?
*** Answer:
One-zone and Standard




** Paid access                                                :drill:
   SCHEDULED: <2022-01-16 Sun>
   :PROPERTIES:
   :ID:       8e0823c1-57b7-4270-bec5-bd6e1aa5cba4
   :DRILL_LAST_INTERVAL: 11.0911
   :DRILL_REPEATS_SINCE_FAIL: 3
   :DRILL_TOTAL_REPEATS: 2
   :DRILL_FAILURE_COUNT: 0
   :DRILL_AVERAGE_QUALITY: 5.0
   :DRILL_EASE: 2.7
   :DRILL_LAST_QUALITY: 5
   :DRILL_LAST_REVIEWED: [2022-01-05 Wed 07:18]
   :END:
How do you restrict access to content in Cloudfront, for example
to paying customers?
*** Answer:
You can configure CloudFront to require that users access your files
using either signed URLs or signed cookies.

You then develop your application either to create and distribute
signed URLs to authenticated users or to send Set-Cookie headers that
set signed cookies for authenticated users.

To give a few users long-term access to a small number of files, you
can also create signed URLs manually.


** Signing API requests                                               :drill:
   SCHEDULED: <2022-01-18 Tue>
   :PROPERTIES:
   :ID:       d478fc18-31ea-4f20-96a3-adee9c3dc33f
   :DRILL_LAST_INTERVAL: 11.0911
   :DRILL_REPEATS_SINCE_FAIL: 3
   :DRILL_TOTAL_REPEATS: 2
   :DRILL_FAILURE_COUNT: 0
   :DRILL_AVERAGE_QUALITY: 5.0
   :DRILL_EASE: 2.7
   :DRILL_LAST_QUALITY: 5
   :DRILL_LAST_REVIEWED: [2022-01-07 Fri 08:12]
   :END:
When do you need to sign API requests?
*** Answer:
When you are writing code on your own, without the SDKs

CLI and SDKs do it for you (leveraging e.g. your .aws/credentials file)

** Cloudformation Names                                               :drill:
   SCHEDULED: <2022-01-17 Mon>
   :PROPERTIES:
   :ID:       906e3abd-a63f-4d08-ad3d-b853c0f270c1
   :DRILL_LAST_INTERVAL: 10.0
   :DRILL_REPEATS_SINCE_FAIL: 3
   :DRILL_TOTAL_REPEATS: 2
   :DRILL_FAILURE_COUNT: 0
   :DRILL_AVERAGE_QUALITY: 4.0
   :DRILL_EASE: 2.5
   :DRILL_LAST_QUALITY: 4
   :DRILL_LAST_REVIEWED: [2022-01-07 Fri 08:03]
   :END:
Restriction on exported output names from cloudformation
*** Answer:
Must be region-unique


** Pricing                                                            :drill:
   SCHEDULED: <2022-01-16 Sun>
   :PROPERTIES:
   :ID:       b1464cf0-c0a6-45cd-9289-6aa65dd422ac
   :DRILL_LAST_INTERVAL: 8.9861
   :DRILL_REPEATS_SINCE_FAIL: 3
   :DRILL_TOTAL_REPEATS: 2
   :DRILL_FAILURE_COUNT: 0
   :DRILL_AVERAGE_QUALITY: 3.0
   :DRILL_EASE: 2.22
   :DRILL_LAST_QUALITY: 3
   :DRILL_LAST_REVIEWED: [2022-01-07 Fri 08:12]
   :END:
   Discounts available on ec2 not on fargate
*** answer
      reserved instances & savings plans (savings plans no longer true)
      - note: both hvae got spot


** Distinguish                                                        :drill:
   SCHEDULED: <2022-01-18 Tue>
   :PROPERTIES:
   :ID:       f33df5b8-c673-4121-8681-ee6d7a88b9f8
   :DRILL_LAST_INTERVAL: 10.352
   :DRILL_REPEATS_SINCE_FAIL: 3
   :DRILL_TOTAL_REPEATS: 2
   :DRILL_FAILURE_COUNT: 0
   :DRILL_AVERAGE_QUALITY: 4.5
   :DRILL_EASE: 2.6
   :DRILL_LAST_QUALITY: 5
   :DRILL_LAST_REVIEWED: [2022-01-08 Sat 14:35]
   :END:
 codedeploy and codepipeline?
*** answer
      codedeploy just deploys to running fargate/ec2/lambda.
      Codepipeline is CI/CD stuff, build/test/deploy


** Define                                                             :drill:
   SCHEDULED: <2022-01-18 Tue>
   :PROPERTIES:
   :ID:       f435a844-28db-4177-9e61-f5c92238c664
   :DRILL_LAST_INTERVAL: 10.0
   :DRILL_REPEATS_SINCE_FAIL: 3
   :DRILL_TOTAL_REPEATS: 2
   :DRILL_FAILURE_COUNT: 0
   :DRILL_AVERAGE_QUALITY: 4.0
   :DRILL_EASE: 2.5
   :DRILL_LAST_QUALITY: 4
   :DRILL_LAST_REVIEWED: [2022-01-08 Sat 14:34]
   :END:
   elasticache node

*** answer
      fixed size chunk of network attached ram
      smallest size unit of a deployment
      each node in cluster is same instance type
      each name has its own DNS
      
** redis clusters
   if run with [cluster mode disabled], Redis will have a smaller number of nodes than without


** redis clusters                                                     :drill:
   SCHEDULED: <2022-01-16 Sun>
   :PROPERTIES:
   :ID:       7bce28ba-69fb-4b0f-b022-bf143da42810
   :DRILL_LAST_INTERVAL: 9.6346
   :DRILL_REPEATS_SINCE_FAIL: 3
   :DRILL_TOTAL_REPEATS: 4
   :DRILL_FAILURE_COUNT: 2
   :DRILL_AVERAGE_QUALITY: 3.0
   :DRILL_EASE: 2.46
   :DRILL_LAST_QUALITY: 5
   :DRILL_LAST_REVIEWED: [2022-01-06 Thu 08:36]
   :END:
     with cluster mode disabled, three types of endpoints 
*** answer
      with only one node: single endpoint used for reads and writes
      with multiple nodes: 1) reader, 2) primary, 3) node enppoints


** HA for Redis                                                       :drill:
   SCHEDULED: <2022-01-19 Wed>
   :PROPERTIES:
   :ID:       b13e3441-acac-4fdf-a63b-35d234cfad79
   :DRILL_LAST_INTERVAL: 10.0
   :DRILL_REPEATS_SINCE_FAIL: 3
   :DRILL_TOTAL_REPEATS: 3
   :DRILL_FAILURE_COUNT: 1
   :DRILL_AVERAGE_QUALITY: 3.333
   :DRILL_EASE: 2.5
   :DRILL_LAST_QUALITY: 4
   :DRILL_LAST_REVIEWED: [2022-01-09 Sun 12:00]
   :END:
How to ensure HA for redis
*** answer
      multiple read replicas in different A/Zs
      
** attaching to redis                                                 :drill:
   SCHEDULED: <2022-01-17 Mon>
   :PROPERTIES:
:DRILL_CARD_TYPE: hide1cloze
:ID:       3dc3d716-af9c-4e8d-8533-2a1e1e5e27d8
:DRILL_LAST_INTERVAL: 8.9861
:DRILL_REPEATS_SINCE_FAIL: 3
:DRILL_TOTAL_REPEATS: 2
:DRILL_FAILURE_COUNT: 0
:DRILL_AVERAGE_QUALITY: 3.0
:DRILL_EASE: 2.22
:DRILL_LAST_QUALITY: 3
:DRILL_LAST_REVIEWED: [2022-01-08 Sat 14:30]
:END:

  For write activity, apps should connect to the [primary endpoint]
  instead of connecting directly to [the primary].
*** because

The primary endpoint is a DNS name that always resolves to the primary
node in the cluster. The primary endpoint is immune to changes to your
cluster, such as promoting a read replica to the primary role. For
write activity, we recommend that your applications connect to the
primary endpoint instead of connecting directly to the primary.

** cognito sync                                                       :drill:
   SCHEDULED: <2022-01-07 Fri>
   :PROPERTIES:
   :ID:       a861eea6-1ea4-4058-897e-408e74e47ebf
   :DRILL_LAST_INTERVAL: 3.86
   :DRILL_REPEATS_SINCE_FAIL: 2
   :DRILL_TOTAL_REPEATS: 1
   :DRILL_FAILURE_COUNT: 0
   :DRILL_AVERAGE_QUALITY: 3.0
   :DRILL_EASE: 2.36
   :DRILL_LAST_QUALITY: 3
   :DRILL_LAST_REVIEWED: [2022-01-03 Mon 08:07]
   :END:
   Amazon Cognito Sync is an AWS service and client library that
   enables [cross-device] syncing of application-related user data.

   Guess what?  App-sync is now recommended

** Code Commit                                                        :drill:
   SCHEDULED: <2022-01-07 Fri>
   :PROPERTIES:
   :ID:       86f05337-5371-4450-a8ef-8125bb0f508a
   :DRILL_LAST_INTERVAL: 4.14
   :DRILL_REPEATS_SINCE_FAIL: 2
   :DRILL_TOTAL_REPEATS: 1
   :DRILL_FAILURE_COUNT: 0
   :DRILL_AVERAGE_QUALITY: 5.0
   :DRILL_EASE: 2.6
   :DRILL_LAST_QUALITY: 5
   :DRILL_LAST_REVIEWED: [2022-01-03 Mon 13:33]
   :END:
Besides SSH, how can you connect?
*** Answer:
git credentials -- Via IAM -- a login/password over https
AWS access keys + credential helper (comes with CLI) -- over https
   
** CodeBuild                                                  :drill:
   SCHEDULED: <2022-01-17 Mon>
   :PROPERTIES:
   :ID:       6c4fb5d4-d485-4f1e-b54e-a65564c5c515
   :DRILL_LAST_INTERVAL: 10.0
   :DRILL_REPEATS_SINCE_FAIL: 3
   :DRILL_TOTAL_REPEATS: 2
   :DRILL_FAILURE_COUNT: 0
   :DRILL_AVERAGE_QUALITY: 4.0
   :DRILL_EASE: 2.5
   :DRILL_LAST_QUALITY: 4
   :DRILL_LAST_REVIEWED: [2022-01-07 Fri 08:16]
   :END:
Where is CodeBuild's "recipe"?
*** Answer:
buildspec.yml -- ui lets you give an alternate name

phases
   install
   prebuild
   build
   postbuild

** Question                                                           :drill:
   SCHEDULED: <2022-01-11 Tue>
:PROPERTIES:
:DRILL_CARD_TYPE: hide1cloze
:ID:       e8a3aa5e-c94a-41e4-9ea6-b6e29c99c0e0
:DRILL_LAST_INTERVAL: 4.0
:DRILL_REPEATS_SINCE_FAIL: 2
:DRILL_TOTAL_REPEATS: 4
:DRILL_FAILURE_COUNT: 2
:DRILL_AVERAGE_QUALITY: 3.0
:DRILL_EASE: 2.5
:DRILL_LAST_QUALITY: 4
:DRILL_LAST_REVIEWED: [2022-01-07 Fri 08:21]
:END:
The CodeBuild "driver" file, [buildspec.yml], defines a series of [phases]



   
* scrap/in progress


 * AWS flashcards




  ** what is a DNS record that round-bobins to  replica nodes
     what is a DNS record that round-bobins to  replica nodes


define cognito sync

"lambda functions as container images" ?

when there are multiple targets, what does codedeploy deploy to first?

what are signed urls for

Learn the metrics available for ASG scaling tracking

cloudwatch event vs metric
 - event is a state change in aws resource
 - metric is a measurement sent to cloudwatch


cloudwatch lods, descrite it
  cloudwatch logs [centralizes logs] from systems, apps, and aws services

cloudwatch metrics
 are defined by a name, [a namespace] and zero or more [dimensions]
 dimensions are e.g. "by OS" or "by Region"

cloudatch statistic vs metric
  statistics are based on the metrics over a period of time
  They include minimum, count, sum etc


what do cloudwatch alarms do?
  initiate actions

cloudwatch metrics
  GetMetricData can get up to [500] metrics in one call

What do you call in aws api to publsh metrics to cloudwatch?
  put metric data

what kind of key is only creatable with root credential console login
 - cloudfront keys
 bonus
 also need root to change account contact
 Turn on IAM for billing

what does cognito user pool return to user
  json web token

From cognito, what gives you temporary access to AWS resources
  identity pool

What is AWS::NoValue
 - It is a cloudformation pseudo parameter
Removes the corresponding resource property
when specified as a return value in the Fn::If intrinsic function.

Dynamo how to you create a read replica
Aka a global table, ...


In ALB what are other "request attributes", is that card for forwarded-for misleading?

What is the MOST likely cause of this issue?
(view)	


How long it takes to get budget forecast data after enabling
 - about 5 weeks

[AWS IAM Access Analyzer] helps you identify the resources in your organization and accounts that are [shared with an external entity.]
bonus
, such as Amazon S3 buckets or IAM roles,


[ACLs] are the only type of policy [that doesn't use JSON document]

CDK verb turn stacks into cloudformation templates
synthesize


Where do you get vetted CDK constructs
AWS Construct library

Distinction SAM and CDK
If you prefer defining your serverless infrastructure in concise
declarative templates, SAM is the better fit. If you want to define
your AWS infrastructure in a familiar programming language, we
encourage you to try out AWS CD.K

Code commit Plusses:
   AWS CodeCommit offers a number of features not offered by other Git source control systems:

      Fully Managed –AWS CodeCommit eliminates the need to host, maintain, backup, and scale your own source control servers.
      Secure –AWS CodeCommit automatically encrypts your files in transit and at rest. AWS CodeCommit is integrated with AWS Identity and Access Management (IAM), allowing you to assign user-specific permissions to your repositories.
      Highly Available – AWS CodeCommit is built on highly scalable, redundant, and durable AWS services such as Amazon S3 and Amazon DynamoDB.
      Scalable - AWS CodeCommit allows you store any number of files and there are no repository size limits.
      Faster Development Lifecycle - AWS CodeCommit keeps your repositories close to your build, staging, and production environments in the AWS cloud. This allows you to increase the speed and frequency of your development lifecycle.

      WOrk thru this repo https://docs.aws.amazon.com/codepipeline/latest/userguide/tutorials-serverlessrepo-auto-publish.html

	 

    Have to do example for sub segments for getting more detailed downstream information
      What is an x-ray trace ID
      Need to research what are S3 managed keys
	 Can you change the values of environment variables on  published versions of lambda functions
  Make cards for automatic port mapping from containers to host. Do ECS exercises



clusters specific ASG pool
Capacity provider

Iam roles for tasks

Port for x-ray in container
2000 UDP

distinguish access advisor and access analyzer 

Cause for 500 server error in dynamodb
Network delay or outages and strongly consistent read

You strongly consistent reads or not supported on global secondary indexes

True or false skin always uses eventually consistent reads in dynamodb

How do you get faster performance on a scan answer parallel scan operation which takes two parameters segment and total segment





S3 analytics allows you to determine the correct type of storage
Memorize 7 SAM resource types
API APPLICATION FUNCTION HTTP API LAYER VERSION SIMPLE TABLE STATE MACHINE

Where is lambda error log
Synchronous it is in output
Asynchronous it is in invocation log

The X-Ray ,[service map] shows the flow of requests through your application.



Dynamo DB console access needs data pipeline permissions to export and import dynamodb data

What is The logical construct Dynamo DB storage data in
 answer partitions

Dynamo DBS are automatically replicated across availability zones

Define hotkey. 
Dynamo DB popular item and a partition that causes many read capacity units

Limits dynamodb
Her partition key value 3000 RCU 1000 wcu

Extra cost for fifo q?

Available storage in /tmp for lambda

How to pull from ECR using CLI

Cloudwatch metric resolution default and high resolution

Practice using a application from the application repository in a serverless framework application

Distinguish code build and code pipeline


Practice scenario create gateway API that has a create API key method and demo that a new user is able to sign up for an API key

Define capacity provider

This cloud front cache images well

Define elastic beanstalk stage

estricting access to files in CloudFront caches


Name a bunch of stuff in the metadata for ec2

How do you group objects in ECS
Answer using cluster query language

Practice using ECS task definitions to reference associated IAM rles where multiple tasks in a cluster need distinct AWS resources.  Question 51 on practice test 2 in digital cloud Kindle

Amazon ECS leverages application Auto scaling internally, review that .  ECS can scale without asg?

AWS resource groups let you create a separate page in the console for your custom group,
 check that

Practice difference between public subscribe with sqs and SNS and lambdas

Check questions about elastic cache database cashing, dojo test 3


ou have created a continuous delivery service model with automated
steps using AWS CodePipeline. Your pipeline uses your code, maintained
in a CodeCommit repository, AWS CodeBuild, and AWS Elastic Beanstalk
to automatically deploy your code every time there is a code
change. However, the deployment to Elastic Beanstalk is taking a very
long time due to resolving dependencies on all of your 100 target EC2
instance.s and this one:


Questions about KMS/Headers give easy ruleouts by specifying Algorithm question doesn't mention
Always something about binpack
Not much about VPC questions?
Session data usually in elasticache , dynamo?
Questions involving saml?
Is Redshift always wrong

Fargate config questions at:
https://stackoverflow.com/questions/49828259/when-deploying-django-into-aws-fargate-how-do-you-add-the-local-ip-into-allowed

Lambd disk capacity of /tmp


** Pricing clusters                                                   :fix-drill:
   SCHEDULED: <2022-01-05 Wed>
   :PROPERTIES:
   :ID:       4b86cd93-cb65-400f-ae87-448968980b1d
   :DRILL_LAST_INTERVAL: 4.0
   :DRILL_REPEATS_SINCE_FAIL: 2
   :DRILL_TOTAL_REPEATS: 1
   :DRILL_FAILURE_COUNT: 0
   :DRILL_AVERAGE_QUALITY: 4.0
   :DRILL_EASE: 2.5
   :DRILL_LAST_QUALITY: 4
   :DRILL_LAST_REVIEWED: [2022-01-01 Sat 18:59]
   :END:
     what is difference in pricing ecs vs fargate 
*** Answer:
      basically per ec2 instance vs per running task

