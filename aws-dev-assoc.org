-*- eval: (progn (set-register ?o  ":PROPERTIES:\n:DRILL_CARD_TYPE: hide1cloze\n:END:\n") (set-register ?i  "** Question  :drill:\n___?\n*** Answer:\nanswer here\n")) -*-
#+TAGS: drill(d) fix(x) inferred(I) memorize(m) shaky(s)

* Not covered
  - lightsail
  - gRPC
  - gateway load balancer
  - fargate

    
* AWS flashcards

** RDS performance                                                    :drill:
   SCHEDULED: <2021-12-23 Thu>
   :PROPERTIES:
   :ID:       9e9cd280-75be-490a-a46d-63591294d384
   :DRILL_LAST_INTERVAL: 4.14
   :DRILL_REPEATS_SINCE_FAIL: 2
   :DRILL_TOTAL_REPEATS: 1
   :DRILL_FAILURE_COUNT: 0
   :DRILL_AVERAGE_QUALITY: 5.0
   :DRILL_EASE: 2.6
   :DRILL_LAST_QUALITY: 5
   :DRILL_LAST_REVIEWED: [2021-12-19 Sun 14:31]
   :END:
   RDS feature that identifies long running query 
*** Answer:
slow query log

** MySQL logs                                                 :drill:
   SCHEDULED: <2021-12-23 Thu>
   :PROPERTIES:
   :ID:       4fc34154-238c-40bb-bffa-c47422acfff8
   :DRILL_LAST_INTERVAL: 4.0
   :DRILL_REPEATS_SINCE_FAIL: 2
   :DRILL_TOTAL_REPEATS: 1
   :DRILL_FAILURE_COUNT: 0
   :DRILL_AVERAGE_QUALITY: 4.0
   :DRILL_EASE: 2.5
   :DRILL_LAST_QUALITY: 4
   :DRILL_LAST_REVIEWED: [2021-12-19 Sun 14:30]
   :END:
Alternatives to console for monitoring mysql logs
*** Answer:
    download binary log with mybinlo
    direct logs to a mysql table
*** bonus
    the various logs:
    error (default)
    general
    slow query
    audit
    The console is  for logs going to cloudwatch

** Push to mobile apps                                                :drill:
   SCHEDULED: <2021-12-23 Thu>
   :PROPERTIES:
   :ID:       649a8311-763d-4b9d-a2a4-ec2b405a7bc3
   :DRILL_LAST_INTERVAL: 4.14
   :DRILL_REPEATS_SINCE_FAIL: 2
   :DRILL_TOTAL_REPEATS: 1
   :DRILL_FAILURE_COUNT: 0
   :DRILL_AVERAGE_QUALITY: 5.0
   :DRILL_EASE: 2.6
   :DRILL_LAST_QUALITY: 5
   :DRILL_LAST_REVIEWED: [2021-12-19 Sun 14:31]
   :END:
What is feature that allows push to mobile apps?
*** Answer:
SNS - push notifications

** Three services CodeDeploy can target                               :drill:
   SCHEDULED: <2021-12-23 Thu>
   :PROPERTIES:
   :ID:       1c451dc7-78fc-4f99-bfc9-23cb0081ed9d
   :DRILL_LAST_INTERVAL: 4.14
   :DRILL_REPEATS_SINCE_FAIL: 2
   :DRILL_TOTAL_REPEATS: 1
   :DRILL_FAILURE_COUNT: 0
   :DRILL_AVERAGE_QUALITY: 5.0
   :DRILL_EASE: 2.6
   :DRILL_LAST_QUALITY: 5
   :DRILL_LAST_REVIEWED: [2021-12-19 Sun 14:31]
   :END:
What are they?
*** Answer:
Lambda, Ec2 and On Premises servers

    



  

** xray

*** what os takes xray                                                :drill:
    SCHEDULED: <2021-12-20 Mon>
    :PROPERTIES:
    :ID:       8c13a60f-1ba0-493a-9eeb-6dfcc78bb69f
    :DRILL_LAST_INTERVAL: 10.3376
    :DRILL_REPEATS_SINCE_FAIL: 3
    :DRILL_TOTAL_REPEATS: 2
    :DRILL_FAILURE_COUNT: 0
    :DRILL_AVERAGE_QUALITY: 4.0
    :DRILL_EASE: 2.46
    :DRILL_LAST_QUALITY: 3
    :DRILL_LAST_REVIEWED: [2021-12-10 Fri 06:44]
    :END:
.

**** A    
    Amazon Linux
    Ubuntu
    Windows Server (2012 R2 and newer)
*** how to launch xray on an ec2 instance                             :drill:
    SCHEDULED: <2021-12-24 Fri>
    :PROPERTIES:
    :ID:       e9fc70c3-6356-4d7e-b0d2-ac50f767dad3
    :DRILL_LAST_INTERVAL: 9.3103
    :DRILL_REPEATS_SINCE_FAIL: 3
    :DRILL_TOTAL_REPEATS: 4
    :DRILL_FAILURE_COUNT: 1
    :DRILL_AVERAGE_QUALITY: 3.0
    :DRILL_EASE: 2.36
    :DRILL_LAST_QUALITY: 4
    :DRILL_LAST_REVIEWED: [2021-12-15 Wed 21:41]
    :END:
    ______________________________________
**** A
     With a user data script
*** Xray on ec2                                                       :drill:
    SCHEDULED: <2021-12-23 Thu>
    :PROPERTIES:
    :ID:       6182556d-e4be-4678-a877-a08cee149fa6
    :DRILL_LAST_INTERVAL: 4.14
    :DRILL_REPEATS_SINCE_FAIL: 2
    :DRILL_TOTAL_REPEATS: 11
    :DRILL_FAILURE_COUNT: 7
    :DRILL_AVERAGE_QUALITY: 2.364
    :DRILL_EASE: 2.32
    :DRILL_LAST_QUALITY: 5
    :DRILL_LAST_REVIEWED: [2021-12-19 Sun 10:21]
    :END:
    You install a [user data script] and assign [an instance profile] to get xray trace from ec2
**** bonus
     a User Data Script looks like this
#!/bin/bash
curl https://s3.us-east-2.amazonaws.com/aws-xray-assets.us-east-2/xray-daemon/aws-xray-daemon-3.x.rpm -o /home/ec2-user/xray.rpm
yum install -y /home/ec2-user/xray.rpm

    

** Lambda

*** updating traffic

**** one                                                              :drill:
     SCHEDULED: <2021-12-27 Mon>
     :PROPERTIES:
     :ID:       55060a6f-5e75-4764-80f5-df5aba2fc46c
     :DRILL_LAST_INTERVAL: 7.979
     :DRILL_REPEATS_SINCE_FAIL: 3
     :DRILL_TOTAL_REPEATS: 7
     :DRILL_FAILURE_COUNT: 3
     :DRILL_AVERAGE_QUALITY: 2.286
     :DRILL_EASE: 2.08
     :DRILL_LAST_QUALITY: 3
     :DRILL_LAST_REVIEWED: [2021-12-19 Sun 10:01]
     :END:
     what setting in lambda lets you split traffic to two versions?

***** answer
      routing-config 

**** two                                                              :drill:
     SCHEDULED: <2021-12-27 Mon>
     :PROPERTIES:
     :ID:       f68d0cd4-d2dd-4759-a52c-fb9cfdb04af0
     :DRILL_LAST_INTERVAL: 7.979
     :DRILL_REPEATS_SINCE_FAIL: 3
     :DRILL_TOTAL_REPEATS: 12
     :DRILL_FAILURE_COUNT: 8
     :DRILL_AVERAGE_QUALITY: 2.001
     :DRILL_EASE: 2.08
     :DRILL_LAST_QUALITY: 3
     :DRILL_LAST_REVIEWED: [2021-12-19 Sun 09:55]
     :END:
     necessary criteria to relate two lambda version with routing-config
     
***** answer
      - same IAM execution role
      - Same Lambda Dead Letter
      - Alias cannot point to $LATEST
      

   
**** three                                                            :drill:
     SCHEDULED: <2021-12-29 Wed>
     :PROPERTIES:
     :ID:       ee91a1ad-0e9a-42f0-8c18-67b8c4732cc6
     :DRILL_LAST_INTERVAL: 22.7451
     :DRILL_CARD_TYPE: hide1cloze
     :DRILL_REPEATS_SINCE_FAIL: 4
     :DRILL_TOTAL_REPEATS: 4
     :DRILL_FAILURE_COUNT: 1
     :DRILL_AVERAGE_QUALITY: 3.25
     :DRILL_EASE: 2.46
     :DRILL_LAST_QUALITY: 5
     :DRILL_LAST_REVIEWED: [2021-12-06 Mon 21:25]
     :END:
     
[traffic shifting for lambda] is a lambda feature to split traffic to two versions, configured with [routing-config]

** VPC

*** route tables

**** gateway in private/public
     what is typical diff in route table in a private/public gateway

***** answer
      0.0.0.0/ig->gateway vs 0.0.0.0/0 -> nat-gateway
     


      
*** Requirement for server in Private Subnet to get internet          :drill:
    SCHEDULED: <2021-12-22 Wed>
:PROPERTIES:
:DRILL_CARD_TYPE: hide1cloze
:ID:       857dd87b-31b8-4188-bf00-575402379b26
:DRILL_LAST_INTERVAL: 9.6346
:DRILL_REPEATS_SINCE_FAIL: 3
:DRILL_TOTAL_REPEATS: 2
:DRILL_FAILURE_COUNT: 0
:DRILL_AVERAGE_QUALITY: 4.0
:DRILL_EASE: 2.46
:DRILL_LAST_QUALITY: 5
:DRILL_LAST_REVIEWED: [2021-12-12 Sun 19:48]
:END:

   The [NAT gateway] must be in a public subnet with a route table that routes [internet traffic] to an internet gateway. 

*** Where do you allow port 1024-65535?                               :drill:
    SCHEDULED: <2021-12-29 Wed>
    :PROPERTIES:
    :ID:       4c9f28e6-78d8-4c1c-a9ca-a6d03108d4b2
    :DRILL_LAST_INTERVAL: 10.7143
    :DRILL_REPEATS_SINCE_FAIL: 3
    :DRILL_TOTAL_REPEATS: 6
    :DRILL_FAILURE_COUNT: 3
    :DRILL_AVERAGE_QUALITY: 2.833
    :DRILL_EASE: 2.6
    :DRILL_LAST_QUALITY: 4
    :DRILL_LAST_REVIEWED: [2021-12-18 Sat 03:59]
    :END:
    .

**** A
     Those ephemeral ports
     are okay for INBOUND rules for a NAT Gateway

*** NAT Instance                                                      :drill:
    SCHEDULED: <2021-12-26 Sun>
    :PROPERTIES:
    :ID:       a2e79b5a-30ce-4854-beaf-85fd9ae154eb
    :DRILL_LAST_INTERVAL: 11.0911
    :DRILL_REPEATS_SINCE_FAIL: 3
    :DRILL_TOTAL_REPEATS: 2
    :DRILL_FAILURE_COUNT: 0
    :DRILL_AVERAGE_QUALITY: 5.0
    :DRILL_EASE: 2.7
    :DRILL_LAST_QUALITY: 5
    :DRILL_LAST_REVIEWED: [2021-12-15 Wed 21:42]
    :END:
    What capability is offered by NAT Instance and not NAT Gateway

**** A
     You can use it as a bastion host
** Route 53

***  DNSSEC



**** Guarantee
     what does DNSSEC guarantee?

***** Answer
      data origin authentication ; authenticated denial of existinence; data integrity
    
**** price                                         :drill:fix:inferred:price:
     SCHEDULED: <2022-01-12 Wed>
     :PROPERTIES:
     :ID:       38d27ccf-c405-40dc-970e-d67836f88a92
     :DRILL_LAST_INTERVAL: 23.5373
     :DRILL_REPEATS_SINCE_FAIL: 4
     :DRILL_TOTAL_REPEATS: 4
     :DRILL_FAILURE_COUNT: 1
     :DRILL_AVERAGE_QUALITY: 3.0
     :DRILL_EASE: 2.46
     :DRILL_LAST_QUALITY: 4
     :DRILL_LAST_REVIEWED: [2021-12-19 Sun 10:01]
     :END:
     price for DNSSEC

**** keys
     who holds the public key for your domain

***** Answer
      The TLD registrar (Route 53 Domains)

***** Notes
      WHen resolving, get signature from TLD registrar and compare it to DNS provider
      - the TLD registrar sends "Delegation Signer" record which is reconcied with
	Dns provider signature

*** weighted

**** how to split traffic for one name to separate IPs with route53   :drill:
     SCHEDULED: <2021-12-22 Wed>
     :PROPERTIES:
     :ID:       2b6254b2-689d-47eb-9115-a7e26f014f82
     :DRILL_LAST_INTERVAL: 9.6346
     :DRILL_REPEATS_SINCE_FAIL: 3
     :DRILL_TOTAL_REPEATS: 2
     :DRILL_FAILURE_COUNT: 0
     :DRILL_AVERAGE_QUALITY: 4.0
     :DRILL_EASE: 2.46
     :DRILL_LAST_QUALITY: 5
     :DRILL_LAST_REVIEWED: [2021-12-12 Sun 19:44]
     :END:
     how?

***** answer
      weighted routing
** S3
** UBS



** Flow logs
*** define flow logs                                                  :drill:
    SCHEDULED: <2021-12-27 Mon>
    :PROPERTIES:
    :ID:       0dd064b6-d647-43ce-bce7-4c1f01929c99
    :DRILL_LAST_INTERVAL: 11.4795
    :DRILL_REPEATS_SINCE_FAIL: 3
    :DRILL_TOTAL_REPEATS: 6
    :DRILL_FAILURE_COUNT: 3
    :DRILL_AVERAGE_QUALITY: 3.0
    :DRILL_EASE: 2.7
    :DRILL_LAST_QUALITY: 4
    :DRILL_LAST_REVIEWED: [2021-12-16 Thu 06:53]
    :END:
.
**** definition
     capture IP traffic between Network interfaces Of VPC
*** Are flow logs free?                                               :drill:
    SCHEDULED: <2021-12-28 Tue>
    :PROPERTIES:
    :ID:       98d12379-77c6-4005-8e52-3f5a1977f244
    :DRILL_LAST_INTERVAL: 9.192
    :DRILL_REPEATS_SINCE_FAIL: 3
    :DRILL_TOTAL_REPEATS: 6
    :DRILL_FAILURE_COUNT: 2
    :DRILL_AVERAGE_QUALITY: 2.667
    :DRILL_EASE: 2.32
    :DRILL_LAST_QUALITY: 5
    :DRILL_LAST_REVIEWED: [2021-12-19 Sun 09:54]
    :END:
.
**** answer
     no, cloudwatch charges apply
*** What charges apply to flow logs                                   :drill:
    SCHEDULED: <2021-12-25 Sat>
    :PROPERTIES:
    :ID:       1a7e763f-9ece-45ae-a730-fb5ea363ad88
    :DRILL_LAST_INTERVAL: 10.0
    :DRILL_REPEATS_SINCE_FAIL: 3
    :DRILL_TOTAL_REPEATS: 5
    :DRILL_FAILURE_COUNT: 2
    :DRILL_AVERAGE_QUALITY: 2.8
    :DRILL_EASE: 2.5
    :DRILL_LAST_QUALITY: 4
    :DRILL_LAST_REVIEWED: [2021-12-15 Wed 21:36]
    :END:
.
**** answer
     cloudwatch chages, even if you send to s3
*** what services can you send flow logs to?                          :drill:
    SCHEDULED: <2021-12-24 Fri>
    :PROPERTIES:
    :ID:       f24f7115-82a6-4d70-b201-8b89bce6106f
    :DRILL_LAST_INTERVAL: 8.9861
    :DRILL_REPEATS_SINCE_FAIL: 3
    :DRILL_TOTAL_REPEATS: 4
    :DRILL_FAILURE_COUNT: 1
    :DRILL_AVERAGE_QUALITY: 2.5
    :DRILL_EASE: 2.22
    :DRILL_LAST_QUALITY: 3
    :DRILL_LAST_REVIEWED: [2021-12-15 Wed 21:37]
    :END:
.
**** answer
     S3 or CLoudwatch Logs


** EFS
*** Sharing                                                           :drill:
    SCHEDULED: <2022-01-14 Fri>
    :PROPERTIES:
    :ID:       da009d7b-4c68-4ab5-b6db-c0267f16e67c
    :DRILL_LAST_INTERVAL: 25.88
    :DRILL_REPEATS_SINCE_FAIL: 4
    :DRILL_TOTAL_REPEATS: 3
    :DRILL_FAILURE_COUNT: 0
    :DRILL_AVERAGE_QUALITY: 4.333
    :DRILL_EASE: 2.6
    :DRILL_LAST_QUALITY: 5
    :DRILL_LAST_REVIEWED: [2021-12-19 Sun 10:00]
    :END:
    elastic file system lets you share bewteen [ec2] and [fargate] servers
** RDS
** Athena

** Auto scaling

*** term policies

**** default                                                          :drill:
     SCHEDULED: <2021-12-26 Sun>
     :PROPERTIES:
     :ID:       aa3096a5-b114-460b-8954-67b338f7def4
     :DRILL_LAST_INTERVAL: 10.352
     :DRILL_REPEATS_SINCE_FAIL: 3
     :DRILL_TOTAL_REPEATS: 4
     :DRILL_FAILURE_COUNT: 1
     :DRILL_AVERAGE_QUALITY: 3.5
     :DRILL_EASE: 2.6
     :DRILL_LAST_QUALITY: 5
     :DRILL_LAST_REVIEWED: [2021-12-16 Thu 06:47]
     :END:
     what is default autoscaling term (scale-in) strategy?

***** answer
      preserve balance across A/Zs 

***** bonus
      because: HA

*** health checks

**** types                                                            :drill:
     SCHEDULED: <2021-12-21 Tue>
     :PROPERTIES:
     :ID:       b8b32a13-3c91-438f-bef7-25edfb0bc38c
     :DRILL_LAST_INTERVAL: 8.2695
     :DRILL_REPEATS_SINCE_FAIL: 3
     :DRILL_TOTAL_REPEATS: 4
     :DRILL_FAILURE_COUNT: 1
     :DRILL_AVERAGE_QUALITY: 2.75
     :DRILL_EASE: 2.22
     :DRILL_LAST_QUALITY: 4
     :DRILL_LAST_REVIEWED: [2021-12-13 Mon 06:46]
     :END:
     what are types of ASG health checks

***** answer
      EC2 status checks are default
      Optionally can add *ELB* health checks (additional)
     
**** distinction                                                      :drill:
     SCHEDULED: <2021-12-20 Mon>
     :PROPERTIES:
     :ID:       6339287b-5977-41d7-a997-5a56a43ffab8
     :DRILL_LAST_INTERVAL: 11.0911
     :DRILL_REPEATS_SINCE_FAIL: 3
     :DRILL_TOTAL_REPEATS: 2
     :DRILL_FAILURE_COUNT: 0
     :DRILL_AVERAGE_QUALITY: 5.0
     :DRILL_EASE: 2.7
     :DRILL_LAST_QUALITY: 5
     :DRILL_LAST_REVIEWED: [2021-12-09 Thu 22:08]
     :END:
     diff between default and ELB health finding unhealthy?

***** answer
      ELB schedules for replacement
      Default terminates it

*** draining                                                          :drill:
    SCHEDULED: <2021-12-20 Mon>
    :PROPERTIES:
    :ID:       12037cb1-8c60-4c2b-ac84-3802ec6d8d64
    :DRILL_LAST_INTERVAL: 9.648
    :DRILL_REPEATS_SINCE_FAIL: 3
    :DRILL_TOTAL_REPEATS: 2
    :DRILL_FAILURE_COUNT: 0
    :DRILL_AVERAGE_QUALITY: 3.5
    :DRILL_EASE: 2.36
    :DRILL_LAST_QUALITY: 3
    :DRILL_LAST_REVIEWED: [2021-12-10 Fri 06:41]
    :END:
    [Autocaling] will wait for connections to [terminate or complete] if connection draining enabled

*** monitoring                                                        :drill:
    SCHEDULED: <2021-12-23 Thu>
    :PROPERTIES:
    :ID:       611ed978-0f9f-4425-9b4b-c1a5582f70bf
    :DRILL_LAST_INTERVAL: 4.135
    :DRILL_REPEATS_SINCE_FAIL: 2
    :DRILL_TOTAL_REPEATS: 4
    :DRILL_FAILURE_COUNT: 1
    :DRILL_AVERAGE_QUALITY: 3.5
    :DRILL_EASE: 2.56
    :DRILL_LAST_QUALITY: 5
    :DRILL_LAST_REVIEWED: [2021-12-19 Sun 10:26]
    :END:
    Cloudwatch gets instance info [every 5 minutes] by default or every one minute with [Detailed monitoring]




      

*** types                                                :shaky:drill:memorize:
    SCHEDULED: <2021-12-28 Tue>
    :PROPERTIES:
    :ID:       35db9392-7d71-49c5-bcd0-a0887d267163
    :DRILL_LAST_INTERVAL: 9.624
    :DRILL_REPEATS_SINCE_FAIL: 3
    :DRILL_TOTAL_REPEATS: 8
    :DRILL_FAILURE_COUNT: 4
    :DRILL_AVERAGE_QUALITY: 2.5
    :DRILL_EASE: 2.32
    :DRILL_LAST_QUALITY: 3
    :DRILL_LAST_REVIEWED: [2021-12-18 Sat 04:00]
    :END:
    Name three autoscaling strategies

**** they are
     - Target tracking - responds to alarm
     - Simple - usually not recommended , reevaluates after cooldown
     - Step scaling - varies adjustments 



   
*** scope                                                             :drill:
    SCHEDULED: <2022-01-12 Wed>
    :PROPERTIES:
    :ID:       51e1d707-29d6-4447-98c8-c7037ee26721
    :DRILL_LAST_INTERVAL: 23.5701
    :DRILL_REPEATS_SINCE_FAIL: 4
    :DRILL_TOTAL_REPEATS: 3
    :DRILL_FAILURE_COUNT: 0
    :DRILL_AVERAGE_QUALITY: 4.0
    :DRILL_EASE: 2.46
    :DRILL_LAST_QUALITY: 5
    :DRILL_LAST_REVIEWED: [2021-12-19 Sun 10:22]
    :END:
    with regard to subnets/regions, where does autoscaling operate
**** answer
     it is region specific
*** price                                                             :drill:
    SCHEDULED: <2021-12-23 Thu>
    :PROPERTIES:
    :ID:       856bf55c-dde9-4286-bd30-e34d7ab51bf9
    :DRILL_LAST_INTERVAL: 4.135
    :DRILL_REPEATS_SINCE_FAIL: 2
    :DRILL_TOTAL_REPEATS: 4
    :DRILL_FAILURE_COUNT: 1
    :DRILL_AVERAGE_QUALITY: 3.75
    :DRILL_EASE: 2.56
    :DRILL_LAST_QUALITY: 5
    :DRILL_LAST_REVIEWED: [2021-12-19 Sun 10:26]
    :END:
    factors in charges for autoscaling
**** answer
     it is free (
     


** Dynamo DB
*** Read/Write capacity
**** What is one dynamodb unit of read capacity?                      :drill:
     SCHEDULED: <2021-12-08 Wed>
     :PROPERTIES:
     :ID:       ce15261e-dc9a-443f-84a7-2278c2cb4c8d
     :DRILL_LAST_INTERVAL: 3.86
     :DRILL_REPEATS_SINCE_FAIL: 2
     :DRILL_TOTAL_REPEATS: 1
     :DRILL_FAILURE_COUNT: 0
     :DRILL_AVERAGE_QUALITY: 3.0
     :DRILL_EASE: 2.36
     :DRILL_LAST_QUALITY: 3
     :DRILL_LAST_REVIEWED: [2021-12-04 Sat 23:54]
     :END:
***** Well, what is it?
One read capacity unit represents one strongly consistent read per second, or two eventually consistent reads per second, for an item up to 4 KB in size     
**** Dynamodb capacity calc :drill:
     SCHEDULED: <2021-12-23 Thu>
     :PROPERTIES:
     :ID:       d1e8913f-1dac-4ce0-b5b7-0b74c1554ac2
     :DRILL_LAST_INTERVAL: 9.6346
     :DRILL_REPEATS_SINCE_FAIL: 3
     :DRILL_TOTAL_REPEATS: 6
     :DRILL_FAILURE_COUNT: 3
     :DRILL_AVERAGE_QUALITY: 2.5
     :DRILL_EASE: 2.46
     :DRILL_LAST_QUALITY: 5
     :DRILL_LAST_REVIEWED: [2021-12-13 Mon 06:45]
     :END:
     One [read] capacity unit represents one [strongly consistent read] per second, or [two eventually consistent reads] per second, for an item up to 4 KB in size 
**** Dynamodb capacity calc :drill:
     SCHEDULED: <2022-01-14 Fri>
     :PROPERTIES:
     :ID:       71a997a3-37d9-4fa7-a942-23e8b14848ec
     :DRILL_LAST_INTERVAL: 25.813
     :DRILL_REPEATS_SINCE_FAIL: 4
     :DRILL_TOTAL_REPEATS: 6
     :DRILL_FAILURE_COUNT: 2
     :DRILL_AVERAGE_QUALITY: 3.333
     :DRILL_EASE: 2.46
     :DRILL_LAST_QUALITY: 4
     :DRILL_LAST_REVIEWED: [2021-12-19 Sun 10:26]
     :END:
If your item size is 2 KB, you require [2] write capacity units to
sustain one write request per second or [4] write capacity units for a
transactional write request.
*** Dynamo limits
**** What is the item size limit for DynamoDb                         :drill:
     SCHEDULED: <2021-12-29 Wed>
     :PROPERTIES:
     :ID:       4b532143-f584-4243-b45f-01fde0a5ea58
     :DRILL_LAST_INTERVAL: 10.0
     :DRILL_REPEATS_SINCE_FAIL: 3
     :DRILL_TOTAL_REPEATS: 5
     :DRILL_FAILURE_COUNT: 1
     :DRILL_AVERAGE_QUALITY: 3.2
     :DRILL_EASE: 2.5
     :DRILL_LAST_QUALITY: 4
     :DRILL_LAST_REVIEWED: [2021-12-19 Sun 09:57]
     :END:
     What is the item size limit for DynamoDb 
     :PROPERTIES:
     :ID:       a57fc6a4-ec5f-4e6e-9ba3-eb9a39e6dc52
     :END:
***** well?
      400KB -- it includes the attribute name
**** Binary objects -- how much size to they take in Dynamodb         :drill:
     SCHEDULED: <2022-01-14 Fri>
     :PROPERTIES:
     :ID:       87e1b757-31b1-4f68-b581-0efa794f12aa
     :DRILL_LAST_INTERVAL: 26.791
     :DRILL_REPEATS_SINCE_FAIL: 4
     :DRILL_TOTAL_REPEATS: 3
     :DRILL_FAILURE_COUNT: 0
     :DRILL_AVERAGE_QUALITY: 4.333
     :DRILL_EASE: 2.6
     :DRILL_LAST_QUALITY: 4
     :DRILL_LAST_REVIEWED: [2021-12-18 Sat 03:54]
     :END:
     How much do they take?
***** how much
      the attribute name(!) + the raw bytes
***** notes
      they are actually stored as base64
**** Dynamo DB Pagination                                         :drill:
     SCHEDULED: <2022-01-13 Thu>
     :PROPERTIES:
     :ID:       221a2051-ea9b-46ea-9844-ef8d9bb1a600
     :DRILL_LAST_INTERVAL: 26.1438
     :DRILL_REPEATS_SINCE_FAIL: 4
     :DRILL_TOTAL_REPEATS: 3
     :DRILL_FAILURE_COUNT: 0
     :DRILL_AVERAGE_QUALITY: 4.333
     :DRILL_EASE: 2.56
     :DRILL_LAST_QUALITY: 5
     :DRILL_LAST_REVIEWED: [2021-12-18 Sat 03:53]
     :END:
     When you get more than 1 meg data, how does app know there is more?
***** How?
      LastEvaluatedKey
**** Dynamo Query return limits                                       :drill:
     SCHEDULED: <2022-01-18 Tue>
     :PROPERTIES:
     :ID:       87a1efa0-fefb-4cdc-93c5-5325310e327b
     :DRILL_LAST_INTERVAL: 30.9885
     :DRILL_REPEATS_SINCE_FAIL: 4
     :DRILL_TOTAL_REPEATS: 3
     :DRILL_FAILURE_COUNT: 0
     :DRILL_AVERAGE_QUALITY: 5.0
     :DRILL_EASE: 2.8
     :DRILL_LAST_QUALITY: 5
     :DRILL_LAST_REVIEWED: [2021-12-18 Sat 03:55]
     :END:
     A  dynamo query can return [1 mb] of data
***** Notes
      It applies to query and scan same way
**** Name of indicator there are more results in dynamo               :drill:
     SCHEDULED: <2021-12-22 Wed>
     :PROPERTIES:
     :ID:       dafa1a24-7d88-4bb2-8069-6e9a60361266
     :DRILL_LAST_INTERVAL: 3.86
     :DRILL_REPEATS_SINCE_FAIL: 2
     :DRILL_TOTAL_REPEATS: 5
     :DRILL_FAILURE_COUNT: 2
     :DRILL_AVERAGE_QUALITY: 2.8
     :DRILL_EASE: 2.36
     :DRILL_LAST_QUALITY: 3
     :DRILL_LAST_REVIEWED: [2021-12-18 Sat 04:02]
     :END:
     What's the indictor there are more records and when do you get it
***** answer
      LastEvaluatedKey - after 1 meg data
**** Per partition limits on writing in dynamo
     How much can you write per partition
***** answer
      1000 WCU/second
****** Note
that is up to 1 MB per second per partition
** Cloudwatch
***  in cloudwatch:      :drill:
    SCHEDULED: <2021-12-26 Sun>
    :PROPERTIES:
    :ID:       fe912613-50a9-44a9-bd5f-9eaf0ad88c1c
    :DRILL_LAST_INTERVAL: 10.7143
    :DRILL_REPEATS_SINCE_FAIL: 3
    :DRILL_TOTAL_REPEATS: 3
    :DRILL_FAILURE_COUNT: 1
    :DRILL_AVERAGE_QUALITY: 3.667
    :DRILL_EASE: 2.6
    :DRILL_LAST_QUALITY: 4
    :DRILL_LAST_REVIEWED: [2021-12-15 Wed 21:38]
    :END:
    For configuring CW alarms - 
****  period vs evaluation period.
- Period - Frequency of measure, in seconds.   One data point per period

 - Evaluation Period  - how many periods
*** Cloudwatch alarms                                                 :drill:
    SCHEDULED: <2021-12-27 Mon>
    :PROPERTIES:
    :ID:       664eafa6-2460-4e0b-8353-f80fe112e676
    :DRILL_LAST_INTERVAL: 11.0911
    :DRILL_REPEATS_SINCE_FAIL: 3
    :DRILL_TOTAL_REPEATS: 2
    :DRILL_FAILURE_COUNT: 0
    :DRILL_AVERAGE_QUALITY: 5.0
    :DRILL_EASE: 2.7
    :DRILL_LAST_QUALITY: 5
    :DRILL_LAST_REVIEWED: [2021-12-16 Thu 06:46]
    :END:
    Do breaches have to be consecutive to raise cloudwatch alarm?
**** A
     No there have to be X breaches in the evaluation period
*** Alarm criter cloudwatch                                           :drill:
    SCHEDULED: <2021-12-23 Thu>
:PROPERTIES:
:DRILL_CARD_TYPE: hide1cloze
:ID:       8282f4c2-44d4-441e-9cb9-3fa7f2b174ef
:DRILL_LAST_INTERVAL: 10.352
:DRILL_REPEATS_SINCE_FAIL: 3
:DRILL_TOTAL_REPEATS: 3
:DRILL_FAILURE_COUNT: 1
:DRILL_AVERAGE_QUALITY: 3.667
:DRILL_EASE: 2.6
:DRILL_LAST_QUALITY: 5
:DRILL_LAST_REVIEWED: [2021-12-13 Mon 06:49]
:END:
        To trigger a [cloudwatch alarm] there must be X breaches in an [evaluation period]
**** bonus
     X is datapoints to alarm
*** Triggering - counter name                                         :drill:
    SCHEDULED: <2021-12-28 Tue>
    :PROPERTIES:
    :ID:       c7475b4b-c692-4827-a99e-1b3708f5f983
    :DRILL_LAST_INTERVAL: 10.3191
    :DRILL_REPEATS_SINCE_FAIL: 3
    :DRILL_TOTAL_REPEATS: 7
    :DRILL_FAILURE_COUNT: 4
    :DRILL_AVERAGE_QUALITY: 2.572
    :DRILL_EASE: 2.56
    :DRILL_LAST_QUALITY: 5
    :DRILL_LAST_REVIEWED: [2021-12-18 Sat 03:58]
    :END:
    the count of breaches that will trigger cloudwatch alarm is called [datapoints to alarm]
*** Define cloudwatch  "metric math"                              :drill:fix:
    SCHEDULED: <2021-12-23 Thu>
    :PROPERTIES:
    :ID:       34a8116c-3fe1-428c-be09-5114ef0db32c
    :DRILL_LAST_INTERVAL: 10.7143
    :DRILL_REPEATS_SINCE_FAIL: 3
    :DRILL_TOTAL_REPEATS: 2
    :DRILL_FAILURE_COUNT: 0
    :DRILL_AVERAGE_QUALITY: 4.5
    :DRILL_EASE: 2.6
    :DRILL_LAST_QUALITY: 4
    :DRILL_LAST_REVIEWED: [2021-12-12 Sun 19:47]
    :END:
    it is used for visualization -- lets you show average or min for exampe
*** Cloudwatch take                                                   :drill:
    SCHEDULED: <2021-12-23 Thu>
    :PROPERTIES:
    :ID:       05837a88-f21e-4c2c-84f6-415e7d7ab143
    :DRILL_LAST_INTERVAL: 10.352
    :DRILL_REPEATS_SINCE_FAIL: 3
    :DRILL_TOTAL_REPEATS: 3
    :DRILL_FAILURE_COUNT: 1
    :DRILL_AVERAGE_QUALITY: 3.333
    :DRILL_EASE: 2.6
    :DRILL_LAST_QUALITY: 5
    :DRILL_LAST_REVIEWED: [2021-12-13 Mon 06:45]
    :END:
    Cloudwatch is basically a [metrics repository]
*** Does Cloudwatch give totals for all regions?                      :drill:
    SCHEDULED: <2021-12-23 Thu>
    :PROPERTIES:
    :ID:       a056b84b-443f-44ea-adf5-e0e301398045
    :DRILL_LAST_INTERVAL: 11.0911
    :DRILL_REPEATS_SINCE_FAIL: 3
    :DRILL_TOTAL_REPEATS: 2
    :DRILL_FAILURE_COUNT: 0
    :DRILL_AVERAGE_QUALITY: 5.0
    :DRILL_EASE: 2.7
    :DRILL_LAST_QUALITY: 5
    :DRILL_LAST_REVIEWED: [2021-12-12 Sun 19:45]
    :END:
    _____________________________________
**** A.
     No - cloudwatch is region-by-region 
*** Can you add custom metrics to Cloudwatch                          :drill:
    SCHEDULED: <2021-12-23 Thu>
    :PROPERTIES:
    :ID:       4fb189ae-8f1d-4ee7-a094-8559f3ed2d7d
    :DRILL_LAST_INTERVAL: 11.0911
    :DRILL_REPEATS_SINCE_FAIL: 3
    :DRILL_TOTAL_REPEATS: 2
    :DRILL_FAILURE_COUNT: 0
    :DRILL_AVERAGE_QUALITY: 5.0
    :DRILL_EASE: 2.7
    :DRILL_LAST_QUALITY: 5
    :DRILL_LAST_REVIEWED: [2021-12-12 Sun 19:47]
    :END:
    can you?
**** A
     Yes
*** How does cloudwatch organize metrics?                             :drill:
    SCHEDULED: <2021-12-22 Wed>
    :PROPERTIES:
    :ID:       00f45ef8-f46f-4044-ae1a-a1061515b992
    :DRILL_LAST_INTERVAL: 9.3103
    :DRILL_REPEATS_SINCE_FAIL: 3
    :DRILL_TOTAL_REPEATS: 3
    :DRILL_FAILURE_COUNT: 1
    :DRILL_AVERAGE_QUALITY: 2.667
    :DRILL_EASE: 2.36
    :DRILL_LAST_QUALITY: 4
    :DRILL_LAST_REVIEWED: [2021-12-13 Mon 06:45]
    :END:
    ____________________________________
**** A
    into namespaces
*** How long does a cloudwatch metric stay available                  :drill:
    SCHEDULED: <2021-12-22 Wed>
    :PROPERTIES:
    :ID:       dc22acee-4f25-4386-b878-198fdfd485e3
    :DRILL_LAST_INTERVAL: 8.9861
    :DRILL_REPEATS_SINCE_FAIL: 3
    :DRILL_TOTAL_REPEATS: 3
    :DRILL_FAILURE_COUNT: 1
    :DRILL_AVERAGE_QUALITY: 2.667
    :DRILL_EASE: 2.22
    :DRILL_LAST_QUALITY: 3
    :DRILL_LAST_REVIEWED: [2021-12-13 Mon 06:44]
    :END:
    .
**** A
     15 months
*** 1 sided cloze
:PROPERTIES:
:DRILL_CARD_TYPE: hide1cloze
:END:
You must install [CloudWatch Agent] to get EC2 [memory/disk utilization] metrics
*** Cloudwatch metric resolution                                      :drill:
    SCHEDULED: <2021-12-24 Fri>
    :PROPERTIES:
    :ID:       9a9a1950-08b0-43de-90e9-4332956fc276
    :DRILL_LAST_INTERVAL: 7.979
    :DRILL_REPEATS_SINCE_FAIL: 3
    :DRILL_TOTAL_REPEATS: 4
    :DRILL_FAILURE_COUNT: 1
    :DRILL_AVERAGE_QUALITY: 2.5
    :DRILL_EASE: 2.08
    :DRILL_LAST_QUALITY: 3
    :DRILL_LAST_REVIEWED: [2021-12-16 Thu 06:45]
    :END:
    What are the two cloudwatch metric resolutions
**** A
     Standard and High - 1 minute and 1 second
*** Avaialble alarms                                                  :drill:
    SCHEDULED: <2021-12-25 Sat>
    :PROPERTIES:
    :ID:       b23d4b66-683c-439e-98ea-864639c84921
    :DRILL_LAST_INTERVAL: 8.56
    :DRILL_REPEATS_SINCE_FAIL: 3
    :DRILL_TOTAL_REPEATS: 4
    :DRILL_FAILURE_COUNT: 1
    :DRILL_AVERAGE_QUALITY: 3.0
    :DRILL_EASE: 2.32
    :DRILL_LAST_QUALITY: 5
    :DRILL_LAST_REVIEWED: [2021-12-16 Thu 06:54]
    :END:
    What are available resoutions for cloudwatch alarm?
**** A
     10 second, 30 second and any multipe of 60 second
     
    

	

   
    
     


** Load balancers

*** offloading                                                        :drill:
    SCHEDULED: <2021-12-20 Mon>
    :PROPERTIES:
    :ID:       ed19f801-ea4a-46f9-ba26-bedcb49735fe
    :DRILL_LAST_INTERVAL: 11.0911
    :DRILL_REPEATS_SINCE_FAIL: 3
    :DRILL_TOTAL_REPEATS: 2
    :DRILL_FAILURE_COUNT: 0
    :DRILL_AVERAGE_QUALITY: 5.0
    :DRILL_EASE: 2.7
    :DRILL_LAST_QUALITY: 5
    :DRILL_LAST_REVIEWED: [2021-12-09 Thu 06:18]
    :END:

what type of ELB does TLS offloading

**** answer
     both

*** health checks                                                     :drill:
    SCHEDULED: <2021-12-20 Mon>
    :PROPERTIES:
    :ID:       74e45f73-dbd1-42e5-9c8c-c7ecdf8860aa
    :DRILL_LAST_INTERVAL: 11.0911
    :DRILL_REPEATS_SINCE_FAIL: 3
    :DRILL_TOTAL_REPEATS: 2
    :DRILL_FAILURE_COUNT: 0
    :DRILL_AVERAGE_QUALITY: 5.0
    :DRILL_EASE: 2.7
    :DRILL_LAST_QUALITY: 5
    :DRILL_LAST_REVIEWED: [2021-12-09 Thu 06:25]
    :END:
    what is flaw not making ELB health checks when using ELB?

**** answer
     ELB can route to instances that failed the EC2 health check
*** Cloud watch                                                       :drill:
    SCHEDULED: <2021-12-27 Mon>
    :PROPERTIES:
    :ID:       50197b9d-e835-4f2b-b724-777847715d6c
    :DRILL_LAST_INTERVAL: 8.6313
    :DRILL_REPEATS_SINCE_FAIL: 3
    :DRILL_TOTAL_REPEATS: 7
    :DRILL_FAILURE_COUNT: 3
    :DRILL_AVERAGE_QUALITY: 2.715
    :DRILL_EASE: 2.18
    :DRILL_LAST_QUALITY: 3
    :DRILL_LAST_REVIEWED: [2021-12-18 Sat 03:57]
    :END:
    How ofen does ELB write to cloudwatch

**** answer
     1 minute, but only when requests are active

*** ELB Access  logs                                                  :drill:
    SCHEDULED: <2021-12-22 Wed>
    :PROPERTIES:
    :ID:       4f320b2a-25a6-4446-9b11-6e8c82914ee9
    :DRILL_LAST_INTERVAL: 4.0
    :DRILL_REPEATS_SINCE_FAIL: 2
    :DRILL_TOTAL_REPEATS: 9
    :DRILL_FAILURE_COUNT: 5
    :DRILL_AVERAGE_QUALITY: 2.889
    :DRILL_EASE: 2.8
    :DRILL_LAST_QUALITY: 4
    :DRILL_LAST_REVIEWED: [2021-12-18 Sat 04:02]
    :END:
    Access logs for ELB
    
**** about them
     - are not enabled by default
     - have info about clients


     
*** relation to ASGs                                                  :drill:
    SCHEDULED: <2022-01-12 Wed>
    :PROPERTIES:
    :ID:       6937dfe2-6520-4123-a214-606769ce3869
    :DRILL_LAST_INTERVAL: 23.5701
    :DRILL_REPEATS_SINCE_FAIL: 4
    :DRILL_TOTAL_REPEATS: 3
    :DRILL_FAILURE_COUNT: 0
    :DRILL_AVERAGE_QUALITY: 4.0
    :DRILL_EASE: 2.46
    :DRILL_LAST_QUALITY: 5
    :DRILL_LAST_REVIEWED: [2021-12-19 Sun 09:58]
    :END:
    there is a [many-to-many] relationship between target groups and ASGs
*** and auto scaling                                                  :drill:
    SCHEDULED: <2021-12-23 Thu>
    :PROPERTIES:
    :ID:       3f2305bd-9035-4e8b-88c1-26771d6403d9
    :DRILL_LAST_INTERVAL: 10.3376
    :DRILL_REPEATS_SINCE_FAIL: 3
    :DRILL_TOTAL_REPEATS: 4
    :DRILL_FAILURE_COUNT: 1
    :DRILL_AVERAGE_QUALITY: 3.5
    :DRILL_EASE: 2.46
    :DRILL_LAST_QUALITY: 3
    :DRILL_LAST_REVIEWED: [2021-12-13 Mon 06:51]
    :END:
    what does ELB operate on when it scales out/scales in?

**** answer
     An auto scaling group

*** location                                                          :drill:
    SCHEDULED: <2022-01-14 Fri>
    :PROPERTIES:
    :ID:       f6cf6f50-1340-465f-9f6e-8398b24705f4
    :DRILL_LAST_INTERVAL: 25.88
    :DRILL_REPEATS_SINCE_FAIL: 4
    :DRILL_TOTAL_REPEATS: 3
    :DRILL_FAILURE_COUNT: 0
    :DRILL_AVERAGE_QUALITY: 4.333
    :DRILL_EASE: 2.6
    :DRILL_LAST_QUALITY: 5
    :DRILL_LAST_REVIEWED: [2021-12-19 Sun 09:52]
    :END:
    where do ASG and ELBs have to be located relative to each other?

**** answer
     in the same region

*** alb requirement                                                   :drill:
    SCHEDULED: <2021-12-30 Thu>
    :PROPERTIES:
    :ID:       1cb2911b-46c4-4b43-80f8-8faefef14d06
    :DRILL_LAST_INTERVAL: 10.7143
    :DRILL_REPEATS_SINCE_FAIL: 3
    :DRILL_TOTAL_REPEATS: 4
    :DRILL_FAILURE_COUNT: 1
    :DRILL_AVERAGE_QUALITY: 3.75
    :DRILL_EASE: 2.6
    :DRILL_LAST_QUALITY: 4
    :DRILL_LAST_REVIEWED: [2021-12-19 Sun 09:56]
    :END:
    Before you start using your Application Load Balancer, you must add one or more [listeners].
  

*** limitation                                                        :drill:
    SCHEDULED: <2021-12-29 Wed>
    :PROPERTIES:
    :ID:       92ab0500-66e7-489a-8b81-bfe9cb172368
    :DRILL_LAST_INTERVAL: 10.3191
    :DRILL_REPEATS_SINCE_FAIL: 3
    :DRILL_TOTAL_REPEATS: 5
    :DRILL_FAILURE_COUNT: 2
    :DRILL_AVERAGE_QUALITY: 3.0
    :DRILL_EASE: 2.56
    :DRILL_LAST_QUALITY: 5
    :DRILL_LAST_REVIEWED: [2021-12-19 Sun 09:53]
    :END:
Application Load Balancers do not support cookie values that are [URL encoded].


*** Security groups                                       :drill:shaky:drill:
    SCHEDULED: <2021-12-22 Wed>
    :PROPERTIES:
    :ID:       032a4b89-7c27-4d31-bb32-5e0fdd3f4ed9
    :DRILL_LAST_INTERVAL: 3.86
    :DRILL_REPEATS_SINCE_FAIL: 2
    :DRILL_TOTAL_REPEATS: 8
    :DRILL_FAILURE_COUNT: 4
    :DRILL_AVERAGE_QUALITY: 2.499
    :DRILL_EASE: 2.36
    :DRILL_LAST_QUALITY: 4
    :DRILL_LAST_REVIEWED: [2021-12-18 Sat 04:01]
    :END:
    How does security work with ELB listeners
    Must allow for health checks on back end listerns

**** How?
     Must assign SG to ports/protocols on front end listener


*** Where does ELB forward traffic on a ec2?                          :drill:
    SCHEDULED: <2021-12-23 Thu>
    :PROPERTIES:
    :ID:       c16adce0-df59-4208-ab9f-2bd1627719d9
    :DRILL_LAST_INTERVAL: 9.6346
    :DRILL_REPEATS_SINCE_FAIL: 3
    :DRILL_TOTAL_REPEATS: 4
    :DRILL_FAILURE_COUNT: 1
    :DRILL_AVERAGE_QUALITY: 3.25
    :DRILL_EASE: 2.46
    :DRILL_LAST_QUALITY: 5
    :DRILL_LAST_REVIEWED: [2021-12-13 Mon 06:48]
    :END:
    where does ELB forward traffice on an  ec2

**** answer
     eth0

*** subnet req                                                    :drill:fix:
    SCHEDULED: <2022-01-08 Sat>
    :PROPERTIES:
    :ID:       53f878d1-4c37-47c3-a7eb-f4acaa94791d
    :DRILL_LAST_INTERVAL: 22.7088
    :DRILL_CARD_TYPE: hide1cloze
    :DRILL_REPEATS_SINCE_FAIL: 4
    :DRILL_TOTAL_REPEATS: 4
    :DRILL_FAILURE_COUNT: 1
    :DRILL_AVERAGE_QUALITY: 2.75
    :DRILL_EASE: 2.32
    :DRILL_LAST_QUALITY: 3
    :DRILL_LAST_REVIEWED: [2021-12-16 Thu 06:52]
    :END:
    

Minimum size of a subnet that is target of ELB is [/27], and has to have [8] free IPs

**** bonus
     because some addresses are used for elb stuff
*** requirement                                                       :drill:
    SCHEDULED: <2022-01-06 Thu>
    :PROPERTIES:
    :DRILL_CARD_TYPE: hide1cloze
    :ID:       9ad782ba-6f08-4ab0-9225-72cb109f1ceb
    :DRILL_LAST_INTERVAL: 19.2482
    :DRILL_REPEATS_SINCE_FAIL: 4
    :DRILL_TOTAL_REPEATS: 3
    :DRILL_FAILURE_COUNT: 0
    :DRILL_AVERAGE_QUALITY: 3.0
    :DRILL_EASE: 2.08
    :DRILL_LAST_QUALITY: 3
    :DRILL_LAST_REVIEWED: [2021-12-18 Sat 03:55]
    :END:
A public load balancer needs one [public subnet] in each [a/z where it is defined]   
*** Differences ALB/NLB

**** A/Zs                                                             :drill:
     SCHEDULED: <2021-12-20 Mon>
     :PROPERTIES:
     :ID:       ca0302e9-b001-482e-9541-6364e16c3c32
     :DRILL_LAST_INTERVAL: 10.3376
     :DRILL_REPEATS_SINCE_FAIL: 3
     :DRILL_TOTAL_REPEATS: 2
     :DRILL_FAILURE_COUNT: 0
     :DRILL_AVERAGE_QUALITY: 4.0
     :DRILL_EASE: 2.46
     :DRILL_LAST_QUALITY: 3
     :DRILL_LAST_REVIEWED: [2021-12-10 Fri 06:43]
     :END:
     which kind of load balancer allows multiple A/Zs?

***** answer
      both, but not default for either

**** Static/Elastic IPs                                              :drill:
     SCHEDULED: <2022-01-14 Fri>
     :PROPERTIES:
     :ID:       4d8bad99-c911-46cf-8982-7356ba26d165
     :DRILL_LAST_INTERVAL: 25.8489
     :DRILL_REPEATS_SINCE_FAIL: 4
     :DRILL_TOTAL_REPEATS: 3
     :DRILL_FAILURE_COUNT: 0
     :DRILL_AVERAGE_QUALITY: 4.0
     :DRILL_EASE: 2.46
     :DRILL_LAST_QUALITY: 3
     :DRILL_LAST_REVIEWED: [2021-12-19 Sun 10:25]
     :END:
     Where can you use static and elastic ips with Elastic load balancers?

***** Answer
      Only with network load bal.
      For ALB the target is determined by amazon
      
***** notes
      You use an alias in route53 to send traffic to the ELB


*** ALB
**** A/Z
     ALB allow cross-zone load balancing
***** Answer
      Yes, but disabled by default
**** Format DNS name                                         :memorize:drill:
     SCHEDULED: <2021-12-27 Mon>
     :PROPERTIES:
     :ID:       40b3c80c-ee44-4075-82fb-a47969f30ecf
     :DRILL_LAST_INTERVAL: 8.6313
     :DRILL_REPEATS_SINCE_FAIL: 3
     :DRILL_TOTAL_REPEATS: 6
     :DRILL_FAILURE_COUNT: 2
     :DRILL_AVERAGE_QUALITY: 3.0
     :DRILL_EASE: 2.18
     :DRILL_LAST_QUALITY: 3
     :DRILL_LAST_REVIEWED: [2021-12-18 Sat 03:55]
     :END:
     Format of DNS name of ALB
***** answer
      <name><id-number>.region.elb.amazonaws.com
***** Bonus 
      only for public facing
      intenral ones have internal- at the beginning
**** Configuration: Listeners per port                                :drill:
     SCHEDULED: <2022-01-17 Mon>
     :PROPERTIES:
     :ID:       b74279bb-e32f-4826-a164-b86185ee09d0
     :DRILL_LAST_INTERVAL: 29.946
     :DRILL_REPEATS_SINCE_FAIL: 4
     :DRILL_TOTAL_REPEATS: 3
     :DRILL_FAILURE_COUNT: 0
     :DRILL_AVERAGE_QUALITY: 4.667
     :DRILL_EASE: 2.7
     :DRILL_LAST_QUALITY: 4
     :DRILL_LAST_REVIEWED: [2021-12-18 Sat 03:54]
     :END:
     ALB - how many listeners per port
***** answer
      1
**** Describe high level components of ALB                      :drill:fuzzy:
     SCHEDULED: <2021-12-26 Sun>
     :PROPERTIES:
     :ID:       9493ea22-a169-481d-9072-5d7ccea6ecb5
     :DRILL_LAST_INTERVAL: 7.979
     :DRILL_REPEATS_SINCE_FAIL: 3
     :DRILL_TOTAL_REPEATS: 5
     :DRILL_FAILURE_COUNT: 1
     :DRILL_AVERAGE_QUALITY: 3.0
     :DRILL_EASE: 2.08
     :DRILL_LAST_QUALITY: 3
     :DRILL_LAST_REVIEWED: [2021-12-18 Sat 03:58]
     :END:
     Describe high level components of ALB
***** answer
- NODES - not seen to you but use IP addresses in your private subnet
- Load balancer either Connects to Internet gateway or?
- ALB connects to mulitple listeners
- listeners connect to target groups
- Devices can be in multiple target groups
**** Private subnet                                      :drill:fix:inferred:
     SCHEDULED: <2021-12-20 Mon>
     :PROPERTIES:
     :ID:       6a1e31ae-3571-49de-bdeb-a12f5c15f2d8
     :DRILL_LAST_INTERVAL: 10.352
     :DRILL_REPEATS_SINCE_FAIL: 3
     :DRILL_TOTAL_REPEATS: 3
     :DRILL_FAILURE_COUNT: 1
     :DRILL_AVERAGE_QUALITY: 3.667
     :DRILL_EASE: 2.6
     :DRILL_LAST_QUALITY: 5
     :DRILL_LAST_REVIEWED: [2021-12-10 Fri 06:39]
     :END:
     How can ALB use nodes in private subnet
***** A
      It doesn't.  ALB makes node in public and you connect
      
**** Pricing ALB - two measures                             :drill:
     SCHEDULED: <2021-12-22 Wed>
     :PROPERTIES:
     :ID:       43526031-7ec0-44d9-bbf2-c3e53bcfc200
     :DRILL_LAST_INTERVAL: 3.86
     :DRILL_REPEATS_SINCE_FAIL: 2
     :DRILL_TOTAL_REPEATS: 4
     :DRILL_FAILURE_COUNT: 1
     :DRILL_AVERAGE_QUALITY: 3.0
     :DRILL_EASE: 2.36
     :DRILL_LAST_QUALITY: 3
     :DRILL_LAST_REVIEWED: [2021-12-18 Sat 03:53]
     :END:
What are two measures for pricing ALB

***** Answer
      LCU and Hourly (about 20 cents/day)
      LCU == Load Balancer Capacity Units
***** notes
      LCU is the greates charge of 4 measures over an hour
      
    - New connections: Number of newly established connections per second. Typically, many requests are sent per connection. 
    - Active connections: Number of active connections per minute.
    - Processed bytes: The number of bytes processed by the load balancer in GBs for HTTP(S) requests and responses.
    - Rule evaluations: The product of the number of rules processed by your load balancer and the request rate. The first 10 processed rules are free (Rule evaluations = Request rate * (Number of rules processed - 10 free rules).
**** Which OSI level is App load balancer working on                  :drill:
     SCHEDULED: <2022-01-18 Tue>
     :PROPERTIES:
     :ID:       5e69d6f8-8145-4a7f-b21a-76659813a8a5
     :DRILL_LAST_INTERVAL: 30.9885
     :DRILL_REPEATS_SINCE_FAIL: 4
     :DRILL_TOTAL_REPEATS: 3
     :DRILL_FAILURE_COUNT: 0
     :DRILL_AVERAGE_QUALITY: 5.0
     :DRILL_EASE: 2.8
     :DRILL_LAST_QUALITY: 5
     :DRILL_LAST_REVIEWED: [2021-12-18 Sat 03:55]
     :END:
     Which OSI level is App load balancer working on
***** Answer
      level 7 the App layer.
**** Which OSI level is Network load balancer working on           :drill:
     SCHEDULED: <2022-01-10 Mon>
     :PROPERTIES:
     :ID:       3d46d682-3649-4e24-842e-e261f1792027
     :DRILL_LAST_INTERVAL: 25.88
     :DRILL_REPEATS_SINCE_FAIL: 4
     :DRILL_TOTAL_REPEATS: 3
     :DRILL_FAILURE_COUNT: 0
     :DRILL_AVERAGE_QUALITY: 4.333
     :DRILL_EASE: 2.6
     :DRILL_LAST_QUALITY: 5
     :DRILL_LAST_REVIEWED: [2021-12-15 Wed 21:28]
     :END:
     Which OSI level is Network load balancer working on
***** Answer
      level 4 the Network layer.
** Cloud formation
*** define CF stack sets                                              :drill:
    SCHEDULED: <2021-12-26 Sun>
    :PROPERTIES:
    :ID:       21a8d348-4d41-43ef-b4c8-e9ffba625e01
    :DRILL_LAST_INTERVAL: 9.6346
    :DRILL_REPEATS_SINCE_FAIL: 3
    :DRILL_TOTAL_REPEATS: 4
    :DRILL_FAILURE_COUNT: 1
    :DRILL_AVERAGE_QUALITY: 3.25
    :DRILL_EASE: 2.46
    :DRILL_LAST_QUALITY: 5
    :DRILL_LAST_REVIEWED: [2021-12-16 Thu 06:51]
    :END:
    stack sets =
**** A
     Apply creat/update/delete accross multiple regions, multiple accounts
*** define CF Change Sets                                             :drill:
    SCHEDULED: <2021-12-22 Wed>
    :PROPERTIES:
    :ID:       9c8e88bb-24e8-450e-aeb2-c7ae0e4718c1
    :DRILL_LAST_INTERVAL: 10.3376
    :DRILL_REPEATS_SINCE_FAIL: 3
    :DRILL_TOTAL_REPEATS: 2
    :DRILL_FAILURE_COUNT: 0
    :DRILL_AVERAGE_QUALITY: 4.0
    :DRILL_EASE: 2.46
    :DRILL_LAST_QUALITY: 3
    :DRILL_LAST_REVIEWED: [2021-12-12 Sun 19:46]
    :END:
    Change sets =
**** A
     Summary of propsed changes let you preview impact -- Visualization
*** Two types of resources                                            :drill:
    SCHEDULED: <2021-12-22 Wed>
    :PROPERTIES:
    :ID:       1d40cf9b-8606-4e38-80a8-da49b15f0068
    :DRILL_LAST_INTERVAL: 10.0
    :DRILL_REPEATS_SINCE_FAIL: 3
    :DRILL_TOTAL_REPEATS: 2
    :DRILL_FAILURE_COUNT: 0
    :DRILL_AVERAGE_QUALITY: 4.0
    :DRILL_EASE: 2.5
    :DRILL_LAST_QUALITY: 4
    :DRILL_LAST_REVIEWED: [2021-12-12 Sun 19:45]
    :END:
    There are two types of ways of refering to a resource: e.g. i-2310d7aa7801 and RedisServer1.
    What are they callled --- _______ ID and _________ ID
**** A
     physical and logical
**** bonus
     the physical are "outside" of CF
*** What does a CF template describe                                  :drill:
    SCHEDULED: <2021-12-26 Sun>
:PROPERTIES:
:DRILL_CARD_TYPE: hide1cloze
:ID:       aa808fc7-0a00-4afd-9134-8c62288b8e5c
:DRILL_LAST_INTERVAL: 9.6346
:DRILL_REPEATS_SINCE_FAIL: 3
:DRILL_TOTAL_REPEATS: 4
:DRILL_FAILURE_COUNT: 1
:DRILL_AVERAGE_QUALITY: 3.5
:DRILL_EASE: 2.46
:DRILL_LAST_QUALITY: 5
:DRILL_LAST_REVIEWED: [2021-12-16 Thu 06:50]
:END:
    [end state] of the [infrastructure] you are privisioning or changing
*** define                                                            :drill:
    SCHEDULED: <2021-12-25 Sat>
:PROPERTIES:
:DRILL_CARD_TYPE: hide1cloze
:ID:       f88fa158-3123-4ab1-8f21-d9945cdd8beb
:DRILL_LAST_INTERVAL: 10.3376
:DRILL_REPEATS_SINCE_FAIL: 3
:DRILL_TOTAL_REPEATS: 3
:DRILL_FAILURE_COUNT: 1
:DRILL_AVERAGE_QUALITY: 3.0
:DRILL_EASE: 2.46
:DRILL_LAST_QUALITY: 3
:DRILL_LAST_REVIEWED: [2021-12-15 Wed 21:39]
:END:

    [runtime values] are assigned  in CF templates with [instrinsic functions]
*** functions
**** Name function that gets a value from mapping section             :drill:
     SCHEDULED: <2021-12-23 Thu>
     :PROPERTIES:
     :ID:       052a13bf-f064-409b-a96f-30e473938e21
     :DRILL_LAST_INTERVAL: 11.0911
     :DRILL_REPEATS_SINCE_FAIL: 3
     :DRILL_TOTAL_REPEATS: 2
     :DRILL_FAILURE_COUNT: 0
     :DRILL_AVERAGE_QUALITY: 5.0
     :DRILL_EASE: 2.7
     :DRILL_LAST_QUALITY: 5
     :DRILL_LAST_REVIEWED: [2021-12-12 Sun 19:48]
     :END:
     name?
***** Answer
      Fn:FindInMap
**** Syntax for FindInMap                                             :drill:
     SCHEDULED: <2021-12-23 Thu>
     :PROPERTIES:
     :ID:       eb84dd84-0d84-4c0a-93c8-ba0287d91a69
     :DRILL_LAST_INTERVAL: 9.648
     :DRILL_REPEATS_SINCE_FAIL: 3
     :DRILL_TOTAL_REPEATS: 4
     :DRILL_FAILURE_COUNT: 2
     :DRILL_AVERAGE_QUALITY: 2.25
     :DRILL_EASE: 2.36
     :DRILL_LAST_QUALITY: 3
     :DRILL_LAST_REVIEWED: [2021-12-13 Mon 06:51]
     :END:
     how to call FindInMap
***** Answer
      FindInMap[MapName, TopLevelKey, SecondLevelKey]
    

    
** Service Distinctions

*** distinguish                                                       :drill:
    SCHEDULED: <2021-12-20 Mon>
    :PROPERTIES:
    :ID:       481b5a71-6685-4b3d-8a37-92c68e842e86
    :DRILL_LAST_INTERVAL: 10.3376
    :DRILL_REPEATS_SINCE_FAIL: 3
    :DRILL_TOTAL_REPEATS: 2
    :DRILL_FAILURE_COUNT: 0
    :DRILL_AVERAGE_QUALITY: 4.0
    :DRILL_EASE: 2.46
    :DRILL_LAST_QUALITY: 3
    :DRILL_LAST_REVIEWED: [2021-12-10 Fri 06:42]
    :END:
    diff between Launch Configuration and Launch Template

**** answer
     Cnofiguration is immutable, older & deprecated


*** Trusted Advisor

**** disinguish                                           :drill:
     SCHEDULED: <2021-12-28 Tue>
     :PROPERTIES:
     :ID:       41ee5153-cf54-4038-b8c6-9eb4bcd69add
     :DRILL_LAST_INTERVAL: 9.6048
     :DRILL_REPEATS_SINCE_FAIL: 3
     :DRILL_TOTAL_REPEATS: 5
     :DRILL_FAILURE_COUNT: 1
     :DRILL_AVERAGE_QUALITY: 3.4
     :DRILL_EASE: 2.32
     :DRILL_LAST_QUALITY: 4
     :DRILL_LAST_REVIEWED: [2021-12-18 Sat 04:00]
     :END:
     Distinguish Trusted advisor and Insprector

***** Answer
      - Inspector is only for EC2, it runs inside instances on a schedule looking for vulnerabilities
      - Trusted advisor makes cost recommendations and performance, and is premium service
      
**** distinguish                                                      :drill:
     SCHEDULED: <2022-01-12 Wed>
     :PROPERTIES:
     :ID:       8fc08668-27fa-4094-8ede-41a84ed1342a
     :DRILL_LAST_INTERVAL: 25.2548
     :DRILL_REPEATS_SINCE_FAIL: 4
     :DRILL_TOTAL_REPEATS: 3
     :DRILL_FAILURE_COUNT: 0
     :DRILL_AVERAGE_QUALITY: 4.0
     :DRILL_EASE: 2.46
     :DRILL_LAST_QUALITY: 4
     :DRILL_LAST_REVIEWED: [2021-12-18 Sat 03:54]
     :END:
          Distinguish Trusted advisor and Xray

***** Answer                                                     :conjecture:
      Xray gets traces from your applications for debugging - Developers adds instrument to apps
      TA you turn it on to get best pracitics
      
	
      
     


      



      




*** Deployment files for Elastic Beanstalk vs CloudFormation          :drill:
    SCHEDULED: <2021-12-21 Tue>
    :PROPERTIES:
    :ID:       ee17c841-9de8-4ff1-8a2f-066ee15a407a
    :DRILL_LAST_INTERVAL: 9.3103
    :DRILL_REPEATS_SINCE_FAIL: 3
    :DRILL_TOTAL_REPEATS: 2
    :DRILL_FAILURE_COUNT: 0
    :DRILL_AVERAGE_QUALITY: 3.5
    :DRILL_EASE: 2.36
    :DRILL_LAST_QUALITY: 4
    :DRILL_LAST_REVIEWED: [2021-12-12 Sun 19:44]
    :END:
    what are the extensions

**** A
     Beanstalk: .zip or .war ; CF .yaml/.json



** Associations

*** association dupe                                                  :drill:
    SCHEDULED: <2022-01-08 Sat>
    :PROPERTIES:
    :DRILL_CARD_TYPE: hide1cloze
    :ID:       cc455c2c-9cea-4622-8983-626c0528df47
    :DRILL_LAST_INTERVAL: 24.3659
    :DRILL_REPEATS_SINCE_FAIL: 4
    :DRILL_TOTAL_REPEATS: 3
    :DRILL_FAILURE_COUNT: 0
    :DRILL_AVERAGE_QUALITY: 4.333
    :DRILL_EASE: 2.56
    :DRILL_LAST_QUALITY: 5
    :DRILL_LAST_REVIEWED: [2021-12-15 Wed 21:29]
    :END:
    [state machine] is implemented by aws [step function]



*** association dupe                                                  :drill:
    SCHEDULED: <2022-01-03 Mon>
    :PROPERTIES:
    :DRILL_CARD_TYPE: hide1cloze
    :ID:       cc455c2c-9cea-4622-8983-626c0528df47
    :DRILL_LAST_INTERVAL: 19.9491
    :DRILL_REPEATS_SINCE_FAIL: 4
    :DRILL_TOTAL_REPEATS: 3
    :DRILL_FAILURE_COUNT: 0
    :DRILL_AVERAGE_QUALITY: 3.333
    :DRILL_EASE: 2.22
    :DRILL_LAST_QUALITY: 4
    :DRILL_LAST_REVIEWED: [2021-12-14 Tue 06:20]
    :END:
    [state machine] is implemented by aws [step function]



*** association template                                              :drill:
    SCHEDULED: <2021-12-24 Fri>
    :PROPERTIES:
    :DRILL_CARD_TYPE: hide1cloze
    :ID:       8a5bfe07-de84-4bcc-ba35-e1cd59694c0c
    :DRILL_LAST_INTERVAL: 11.0911
    :DRILL_REPEATS_SINCE_FAIL: 3
    :DRILL_TOTAL_REPEATS: 5
    :DRILL_FAILURE_COUNT: 2
    :DRILL_AVERAGE_QUALITY: 3.2
    :DRILL_EASE: 2.7
    :DRILL_LAST_QUALITY: 5
    :DRILL_LAST_REVIEWED: [2021-12-13 Mon 06:45]
    :END:
    [man in tne middle attack] and [DNS spoofing]
    Are remedied by DNSSEC
*** association template
    :PROPERTIES:
    :DRILL_CARD_TYPE: hide1cloze
    :END:
    [state machine] is implemented by aws [step function]




*** association template                                              :drill:
    SCHEDULED: <2021-12-22 Wed>
    :PROPERTIES:
    :DRILL_CARD_TYPE: hide1cloze
    :ID:       8676f4cd-11d5-4549-acba-c7ea12aaf3f5
    :DRILL_LAST_INTERVAL: 3.995
    :DRILL_REPEATS_SINCE_FAIL: 2
    :DRILL_TOTAL_REPEATS: 7
    :DRILL_FAILURE_COUNT: 3
    :DRILL_AVERAGE_QUALITY: 2.857
    :DRILL_EASE: 2.46
    :DRILL_LAST_QUALITY: 4
    :DRILL_LAST_REVIEWED: [2021-12-18 Sat 04:02]
    :END:
    [request attributes] for ALB include  [X-Forwarded-For headers].
*** association template
    :PROPERTIES:
    :DRILL_CARD_TYPE: hide1cloze
    :END:
    [state machine] is implemented by aws [step function]
*** association template
    :PROPERTIES:
    :DRILL_CARD_TYPE: hide1cloze
    :END:
    [state machine] is implemented by aws [step function]
*** association template
    :PROPERTIES:
    :DRILL_CARD_TYPE: hide1cloze
    :END:
    [state machine] is implemented by aws [step function]

*** Association                                          :drill:fix:inferred:
    SCHEDULED: <2021-12-26 Sun>
    :PROPERTIES:
    :ID:       9058140f-8cdc-459e-8b8f-f2fc1d7f0fad
    :DRILL_LAST_INTERVAL: 11.0911
    :DRILL_CARD_TYPE: hide1cloze
    :DRILL_REPEATS_SINCE_FAIL: 3
    :DRILL_TOTAL_REPEATS: 4
    :DRILL_FAILURE_COUNT: 1
    :DRILL_AVERAGE_QUALITY: 3.5
    :DRILL_EASE: 2.7
    :DRILL_LAST_QUALITY: 5
    :DRILL_LAST_REVIEWED: [2021-12-15 Wed 21:39]
    :END:
    
[shorthand] syntax and [SAM]

*** association

:PROPERTIES:
:DRILL_CARD_TYPE: hide1cloze
:END:

    In [API Gateway] client can invalidate cache with [Cache-C9ontrol: max-age=0]


** code deploy - distincive selling point                             :drill:
   :PROPERTIES:
   :ID:       3a46d7ad-a6d0-4c97-b652-abdd83926355
   :END:

*** a
    
don't need to make changes to exisitng code



** CodeDeploy                                                         :drill:
   SCHEDULED: <2021-12-25 Sat>
   :PROPERTIES:
   :ID:       4b90c2ef-a262-4ac1-a68a-001138bccff6
   :DRILL_LAST_INTERVAL: 10.0
   :DRILL_REPEATS_SINCE_FAIL: 3
   :DRILL_TOTAL_REPEATS: 3
   :DRILL_FAILURE_COUNT: 1
   :DRILL_AVERAGE_QUALITY: 3.0
   :DRILL_EASE: 2.5
   :DRILL_LAST_QUALITY: 4
   :DRILL_LAST_REVIEWED: [2021-12-15 Wed 21:43]
   :END:

   Code can deploy application content that runs on a server and is stored in 
    Name 4

*** Name 4
Amazon S3 buckets, GitHub repositories, or Bitbucket repositories.  Codecommt
   Can deploy to running servers
   Can deploy to Lambda
   Can deploy to fargate

   
** What service                                                       :drill:
   SCHEDULED: <2021-12-26 Sun>
   :PROPERTIES:
   :ID:       5d4a9697-70d7-4f02-bf55-59b8bd7f8f20
   :DRILL_LAST_INTERVAL: 10.7143
   :DRILL_REPEATS_SINCE_FAIL: 3
   :DRILL_TOTAL_REPEATS: 2
   :DRILL_FAILURE_COUNT: 0
   :DRILL_AVERAGE_QUALITY: 4.5
   :DRILL_EASE: 2.6
   :DRILL_LAST_QUALITY: 4
   :DRILL_LAST_REVIEWED: [2021-12-15 Wed 21:30]
   :END:
 1) Automate software installation and 2) reduce manual errors

*** what service is it
Keyword for CodeDeploy

** Code Deploy                                                        :drill:
   SCHEDULED: <2021-12-22 Wed>
   :PROPERTIES:
   :ID:       9fa5e077-8193-4ffb-bb28-6c8a9652c04d
   :DRILL_LAST_INTERVAL: 3.725
   :DRILL_REPEATS_SINCE_FAIL: 2
   :DRILL_TOTAL_REPEATS: 5
   :DRILL_FAILURE_COUNT: 3
   :DRILL_AVERAGE_QUALITY: 1.8
   :DRILL_EASE: 2.22
   :DRILL_LAST_QUALITY: 3
   :DRILL_LAST_REVIEWED: [2021-12-18 Sat 04:02]
   :END:

   For code deploy

*** what is name of  Setting that controls rate of deployment (e.g. Canary)
 Deployment Configuration
   - also e.g. number of instances that must be healthy

** Dev env                                                            :drill:
   SCHEDULED: <2021-12-26 Sun>
   :PROPERTIES:
   :ID:       0a1340d7-33a4-45b0-adb4-05fa7f4ebbfc
   :DRILL_LAST_INTERVAL: 11.0911
   :DRILL_REPEATS_SINCE_FAIL: 3
   :DRILL_TOTAL_REPEATS: 2
   :DRILL_FAILURE_COUNT: 0
   :DRILL_AVERAGE_QUALITY: 5.0
   :DRILL_EASE: 2.7
   :DRILL_LAST_QUALITY: 5
   :DRILL_LAST_REVIEWED: [2021-12-15 Wed 21:29]
   :END:
     
 What development environment 

*** lets developer build + test in local environment?
  SAM
  It is an opensource framework

** Name it                                                            :drill:
   SCHEDULED: <2021-12-26 Sun>
   :PROPERTIES:
   :ID:       e2f56953-672a-4edd-8042-ce75a1a42477
   :DRILL_LAST_INTERVAL: 11.0911
   :DRILL_REPEATS_SINCE_FAIL: 3
   :DRILL_TOTAL_REPEATS: 2
   :DRILL_FAILURE_COUNT: 0
   :DRILL_AVERAGE_QUALITY: 5.0
   :DRILL_EASE: 2.7
   :DRILL_LAST_QUALITY: 5
   :DRILL_LAST_REVIEWED: [2021-12-15 Wed 21:34]
   :END:

  What gives you chef and puppet

*** name it
  Opsworks

**  What sections are required in a cloud formation template?         :drill:
   :PROPERTIES:
   :ID:       64885ca6-19d4-4045-8612-76b407687166
   :END:

*** they are
  Resources - only

*** except
    in SAM, tranform is required

    
** CloudFormation memorize                                            :drill:
   SCHEDULED: <2021-12-27 Mon>
   :PROPERTIES:
   :ID:       c9ae9588-0b84-4376-8e7e-8cf019c4eb7a
   :DRILL_LAST_INTERVAL: 7.979
   :DRILL_REPEATS_SINCE_FAIL: 3
   :DRILL_TOTAL_REPEATS: 7
   :DRILL_FAILURE_COUNT: 4
   :DRILL_AVERAGE_QUALITY: 2.143
   :DRILL_EASE: 2.08
   :DRILL_LAST_QUALITY: 3
   :DRILL_LAST_REVIEWED: [2021-12-19 Sun 10:20]
   :END:
  Memorize - 

*** sections of a cloudformation template
  Metadata * Parameters * Rules * Mappings * Condition * Transform * Resources * Outputs

** Cloud formation SAM 
  What is required in 

*** SAM CF template and not other CFtemplates?
   Tranform -- because that is where the version of SAM is specified

   
** Tell me                                                            :drill:
   SCHEDULED: <2021-12-24 Fri>
   :PROPERTIES:
   :ID:       2675f3d1-eb12-47b7-bac4-012114ae49f4
   :DRILL_LAST_INTERVAL: 8.9861
   :DRILL_REPEATS_SINCE_FAIL: 3
   :DRILL_TOTAL_REPEATS: 4
   :DRILL_FAILURE_COUNT: 2
   :DRILL_AVERAGE_QUALITY: 2.5
   :DRILL_EASE: 2.22
   :DRILL_LAST_QUALITY: 3
   :DRILL_LAST_REVIEWED: [2021-12-15 Wed 21:31]
   :END:
   Two things you need 

*** to create a lambda function
    A deployment package and an execution role

** Lamda config pkgs                                                  :drill:
   SCHEDULED: <2021-12-31 Fri>
   :PROPERTIES:
   :ID:       eadfd751-b307-4574-9ec4-f8791946cca8
   :DRILL_LAST_INTERVAL: 11.8823
   :DRILL_REPEATS_SINCE_FAIL: 3
   :DRILL_TOTAL_REPEATS: 5
   :DRILL_FAILURE_COUNT: 2
   :DRILL_AVERAGE_QUALITY: 3.8
   :DRILL_EASE: 2.8
   :DRILL_LAST_QUALITY: 5
   :DRILL_LAST_REVIEWED: [2021-12-19 Sun 09:58]
   :END:
    
    Lambda supports two types of deployment packages: [container images] and [.zip file archives].
    
***    bonus
    the console automatically makes a zip version
    container images come from  ECR

** MPU - rule of thumb                                                :drill:
   SCHEDULED: <2021-12-26 Sun>
   :PROPERTIES:
   :ID:       574aa5a9-0853-4ce0-bd17-eabeb2ee4062
   :DRILL_LAST_INTERVAL: 10.7143
   :DRILL_REPEATS_SINCE_FAIL: 3
   :DRILL_TOTAL_REPEATS: 2
   :DRILL_FAILURE_COUNT: 0
   :DRILL_AVERAGE_QUALITY: 4.5
   :DRILL_EASE: 2.6
   :DRILL_LAST_QUALITY: 4
   :DRILL_LAST_REVIEWED: [2021-12-15 Wed 21:37]
   :END:
     Object size where you should start considering multi-part upload

*** the size
     100 Meg

** Multipart upload advantages                                        :drill:
   :PROPERTIES:
   :ID:       d4d61d7d-3a8b-4d01-9ac9-7f683b76a385
   :END:

*** name 4
       - pause and resume
       - recover from network interruptios
       - thruput increase from parallelization
       - can start upload while file is still being created
** Bucket names                                                       :drill:
   SCHEDULED: <2021-12-26 Sun>
   :PROPERTIES:
   :ID:       ed3a0cdb-a74c-4f28-b75c-8e33cdd17933
   :DRILL_LAST_INTERVAL: 10.3376
   :DRILL_REPEATS_SINCE_FAIL: 3
   :DRILL_TOTAL_REPEATS: 2
   :DRILL_FAILURE_COUNT: 0
   :DRILL_AVERAGE_QUALITY: 4.0
   :DRILL_EASE: 2.46
   :DRILL_LAST_QUALITY: 3
   :DRILL_LAST_REVIEWED: [2021-12-16 Thu 06:49]
   :END:
      Restriction on bucket names for Transfer acceleration
*** name 2
       - no dots
       - DNS compliant

** Elasticache strategies                                             :drill:
   SCHEDULED: <2021-12-23 Thu>
   :PROPERTIES:
   :ID:       7a6d284e-d9df-4baf-8408-995210a5cbbd
   :DRILL_LAST_INTERVAL: 3.86
   :DRILL_REPEATS_SINCE_FAIL: 2
   :DRILL_TOTAL_REPEATS: 5
   :DRILL_FAILURE_COUNT: 2
   :DRILL_AVERAGE_QUALITY: 3.0
   :DRILL_EASE: 2.36
   :DRILL_LAST_QUALITY: 4
   :DRILL_LAST_REVIEWED: [2021-12-19 Sun 10:20]
   :END:
       drawbacks lazy loading (elasticache)

*** name 2
       - cache miss penalty
       - stale data -- IF you only refresh when there is a miss

** Elasticache strategies                                             :drill:
   SCHEDULED: <2021-12-27 Mon>
   :PROPERTIES:
   :ID:       f180ad1c-80e3-4689-95c7-74dd3e8addc3
   :DRILL_LAST_INTERVAL: 10.7143
   :DRILL_REPEATS_SINCE_FAIL: 3
   :DRILL_TOTAL_REPEATS: 2
   :DRILL_FAILURE_COUNT: 0
   :DRILL_AVERAGE_QUALITY: 4.5
   :DRILL_EASE: 2.6
   :DRILL_LAST_QUALITY: 4
   :DRILL_LAST_REVIEWED: [2021-12-16 Thu 06:53]
   :END:
      What is write-thru

*** describe it
      elasticache strategy, contrast with lazy loading -- db writes mean cache writes, no stale data

** Elasticache strategies                                             :drill:
   SCHEDULED: <2021-12-25 Sat>
   :PROPERTIES:
   :ID:       6e2b0d9c-7327-4bd2-a6e8-13991bc99963
   :DRILL_LAST_INTERVAL: 10.3376
   :DRILL_REPEATS_SINCE_FAIL: 3
   :DRILL_TOTAL_REPEATS: 4
   :DRILL_FAILURE_COUNT: 2
   :DRILL_AVERAGE_QUALITY: 2.75
   :DRILL_EASE: 2.46
   :DRILL_LAST_QUALITY: 3
   :DRILL_LAST_REVIEWED: [2021-12-15 Wed 21:41]
   :END:
      The penalties for Lazy Loading and Write-thru

*** name 2
	LL: cache-miss penalty   WT: write penalty

** Elasticache strategies                                             :drill:
   SCHEDULED: <2021-12-24 Fri>
   :PROPERTIES:
   :ID:       049819f4-1538-4ea9-8372-c5c47860c568
   :DRILL_LAST_INTERVAL: 8.9861
   :DRILL_REPEATS_SINCE_FAIL: 3
   :DRILL_TOTAL_REPEATS: 4
   :DRILL_FAILURE_COUNT: 2
   :DRILL_AVERAGE_QUALITY: 2.5
   :DRILL_EASE: 2.22
   :DRILL_LAST_QUALITY: 3
   :DRILL_LAST_REVIEWED: [2021-12-15 Wed 21:38]
   :END:
      Elasticache write thru disadvantages

*** name 2
	- cache churn
	- missing data (if a new node is brought up e.g. after failure and only gets data on write)

** stage variables                                                    :drill:
   SCHEDULED: <2021-12-24 Fri>
   :PROPERTIES:
   :ID:       36595f75-eb9d-45da-9d20-8fe59601a4c4
   :DRILL_LAST_INTERVAL: 9.3103
   :DRILL_REPEATS_SINCE_FAIL: 3
   :DRILL_TOTAL_REPEATS: 2
   :DRILL_FAILURE_COUNT: 0
   :DRILL_AVERAGE_QUALITY: 3.5
   :DRILL_EASE: 2.36
   :DRILL_LAST_QUALITY: 4
   :DRILL_LAST_REVIEWED: [2021-12-15 Wed 21:39]
   :END:
      What service has "Stage Variable"

*** which?
       - API Gateway

** lamda layers                                                       :drill:
   SCHEDULED: <2021-12-26 Sun>
   :PROPERTIES:
   :ID:       6321e006-64ef-4809-8ff3-0606a2031ef5
   :DRILL_LAST_INTERVAL: 11.0911
   :DRILL_REPEATS_SINCE_FAIL: 3
   :DRILL_TOTAL_REPEATS: 2
   :DRILL_FAILURE_COUNT: 0
   :DRILL_AVERAGE_QUALITY: 5.0
   :DRILL_EASE: 2.7
   :DRILL_LAST_QUALITY: 5
   :DRILL_LAST_REVIEWED: [2021-12-15 Wed 21:29]
   :END:

      Generally speaking, what is in a lambda layer

*** what
       dependencies

** lambda alias                                                       :drill:
   SCHEDULED: <2021-12-26 Sun>
   :PROPERTIES:
   :ID:       d43387c7-34a4-4e51-8ff7-cc0a5a723e5d
   :DRILL_LAST_INTERVAL: 10.352
   :DRILL_REPEATS_SINCE_FAIL: 3
   :DRILL_TOTAL_REPEATS: 2
   :DRILL_FAILURE_COUNT: 0
   :DRILL_AVERAGE_QUALITY: 4.5
   :DRILL_EASE: 2.6
   :DRILL_LAST_QUALITY: 5
   :DRILL_LAST_REVIEWED: [2021-12-16 Thu 06:47]
   :END:
      What is

*** a lambda alias?


	  A pointer to a specific lambda version

** Configure rest API                                                 :drill:
   SCHEDULED: <2021-12-22 Wed>
   :PROPERTIES:
   :ID:       00cdf927-5064-4a56-8796-b1e6b97655ac
   :DRILL_LAST_INTERVAL: 3.725
   :DRILL_REPEATS_SINCE_FAIL: 2
   :DRILL_TOTAL_REPEATS: 5
   :DRILL_FAILURE_COUNT: 3
   :DRILL_AVERAGE_QUALITY: 2.2
   :DRILL_EASE: 2.22
   :DRILL_LAST_QUALITY: 3
   :DRILL_LAST_REVIEWED: [2021-12-18 Sat 03:47]
   :END:

       [Stage variables] are name-value pairs that you can define as [configuration attributes] associated with a deployment stage of a REST API.

***        Bonus
	 configuration is key -- setting for a specific environment
	 They are part of API Gateway
 
** Using stage vars                                           :suspect:drill:
   SCHEDULED: <2021-12-26 Sun>
   :PROPERTIES:
   :ID:       fb2b54d4-d479-47aa-90c8-2eb5ca9d69b9
   :DRILL_LAST_INTERVAL: 9.648
   :DRILL_REPEATS_SINCE_FAIL: 3
   :DRILL_TOTAL_REPEATS: 3
   :DRILL_FAILURE_COUNT: 1
   :DRILL_AVERAGE_QUALITY: 3.0
   :DRILL_EASE: 2.36
   :DRILL_LAST_QUALITY: 3
   :DRILL_LAST_REVIEWED: [2021-12-16 Thu 06:46]
   :END:

	 Should you 

*** use API Gateway Stage Variable for passwords?
	  No use AWS authorizer

** Gatway secrets                                                     :drill:
   SCHEDULED: <2021-12-25 Sat>
   :PROPERTIES:
   :ID:       cc3b71f1-be50-4769-a8a6-30be78ac540a
   :DRILL_LAST_INTERVAL: 9.648
   :DRILL_REPEATS_SINCE_FAIL: 3
   :DRILL_TOTAL_REPEATS: 3
   :DRILL_FAILURE_COUNT: 1
   :DRILL_AVERAGE_QUALITY: 3.0
   :DRILL_EASE: 2.36
   :DRILL_LAST_QUALITY: 3
   :DRILL_LAST_REVIEWED: [2021-12-15 Wed 21:37]
   :END:
   You validate tokens in api gateway with  [lambda authorizer]
   
** secrets                                                            :drill:
   SCHEDULED: <2021-12-25 Sat>
   :PROPERTIES:
   :ID:       0ced3ab4-f165-4848-a339-c4247e0283be
   :DRILL_LAST_INTERVAL: 10.0
   :DRILL_REPEATS_SINCE_FAIL: 3
   :DRILL_TOTAL_REPEATS: 2
   :DRILL_FAILURE_COUNT: 0
   :DRILL_AVERAGE_QUALITY: 4.0
   :DRILL_EASE: 2.5
   :DRILL_LAST_QUALITY: 4
   :DRILL_LAST_REVIEWED: [2021-12-15 Wed 21:42]
   :END:
   What does a 

*** lambda authorizer return, when is it used?
    A lambda autorizer is used by API gateway and returns a string which is a policy document
** API Gateway custom domain                                          :drill:
   SCHEDULED: <2021-12-28 Tue>
   :PROPERTIES:
   :ID:       04f44086-e6d0-41b1-8227-92abdb250964
   :DRILL_LAST_INTERVAL: 10.352
   :DRILL_REPEATS_SINCE_FAIL: 3
   :DRILL_TOTAL_REPEATS: 4
   :DRILL_FAILURE_COUNT: 1
   :DRILL_AVERAGE_QUALITY: 3.5
   :DRILL_EASE: 2.6
   :DRILL_LAST_QUALITY: 5
   :DRILL_LAST_REVIEWED: [2021-12-18 Sat 03:56]
   :END:
	  Drawback to not using a path on Custom domain for API Gateway
*** drawback
	  You can't set version if you do like api.mydomain.biz with no path


** API gateway basics                                                 :drill:
   SCHEDULED: <2021-12-22 Wed>
   :PROPERTIES:
   :ID:       9272e160-7acc-4e14-8f6d-4c3eff115d0c
   :DRILL_LAST_INTERVAL: 4.14
   :DRILL_REPEATS_SINCE_FAIL: 2
   :DRILL_TOTAL_REPEATS: 3
   :DRILL_FAILURE_COUNT: 1
   :DRILL_AVERAGE_QUALITY: 3.333
   :DRILL_EASE: 2.6
   :DRILL_LAST_QUALITY: 4
   :DRILL_LAST_REVIEWED: [2021-12-18 Sat 03:52]
   :END:
	  API gateway supports 

*** three basic things:

	   Creating, deploying, and managing a RESTful application programming interface (API)
	       to expose backend HTTP endpoints, AWS Lambda functions, or other AWS services.
	   Creating, deploying, and managing a WebSocket API
	       to expose AWS Lambda functions or other AWS services.
	   Invoking exposed API methods through the frontend HTTP and WebSocket endpoints.


** API Gateway endpoints                                              :drill:
   :PROPERTIES:
   :ID:       b08471f7-8e3e-4d21-b940-7e9d2467927f
   :END:

*** 	   Three types of Gateway API endpoints
	     - Edge-optimized
	     - regional  (for clients in region, e.g. customer's own ec2)
	     - private (inside VPC)
** Lambda limits
   lambda default and max execution time limits
*** Default/max
    3 seconds / 900 seconds
** Gateway API non-public                                             :drill:
   SCHEDULED: <2021-12-22 Wed>
   :PROPERTIES:
   :ID:       b8fb54e8-1ae8-4300-9bd5-6435b5c2c56e
   :DRILL_LAST_INTERVAL: 4.0
   :DRILL_REPEATS_SINCE_FAIL: 2
   :DRILL_TOTAL_REPEATS: 5
   :DRILL_FAILURE_COUNT: 3
   :DRILL_AVERAGE_QUALITY: 2.6
   :DRILL_EASE: 2.5
   :DRILL_LAST_QUALITY: 4
   :DRILL_LAST_REVIEWED: [2021-12-18 Sat 04:01]
   :END:
	      
 Name two kinds of  API endpoints for use by customer's own clients?
*** The name
	    either regional or private
	       -- private means inside VPC,
	       =-- regional just means other resources of customer in same region can call it
	       
** VTL identify                                                       :drill:
   SCHEDULED: <2021-12-24 Fri>
   :PROPERTIES:
   :ID:       80fc2e1a-b6c4-4952-82d8-b7742bf90202
   :DRILL_LAST_INTERVAL: 8.9861
   :DRILL_REPEATS_SINCE_FAIL: 3
   :DRILL_TOTAL_REPEATS: 3
   :DRILL_FAILURE_COUNT: 1
   :DRILL_AVERAGE_QUALITY: 2.333
   :DRILL_EASE: 2.22
   :DRILL_LAST_QUALITY: 3
   :DRILL_LAST_REVIEWED: [2021-12-15 Wed 21:28]
   :END:
	    What scripting language is VTL?  

*** What service?
	     Velocity Template, associated with API Gateway.  Transforms requests from frontend format to backend format

** API Gateway without backend                                        :drill:
   SCHEDULED: <2021-12-24 Fri>
:PROPERTIES:
:DRILL_CARD_TYPE: hide1cloze
:ID:       d689335d-51be-4deb-a619-e85a0244af27
:DRILL_LAST_INTERVAL: 8.9861
:DRILL_REPEATS_SINCE_FAIL: 3
:DRILL_TOTAL_REPEATS: 2
:DRILL_FAILURE_COUNT: 0
:DRILL_AVERAGE_QUALITY: 3.0
:DRILL_EASE: 2.22
:DRILL_LAST_QUALITY: 3
:DRILL_LAST_REVIEWED: [2021-12-15 Wed 21:37]
:END:

	     In a [mock integration], API responses are generated from [API Gateway directly], without the need for an integration backend.
** API Gateway API provision                                          :drill:
   SCHEDULED: <2021-12-22 Wed>
:PROPERTIES:
:DRILL_CARD_TYPE: hide1cloze
:ID:       493d0bb9-0aa0-46cc-b952-e58609439406
:DRILL_LAST_INTERVAL: 4.0
:DRILL_REPEATS_SINCE_FAIL: 2
:DRILL_TOTAL_REPEATS: 3
:DRILL_FAILURE_COUNT: 1
:DRILL_AVERAGE_QUALITY: 3.0
:DRILL_EASE: 2.5
:DRILL_LAST_QUALITY: 4
:DRILL_LAST_REVIEWED: [2021-12-18 Sat 03:48]
:END:

	      A [model] is required for generating a [strongly typed SDK] of an API.  (Gateway API)

** API Gateway's internal interface                                   :drill:
   SCHEDULED: <2021-12-26 Sun>
   :PROPERTIES:
   :ID:       620877c4-ee32-473f-9bbf-f2142224cf7e
   :DRILL_LAST_INTERVAL: 9.6346
   :DRILL_REPEATS_SINCE_FAIL: 3
   :DRILL_TOTAL_REPEATS: 2
   :DRILL_FAILURE_COUNT: 0
   :DRILL_AVERAGE_QUALITY: 4.0
   :DRILL_EASE: 2.46
   :DRILL_LAST_QUALITY: 5
   :DRILL_LAST_REVIEWED: [2021-12-16 Thu 06:47]
   :END:
  What's this: he internal interface of a WebSocket API route or REST
  API method in API Gateway, in which you map the body of a route
  request or the parameters and body of a method request to the
  formats required by the backend.

*** it is

	      An integration request
** API Gateway's internal intervace                                   :drill:
   SCHEDULED: <2021-12-30 Thu>
   :PROPERTIES:
   :ID:       ef50f701-d6aa-43de-b0d9-9aaae7f76082
   :DRILL_LAST_INTERVAL: 11.4795
   :DRILL_REPEATS_SINCE_FAIL: 3
   :DRILL_TOTAL_REPEATS: 4
   :DRILL_FAILURE_COUNT: 1
   :DRILL_AVERAGE_QUALITY: 4.0
   :DRILL_EASE: 2.7
   :DRILL_LAST_QUALITY: 4
   :DRILL_LAST_REVIEWED: [2021-12-19 Sun 09:59]
   :END:
      What's this: The internal interface of a WebSocket API route or
      REST API method in API Gateway, in which you map the status
      codes, headers, and payload that are received from the backend
      to the response format that is returned to a client app.
*** it is 

	      And integration response
** API Gateway distinguish integration request/response               :drill:
   SCHEDULED: <2021-12-25 Sat>
   :PROPERTIES:
   :ID:       7353bad1-a440-4091-95da-923b8a3e7027
   :DRILL_LAST_INTERVAL: 10.0
   :DRILL_REPEATS_SINCE_FAIL: 3
   :DRILL_TOTAL_REPEATS: 3
   :DRILL_FAILURE_COUNT: 1
   :DRILL_AVERAGE_QUALITY: 3.333
   :DRILL_EASE: 2.5
   :DRILL_LAST_QUALITY: 4
   :DRILL_LAST_REVIEWED: [2021-12-15 Wed 21:41]
   :END:
	      Api gateway: integration request vs integration response
*** distinction
	      integration request - maps request data to format needed by backend
	      integration response - map the backend result to a response the client can use

** Creating HTTP API                                                  :drill:
   SCHEDULED: <2021-12-25 Sat>
   :PROPERTIES:
   :ID:       d8db47d0-7151-4b72-b0b9-92ce4d087f74
   :DRILL_LAST_INTERVAL: 8.9861
   :DRILL_REPEATS_SINCE_FAIL: 3
   :DRILL_TOTAL_REPEATS: 3
   :DRILL_FAILURE_COUNT: 1
   :DRILL_AVERAGE_QUALITY: 2.333
   :DRILL_EASE: 2.22
   :DRILL_LAST_QUALITY: 3
   :DRILL_LAST_REVIEWED: [2021-12-16 Thu 06:48]
   :END:
	      You can use [quick create] to simplify creating an HTTP API.

** Grant permissions API Gateway 	      
	      What lets you allocate certain permissions to given API clients?  (API gateway)

*** what?
	      A usage plan

** API Stage Variable                                                 :drill:
   SCHEDULED: <2021-12-27 Mon>
   :PROPERTIES:
   :ID:       030b1082-366d-425d-8893-531a34e01c05
   :DRILL_LAST_INTERVAL: 11.0911
   :DRILL_REPEATS_SINCE_FAIL: 3
   :DRILL_TOTAL_REPEATS: 2
   :DRILL_FAILURE_COUNT: 0
   :DRILL_AVERAGE_QUALITY: 5.0
   :DRILL_EASE: 2.7
   :DRILL_LAST_QUALITY: 5
   :DRILL_LAST_REVIEWED: [2021-12-16 Thu 06:41]
   :END:
	      Api stage variable are like [environment variables]

	      
** SAM reusable components                                            :drill:
   SCHEDULED: <2021-12-25 Sat>
   :PROPERTIES:
   :ID:       b965fcfb-654b-46c4-ae90-319463d47b0f
   :DRILL_LAST_INTERVAL: 9.648
   :DRILL_REPEATS_SINCE_FAIL: 3
   :DRILL_TOTAL_REPEATS: 3
   :DRILL_FAILURE_COUNT: 1
   :DRILL_AVERAGE_QUALITY: 3.0
   :DRILL_EASE: 2.36
   :DRILL_LAST_QUALITY: 3
   :DRILL_LAST_REVIEWED: [2021-12-15 Wed 21:41]
   :END:
	      In SAM a common pattern of components that can be included  in templates is a [nested application]


	      
**  How do you recover dtaa keys from KMS                             :drill:
   SCHEDULED: <2021-12-25 Sat>
   :PROPERTIES:
   :ID:       bb3f0f54-7c55-4937-a40b-ce27b468c322
   :DRILL_LAST_INTERVAL: 8.9861
   :DRILL_REPEATS_SINCE_FAIL: 3
   :DRILL_TOTAL_REPEATS: 2
   :DRILL_FAILURE_COUNT: 0
   :DRILL_AVERAGE_QUALITY: 3.0
   :DRILL_EASE: 2.22
   :DRILL_LAST_QUALITY: 3
   :DRILL_LAST_REVIEWED: [2021-12-16 Thu 06:50]
   :END:
How do you 

*** recover dtaa keys from KMS
    Data keys not retained by KMS -- it creates the keys and stores an encrypted copy of the key with the data.
   
** xray annotations                                                   :drill:
   :PROPERTIES:
   :ID:       d2cae291-7102-4fa3-9dd1-0a707ad65577
   :END:

**  distinguish between                                               :drill:
   SCHEDULED: <2021-12-25 Sat>
   :PROPERTIES:
   :ID:       9a41e787-ba5a-4721-83ca-3ce776c9a742
   :DRILL_LAST_INTERVAL: 10.352
   :DRILL_REPEATS_SINCE_FAIL: 3
   :DRILL_TOTAL_REPEATS: 2
   :DRILL_FAILURE_COUNT: 0
   :DRILL_AVERAGE_QUALITY: 4.5
   :DRILL_EASE: 2.6
   :DRILL_LAST_QUALITY: 5
   :DRILL_LAST_REVIEWED: [2021-12-15 Wed 21:36]
   :END:
distinguish
*** annotations and metadata for xray

    annotations are indexed for search, metadata isn't
    both are key/value pairs
** formal def                                                         :drill:
   SCHEDULED: <2021-12-30 Thu>
   :PROPERTIES:
   :ID:       2c5ebc84-6ad1-4905-b320-2d9201684bbf
   :DRILL_LAST_INTERVAL: 11.0911
   :DRILL_REPEATS_SINCE_FAIL: 3
   :DRILL_TOTAL_REPEATS: 4
   :DRILL_FAILURE_COUNT: 1
   :DRILL_AVERAGE_QUALITY: 3.75
   :DRILL_EASE: 2.7
   :DRILL_LAST_QUALITY: 5
   :DRILL_LAST_REVIEWED: [2021-12-19 Sun 10:21]
   :END:
  What does dynamos streams capture
*** it captures
  Time ordered item level modifications
** xray                                                               :drill:
   SCHEDULED: <2021-12-25 Sat>
   :PROPERTIES:
   :ID:       9a7414a1-fa1b-4c47-9304-f2bcaa23e894
   :DRILL_LAST_INTERVAL: 10.352
   :DRILL_REPEATS_SINCE_FAIL: 3
   :DRILL_TOTAL_REPEATS: 2
   :DRILL_FAILURE_COUNT: 0
   :DRILL_AVERAGE_QUALITY: 4.5
   :DRILL_EASE: 2.6
   :DRILL_LAST_QUALITY: 5
   :DRILL_LAST_REVIEWED: [2021-12-15 Wed 21:34]
   :END:
  How are 
***  x-ray annotations used
    For use with filter expressions.
    Also for grouping data and console or API
** define                                                             :drill:
   SCHEDULED: <2021-12-22 Wed>
   :PROPERTIES:
   :ID:       8a8dfae6-5f9c-46a7-93af-dc61b6561de2
   :DRILL_LAST_INTERVAL: 3.86
   :DRILL_REPEATS_SINCE_FAIL: 2
   :DRILL_TOTAL_REPEATS: 4
   :DRILL_FAILURE_COUNT: 2
   :DRILL_AVERAGE_QUALITY: 2.25
   :DRILL_EASE: 2.36
   :DRILL_LAST_QUALITY: 3
   :DRILL_LAST_REVIEWED: [2021-12-18 Sat 03:46]
   :END:
  What is a 
*** gateway endpoint - 3 items
  It enables a private subnet to read and write  either S3  or Dynamo
  No internet
  It is a VPC feature
** Keys                                                               :drill:
   SCHEDULED: <2021-12-29 Wed>
   :PROPERTIES:
   :ID:       2b9b2239-3b74-4633-9770-9f47d9042713
   :DRILL_LAST_INTERVAL: 10.0
   :DRILL_REPEATS_SINCE_FAIL: 3
   :DRILL_TOTAL_REPEATS: 4
   :DRILL_FAILURE_COUNT: 1
   :DRILL_AVERAGE_QUALITY: 3.5
   :DRILL_EASE: 2.5
   :DRILL_LAST_QUALITY: 4
   :DRILL_LAST_REVIEWED: [2021-12-19 Sun 09:57]
   :END:

  What type of keys 
*** allow for an audit trail?
   KMS key management service customer master keys
** lambda tmp                                                         :drill:
   SCHEDULED: <2021-12-27 Mon>
   :PROPERTIES:
   :ID:       1df0e1f8-355c-49c3-a5bf-5fe6b3b51c57
   :DRILL_LAST_INTERVAL: 11.0911
   :DRILL_REPEATS_SINCE_FAIL: 3
   :DRILL_TOTAL_REPEATS: 2
   :DRILL_FAILURE_COUNT: 0
   :DRILL_AVERAGE_QUALITY: 5.0
   :DRILL_EASE: 2.7
   :DRILL_LAST_QUALITY: 5
   :DRILL_LAST_REVIEWED: [2021-12-16 Thu 06:46]
   :END:
   
   What is typically stored in /temp for lambda
*** typically:
   Database connection
** Dyanamo                                                            :drill:
   SCHEDULED: <2021-12-26 Sun>
   :PROPERTIES:
   :ID:       5c09e814-669a-4e43-9a03-ed241809d4ce
   :DRILL_LAST_INTERVAL: 11.0911
   :DRILL_REPEATS_SINCE_FAIL: 3
   :DRILL_TOTAL_REPEATS: 2
   :DRILL_FAILURE_COUNT: 0
   :DRILL_AVERAGE_QUALITY: 5.0
   :DRILL_EASE: 2.7
   :DRILL_LAST_QUALITY: 5
   :DRILL_LAST_REVIEWED: [2021-12-15 Wed 21:30]
   :END:
   How to make dynamo DB acid
*** ACID feature is called
   Transactions
** Dyanmo
   In dynamodb what types 
*** of access can be eventually consistent?
    Reads
** Cloud Formation                                                    :drill:
   SCHEDULED: <2021-12-22 Wed>
   :PROPERTIES:
   :ID:       d3cb572b-744b-4764-859b-4e7fb1c5b994
   :DRILL_LAST_INTERVAL: 3.86
   :DRILL_REPEATS_SINCE_FAIL: 2
   :DRILL_TOTAL_REPEATS: 4
   :DRILL_FAILURE_COUNT: 2
   :DRILL_AVERAGE_QUALITY: 2.25
   :DRILL_EASE: 2.36
   :DRILL_LAST_QUALITY: 3
   :DRILL_LAST_REVIEWED: [2021-12-18 Sat 03:51]
   :END:

    How to set values in cloud formation to vary by region (like env vars)
*** use the feature
    With mappings.  Takes region as key to lookup
*** Bonus
    FindInMap intrinsic fiunction
**  What is the CloudFormation 'output' section for?                  :drill:
   SCHEDULED: <2021-12-25 Sat>
   :PROPERTIES:
   :ID:       3dc4ebc0-1559-4019-ac40-5a15385d763c
   :DRILL_LAST_INTERVAL: 10.0
   :DRILL_REPEATS_SINCE_FAIL: 3
   :DRILL_TOTAL_REPEATS: 2
   :DRILL_FAILURE_COUNT: 0
   :DRILL_AVERAGE_QUALITY: 4.0
   :DRILL_EASE: 2.5
   :DRILL_LAST_QUALITY: 4
   :DRILL_LAST_REVIEWED: [2021-12-15 Wed 21:40]
   :END:
   "output"
***  is for
     Cross stack data, returning Val's
**   How to control page size on dynamodb                             :drill:
   SCHEDULED: <2021-12-27 Mon>
   :PROPERTIES:
   :ID:       5aa9bbcb-728e-4585-b05d-27e72786249c
   :DRILL_LAST_INTERVAL: 10.7143
   :DRILL_REPEATS_SINCE_FAIL: 3
   :DRILL_TOTAL_REPEATS: 2
   :DRILL_FAILURE_COUNT: 0
   :DRILL_AVERAGE_QUALITY: 4.5
   :DRILL_EASE: 2.6
   :DRILL_LAST_QUALITY: 4
   :DRILL_LAST_REVIEWED: [2021-12-16 Thu 06:48]
   :END:
   in dynamo db 
*** set page size with 
     With limit keyword
**  How to create                                             :suspect:drill:
   SCHEDULED: <2021-12-24 Fri>
   :PROPERTIES:
   :ID:       c61beff0-11ec-4224-a074-3143d2cddd22
   :DRILL_LAST_INTERVAL: 8.9861
   :DRILL_REPEATS_SINCE_FAIL: 3
   :DRILL_TOTAL_REPEATS: 2
   :DRILL_FAILURE_COUNT: 0
   :DRILL_AVERAGE_QUALITY: 3.0
   :DRILL_EASE: 2.22
   :DRILL_LAST_QUALITY: 3
   :DRILL_LAST_REVIEWED: [2021-12-15 Wed 21:29]
   :END:
    a Dynamo Shadow table
*** it is aka  
    Global table or read replica
** Code deploy                                                        :drill:
   SCHEDULED: <2021-12-29 Wed>
   :PROPERTIES:
   :ID:       f54db49c-0a0f-40bf-b405-575e2853d34e
   :DRILL_LAST_INTERVAL: 10.3191
   :DRILL_REPEATS_SINCE_FAIL: 3
   :DRILL_TOTAL_REPEATS: 4
   :DRILL_FAILURE_COUNT: 1
   :DRILL_AVERAGE_QUALITY: 3.5
   :DRILL_EASE: 2.56
   :DRILL_LAST_QUALITY: 5
   :DRILL_LAST_REVIEWED: [2021-12-19 Sun 09:54]
   :END:
   memorization
*** Code deploy: what hooks are there for lambda (2)?  for Ec2 (5)?
    For lambda:
    BeforeAllowTrafffic
    AfterAllowtraffic

    For Ec2:
    BeforeInstall 
    AfterInstall   
    AfterAllowTestTraffic 
    BeforeAllowTraffic
    AfterAllowTraffic



** Cloudwatch metrics                                                 :drill:
   SCHEDULED: <2021-12-23 Thu>
   :PROPERTIES:
:DRILL_CARD_TYPE: hide1cloze
:ID:       e3afd67b-b0fa-4924-ad15-e0a25b03658c
:DRILL_LAST_INTERVAL: 4.14
:DRILL_REPEATS_SINCE_FAIL: 2
:DRILL_TOTAL_REPEATS: 1
:DRILL_FAILURE_COUNT: 0
:DRILL_AVERAGE_QUALITY: 5.0
:DRILL_EASE: 2.6
:DRILL_LAST_QUALITY: 5
:DRILL_LAST_REVIEWED: [2021-12-19 Sun 10:24]
:END:

  For cloudwatch api call [GetMetricStatistics], the maximum number
  of [data points] returned is 1440 from single call

** Cloudwatch metrics                                                 :drill:
   SCHEDULED: <2021-12-23 Thu>
:PROPERTIES:
:DRILL_CARD_TYPE: hide1cloze
:ID:       20d40fa5-d617-451b-a3c0-1cac911309c8
:DRILL_LAST_INTERVAL: 3.86
:DRILL_REPEATS_SINCE_FAIL: 2
:DRILL_TOTAL_REPEATS: 1
:DRILL_FAILURE_COUNT: 0
:DRILL_AVERAGE_QUALITY: 3.0
:DRILL_EASE: 2.36
:DRILL_LAST_QUALITY: 3
:DRILL_LAST_REVIEWED: [2021-12-19 Sun 10:25]
:END:

  For cloudwatch api call [GetMetricStatistics], [1440]
  is the maximum number of data points returned from a single call
  

    
** how to you include libraries for labmda without a massive deployment package :drill:
   SCHEDULED: <2021-12-22 Wed>
   :PROPERTIES:
   :ID:       25c4f528-a20d-4b56-aa36-95db8f4319f5
   :DRILL_LAST_INTERVAL: 4.0
   :DRILL_REPEATS_SINCE_FAIL: 2
   :DRILL_TOTAL_REPEATS: 1
   :DRILL_FAILURE_COUNT: 0
   :DRILL_AVERAGE_QUALITY: 4.0
   :DRILL_EASE: 2.5
   :DRILL_LAST_QUALITY: 4
   :DRILL_LAST_REVIEWED: [2021-12-18 Sat 13:51]
   :END:
   how
  
*** answer
    layers

** adding a layer                                                     :drill:
   SCHEDULED: <2021-12-22 Wed>
   :PROPERTIES:
   :ID:       6f4bb41f-eac6-484f-b08d-fd898c6a606c
   :DRILL_LAST_INTERVAL: 4.0
   :DRILL_REPEATS_SINCE_FAIL: 2
   :DRILL_TOTAL_REPEATS: 3
   :DRILL_FAILURE_COUNT: 2
   :DRILL_AVERAGE_QUALITY: 1.333
   :DRILL_EASE: 2.5
   :DRILL_LAST_QUALITY: 4
   :DRILL_LAST_REVIEWED: [2021-12-18 Sat 14:02]
   :END:
   [update-function-configuration] is is the lambda cli call to add a layer
   :PROPERTIES:
   :ID:       cf7dbc72-27b7-4854-bc47-d20b11a29531
   :END:

** limits for mem in lambda                                           :drill:
   SCHEDULED: <2021-12-22 Wed>
   :PROPERTIES:
   :ID:       b39a3bec-32e8-4650-858b-26f57b0b0cd6
   :DRILL_LAST_INTERVAL: 4.0
   :DRILL_REPEATS_SINCE_FAIL: 2
   :DRILL_TOTAL_REPEATS: 2
   :DRILL_FAILURE_COUNT: 1
   :DRILL_AVERAGE_QUALITY: 3.0
   :DRILL_EASE: 2.5
   :DRILL_LAST_QUALITY: 4
   :DRILL_LAST_REVIEWED: [2021-12-18 Sat 14:01]
   :END:
 what are min/max memory  for lambda func
*** they are...
 default 128 is min and 3008 Meg is max 64 MB incs
 performance scales with memory
 128 is defaul

** lambda limits                                                      :drill:
   SCHEDULED: <2021-12-22 Wed>
   :PROPERTIES:
   :ID:       6b27e5ed-7a62-4f7a-803f-be55ed6d01b6
   :DRILL_LAST_INTERVAL: 4.0
   :DRILL_REPEATS_SINCE_FAIL: 2
   :DRILL_TOTAL_REPEATS: 1
   :DRILL_FAILURE_COUNT: 0
   :DRILL_AVERAGE_QUALITY: 4.0
   :DRILL_EASE: 2.5
   :DRILL_LAST_QUALITY: 4
   :DRILL_LAST_REVIEWED: [2021-12-18 Sat 13:52]
   :END:
 Max env var size (all env vars) for lamda is [4kb]


** lambda                                                             :drill:
   SCHEDULED: <2021-12-22 Wed>
   :PROPERTIES:
   :ID:       72a5512e-2694-4a43-a38a-920a64eae1ab
   :DRILL_LAST_INTERVAL: 3.86
   :DRILL_REPEATS_SINCE_FAIL: 2
   :DRILL_TOTAL_REPEATS: 1
   :DRILL_FAILURE_COUNT: 0
   :DRILL_AVERAGE_QUALITY: 3.0
   :DRILL_EASE: 2.36
   :DRILL_LAST_QUALITY: 3
   :DRILL_LAST_REVIEWED: [2021-12-18 Sat 13:57]
   :END:
  
 Likely reason you'd get InvalidParameterValueException from CLI from a script to deploy a lambda?

*** reasons
  - giving a role it can't assume
  - a lambda needs an execution role


** verb how to call a lambda function from cli                        :drill:
   SCHEDULED: <2021-12-22 Wed>
   :PROPERTIES:
   :ID:       82aa5833-b747-4243-a64a-43186715343a
   :DRILL_LAST_INTERVAL: 4.0
   :DRILL_REPEATS_SINCE_FAIL: 2
   :DRILL_TOTAL_REPEATS: 1
   :DRILL_FAILURE_COUNT: 0
   :DRILL_AVERAGE_QUALITY: 4.0
   :DRILL_EASE: 2.5
   :DRILL_LAST_QUALITY: 4
   :DRILL_LAST_REVIEWED: [2021-12-18 Sat 13:48]
   :END:
 the keyword is aws lambda [--invoke]

*** bonus
    for asynch it is --invocation-type Event
   
** lambda 
 How to call lambda function asynch on cli

*** the arguments to use
 --invocation-type Event



** lambda                                                             :drill:
   SCHEDULED: <2021-12-22 Wed>
   :PROPERTIES:
   :ID:       2ecb20e6-2653-49ed-acf1-83a3df771437
   :DRILL_LAST_INTERVAL: 4.14
   :DRILL_REPEATS_SINCE_FAIL: 2
   :DRILL_TOTAL_REPEATS: 2
   :DRILL_FAILURE_COUNT: 1
   :DRILL_AVERAGE_QUALITY: 2.5
   :DRILL_EASE: 2.6
   :DRILL_LAST_QUALITY: 5
   :DRILL_LAST_REVIEWED: [2021-12-18 Sat 14:01]
   :END:
 what is needed for lambda to process items from a stream or queue

*** answer
 create an event source mapping

** event source mappingd                                              :drill:
   SCHEDULED: <2021-12-22 Wed>
   :PROPERTIES:
   :ID:       66c0b76c-0755-4fe9-b6fc-7bee3011eed3
   :DRILL_LAST_INTERVAL: 4.0
   :DRILL_REPEATS_SINCE_FAIL: 2
   :DRILL_TOTAL_REPEATS: 1
   :DRILL_FAILURE_COUNT: 0
   :DRILL_AVERAGE_QUALITY: 4.0
   :DRILL_EASE: 2.5
   :DRILL_LAST_QUALITY: 4
   :DRILL_LAST_REVIEWED: [2021-12-18 Sat 14:00]
   :END:
  
 Define event source mapping
*** answer
 It reads from an event source and invokes a lambda function

** boto3 objects                                                      :drill:
   SCHEDULED: <2021-12-22 Wed>
   :PROPERTIES:
   :ID:       a4baa70e-f1dc-4c09-a2c9-4c18bb674844
   :DRILL_LAST_INTERVAL: 4.0
   :DRILL_REPEATS_SINCE_FAIL: 2
   :DRILL_TOTAL_REPEATS: 2
   :DRILL_FAILURE_COUNT: 1
   :DRILL_AVERAGE_QUALITY: 2.5
   :DRILL_EASE: 2.5
   :DRILL_LAST_QUALITY: 4
   :DRILL_LAST_REVIEWED: [2021-12-18 Sat 14:01]
   :END:
 in boto3, client vs resource, which is lower level?

*** answer
 client is low level, full api
 resource is higher level, OO, not complete

** lambda permissions                                                 :drill:
   SCHEDULED: <2021-12-22 Wed>
   :PROPERTIES:
   :ID:       4069c06f-e51e-4fe5-ac61-c0c7ae1cfb44
   :DRILL_LAST_INTERVAL: 4.0
   :DRILL_REPEATS_SINCE_FAIL: 2
   :DRILL_TOTAL_REPEATS: 1
   :DRILL_FAILURE_COUNT: 0
   :DRILL_AVERAGE_QUALITY: 4.0
   :DRILL_EASE: 2.5
   :DRILL_LAST_QUALITY: 4
   :DRILL_LAST_REVIEWED: [2021-12-18 Sat 13:57]
   :END:
 How does S3 get right to invoke lambda?

*** answer
  Add a permission for S3 to invoke it -- it is an aws lambda cli function and gives right to one bucket
  point is: permission is not granted by lambda



** vocab arn                                                          :drill:
   SCHEDULED: <2021-12-23 Thu>
   :PROPERTIES:
   :ID:       264053b4-8528-4248-a1bb-422ad4d2d732
   :DRILL_LAST_INTERVAL: 4.14
   :DRILL_REPEATS_SINCE_FAIL: 2
   :DRILL_TOTAL_REPEATS: 1
   :DRILL_FAILURE_COUNT: 0
   :DRILL_AVERAGE_QUALITY: 5.0
   :DRILL_EASE: 2.6
   :DRILL_LAST_QUALITY: 5
   :DRILL_LAST_REVIEWED: [2021-12-19 Sun 10:23]
   :END:
 what is a qualitified arn
*** definition
 it has a version at the end
  - in lambda it canNOT be used for an alias

** vocab lambda alias                                                 :drill:
   SCHEDULED: <2021-12-22 Wed>
   :PROPERTIES:
   :ID:       54467e95-0410-4928-8d90-8513a764c268
   :DRILL_LAST_INTERVAL: 4.14
   :DRILL_REPEATS_SINCE_FAIL: 2
   :DRILL_TOTAL_REPEATS: 2
   :DRILL_FAILURE_COUNT: 1
   :DRILL_AVERAGE_QUALITY: 3.5
   :DRILL_EASE: 2.6
   :DRILL_LAST_QUALITY: 5
   :DRILL_LAST_REVIEWED: [2021-12-18 Sat 14:02]
   :END:
 How does an alias difffer from a version in lambda?

*** answer
  - instead of number in arn, has name of aliase
  - the alias can be changed, versions are imutable

***  bonus:
    alias can point at two versions, with weighting

** lambda alias                                                       :drill:
   SCHEDULED: <2021-12-22 Wed>
   :PROPERTIES:
   :ID:       d760bdba-2951-4b0f-b60b-e6d745a9c183
   :DRILL_LAST_INTERVAL: 4.14
   :DRILL_REPEATS_SINCE_FAIL: 2
   :DRILL_TOTAL_REPEATS: 1
   :DRILL_FAILURE_COUNT: 0
   :DRILL_AVERAGE_QUALITY: 5.0
   :DRILL_EASE: 2.6
   :DRILL_LAST_QUALITY: 5
   :DRILL_LAST_REVIEWED: [2021-12-18 Sat 14:00]
   :END:
 What is typical use for weighted alias in lambda
*** typical:
  - blue / green deployment

** lambda zipfile size                                                :drill:
   SCHEDULED: <2021-12-22 Wed>
   :PROPERTIES:
   :ID:       7abf79cc-44a8-4ab7-9b74-656640a17f29
   :DRILL_LAST_INTERVAL: 3.86
   :DRILL_REPEATS_SINCE_FAIL: 2
   :DRILL_TOTAL_REPEATS: 1
   :DRILL_FAILURE_COUNT: 0
   :DRILL_AVERAGE_QUALITY: 3.0
   :DRILL_EASE: 2.36
   :DRILL_LAST_QUALITY: 3
   :DRILL_LAST_REVIEWED: [2021-12-18 Sat 14:00]
   :END:
 What is size limit of zip file for lambda to upload
*** max is
  - 50 mb, has to go to S3 if bigger

** lambda execs                                                       :drill:
   SCHEDULED: <2021-12-22 Wed>
   :PROPERTIES:
   :ID:       9cbb95e8-e9d2-42d1-babc-00d8b34f3ef8
   :DRILL_LAST_INTERVAL: 4.14
   :DRILL_REPEATS_SINCE_FAIL: 2
   :DRILL_TOTAL_REPEATS: 1
   :DRILL_FAILURE_COUNT: 0
   :DRILL_AVERAGE_QUALITY: 5.0
   :DRILL_EASE: 2.6
   :DRILL_LAST_QUALITY: 5
   :DRILL_LAST_REVIEWED: [2021-12-18 Sat 13:49]
   :END:
 Lambda default execution/second limit

*** limit is:
  - 1000 execution/second

** lambd concurrency                                                  :drill:
   SCHEDULED: <2021-12-22 Wed>
   :PROPERTIES:
   :ID:       b9cbf2ed-ae1b-4d08-9e30-dc66c735839f
   :DRILL_LAST_INTERVAL: 4.14
   :DRILL_REPEATS_SINCE_FAIL: 2
   :DRILL_TOTAL_REPEATS: 1
   :DRILL_FAILURE_COUNT: 0
   :DRILL_AVERAGE_QUALITY: 5.0
   :DRILL_EASE: 2.6
   :DRILL_LAST_QUALITY: 5
   :DRILL_LAST_REVIEWED: [2021-12-18 Sat 13:48]
   :END:
 How much concurrency can you reserve per lambda?

*** answer
  - default 900, you hae to leave 100 unreserved capacity

** lambda behavior                                                    :drill:
   SCHEDULED: <2021-12-22 Wed>
   :PROPERTIES:
   :ID:       5aed74f8-e393-417d-a58d-59d0204ed369
   :DRILL_LAST_INTERVAL: 4.0
   :DRILL_REPEATS_SINCE_FAIL: 2
   :DRILL_TOTAL_REPEATS: 1
   :DRILL_FAILURE_COUNT: 0
   :DRILL_AVERAGE_QUALITY: 4.0
   :DRILL_EASE: 2.5
   :DRILL_LAST_QUALITY: 4
   :DRILL_LAST_REVIEWED: [2021-12-18 Sat 13:49]
   :END:
 What happens when too many lambda functions called concurrently?
*** it is signalled by three things:
   - throttle
   - TooManyRequestException
   - Http 429

** lambda throttling                                                  :drill:
   SCHEDULED: <2021-12-22 Wed>
   :PROPERTIES:
   :ID:       0b883def-7754-4396-aff2-665e6b78ca7b
   :DRILL_LAST_INTERVAL: 4.0
   :DRILL_REPEATS_SINCE_FAIL: 2
   :DRILL_TOTAL_REPEATS: 1
   :DRILL_FAILURE_COUNT: 0
   :DRILL_AVERAGE_QUALITY: 4.0
   :DRILL_EASE: 2.5
   :DRILL_LAST_QUALITY: 4
   :DRILL_LAST_REVIEWED: [2021-12-18 Sat 13:51]
   :END:
 Default throttle behavior for lambda?
*** defaults:
   - Synch: 429 error
   - Asynch retry, retry, DLQ


** Question  :drill:
   SCHEDULED: <2021-12-23 Thu>
   :PROPERTIES:
   :ID:       761f31e8-9238-4e1c-b9fc-ca53d45a819b
   :DRILL_LAST_INTERVAL: 3.86
   :DRILL_REPEATS_SINCE_FAIL: 2
   :DRILL_TOTAL_REPEATS: 1
   :DRILL_FAILURE_COUNT: 0
   :DRILL_AVERAGE_QUALITY: 3.0
   :DRILL_EASE: 2.36
   :DRILL_LAST_QUALITY: 3
   :DRILL_LAST_REVIEWED: [2021-12-19 Sun 20:18]
   :END:
Name an Elastic beanstalk feature that takes care of asynch tasks like file transformations
*** Answer:
  - worker environment
    Elastic Beanstalk worker environments simplify this process by managing
    the Amazon SQS queue and running a daemon process on each instance that
    reads from the queue for you. 
   
** Dyanmo db indices                                                  :drill:
   SCHEDULED: <2021-12-23 Thu>
   :PROPERTIES:
   :ID:       41ea0eff-0b33-4577-8f87-1de36c48a74a
   :DRILL_LAST_INTERVAL: 4.0
   :DRILL_REPEATS_SINCE_FAIL: 2
   :DRILL_TOTAL_REPEATS: 1
   :DRILL_FAILURE_COUNT: 0
   :DRILL_AVERAGE_QUALITY: 4.0
   :DRILL_EASE: 2.5
   :DRILL_LAST_QUALITY: 4
   :DRILL_LAST_REVIEWED: [2021-12-19 Sun 20:15]
   :END:
Distinguish global and local secondary indices
*** Answer:
    

Global secondary index  an index with a partition key and a sort key
that can be different from those on the base table. A global secondary
index is considered "global" because queries on the index can span all
of the data in the base table, across all partitions.

Local secondary index  an index that has the same partition key as
the base table, but a different sort key. A local secondary index is
"local" in the sense that every partition of a local secondary index
is scoped to a base table partition that has the same partition key
value.

** Kinesis shards                                                     :drill:
   SCHEDULED: <2021-12-23 Thu>
   :PROPERTIES:
   :ID:       3b05f3ff-a174-4fb2-9d44-fe1335989abf
   :DRILL_LAST_INTERVAL: 4.0
   :DRILL_REPEATS_SINCE_FAIL: 2
   :DRILL_TOTAL_REPEATS: 1
   :DRILL_FAILURE_COUNT: 0
   :DRILL_AVERAGE_QUALITY: 4.0
   :DRILL_EASE: 2.5
   :DRILL_LAST_QUALITY: 4
   :DRILL_LAST_REVIEWED: [2021-12-19 Sun 20:14]
   :END:
If you have 4 shards, how many instances with KCL  should you have
*** Answer:
1 to 4.  At most 1 worker can process a shard, but 1 worker can process
multiple shards

** What is CORS for                                           :drill:
   SCHEDULED: <2021-12-23 Thu>
   :PROPERTIES:
   :ID:       447e0e0d-beaa-4338-b93b-d2c73c576dc6
   :DRILL_LAST_INTERVAL: 4.14
   :DRILL_REPEATS_SINCE_FAIL: 2
   :DRILL_TOTAL_REPEATS: 1
   :DRILL_FAILURE_COUNT: 0
   :DRILL_AVERAGE_QUALITY: 5.0
   :DRILL_EASE: 2.6
   :DRILL_LAST_QUALITY: 5
   :DRILL_LAST_REVIEWED: [2021-12-19 Sun 20:19]
   :END:
What does CORS do and for which service is it relevant
*** Answer:
Allows apps loaded in one domain to use resources from another.
Relevant especially getting resources from S3 buckets thru a web app

You sett a CORS configuration on buckets

** Cloudformation deploy                                      :drill:
   SCHEDULED: <2021-12-23 Thu>
   :PROPERTIES:
   :ID:       7c7e2788-89ed-44b6-8e19-586322422c21
   :DRILL_LAST_INTERVAL: 4.14
   :DRILL_REPEATS_SINCE_FAIL: 2
   :DRILL_TOTAL_REPEATS: 1
   :DRILL_FAILURE_COUNT: 0
   :DRILL_AVERAGE_QUALITY: 5.0
   :DRILL_EASE: 2.6
   :DRILL_LAST_QUALITY: 5
   :DRILL_LAST_REVIEWED: [2021-12-19 Sun 20:14]
   :END:

If you are going to deploy resources on your local machine from CLI, what do you
doe wWhat do you usually run before "aws cloudformation deploy"
*** Answer:
aws cloudformation package

** DynamoDb                                                    :drill:
   SCHEDULED: <2021-12-23 Thu>
   :PROPERTIES:
   :ID:       93907369-1f23-4c40-a129-6d56444e62da
   :DRILL_LAST_INTERVAL: 4.0
   :DRILL_REPEATS_SINCE_FAIL: 2
   :DRILL_TOTAL_REPEATS: 1
   :DRILL_FAILURE_COUNT: 0
   :DRILL_AVERAGE_QUALITY: 4.0
   :DRILL_EASE: 2.5
   :DRILL_LAST_QUALITY: 4
   :DRILL_LAST_REVIEWED: [2021-12-19 Sun 20:19]
   :END:
Reduce frequency of ProvisionedThroughputExceededException
*** Answer:
Use exponential backoff.  Retries happen always with DynamodB

** ALB feature                                                        :drill:
   SCHEDULED: <2021-12-23 Thu>
   :PROPERTIES:
   :ID:       96a5e99c-0821-4f2e-9b84-a29664a73da0
   :DRILL_LAST_INTERVAL: 4.14
   :DRILL_REPEATS_SINCE_FAIL: 2
   :DRILL_TOTAL_REPEATS: 1
   :DRILL_FAILURE_COUNT: 0
   :DRILL_AVERAGE_QUALITY: 5.0
   :DRILL_EASE: 2.6
   :DRILL_LAST_QUALITY: 5
   :DRILL_LAST_REVIEWED: [2021-12-19 Sun 20:16]
   :END:
What does enable multi valued headers do?
*** Answer:
    Turns values specified twice to arrays -
     &name=Fred&name=Flinstone
     -> name: [Fred, Flinstone]

** Multi valued headers                                       :drill:
   SCHEDULED: <2021-12-23 Thu>
   :PROPERTIES:
   :ID:       d2877fad-5b98-4359-853f-181a00318021
   :DRILL_LAST_INTERVAL: 3.86
   :DRILL_REPEATS_SINCE_FAIL: 2
   :DRILL_TOTAL_REPEATS: 1
   :DRILL_FAILURE_COUNT: 0
   :DRILL_AVERAGE_QUALITY: 3.0
   :DRILL_EASE: 2.36
   :DRILL_LAST_QUALITY: 3
   :DRILL_LAST_REVIEWED: [2021-12-19 Sun 20:18]
   :END:
An Advanced feature of [Application Load Balancer] is multi-valued headers

** DynamoDb cache                                                     :drill:
   SCHEDULED: <2021-12-23 Thu>
   :PROPERTIES:
   :ID:       f091b770-d023-4067-a016-30f689081a6a
   :DRILL_LAST_INTERVAL: 4.0
   :DRILL_REPEATS_SINCE_FAIL: 2
   :DRILL_TOTAL_REPEATS: 1
   :DRILL_FAILURE_COUNT: 0
   :DRILL_AVERAGE_QUALITY: 4.0
   :DRILL_EASE: 2.5
   :DRILL_LAST_QUALITY: 4
   :DRILL_LAST_REVIEWED: [2021-12-19 Sun 20:18]
   :END:
[DAX Accelerator] is a DynamoDB-specific cache solution
*** Bonus
Reduces responses FROM milliseconds TO microseconds

** Server Side Encryption                                     :drill:
   SCHEDULED: <2021-12-23 Thu>
   :PROPERTIES:
   :ID:       7f45ce23-1ad3-4358-846e-e28d31537460
   :DRILL_LAST_INTERVAL: 3.86
   :DRILL_REPEATS_SINCE_FAIL: 2
   :DRILL_TOTAL_REPEATS: 1
   :DRILL_FAILURE_COUNT: 0
   :DRILL_AVERAGE_QUALITY: 3.0
   :DRILL_EASE: 2.36
   :DRILL_LAST_QUALITY: 3
   :DRILL_LAST_REVIEWED: [2021-12-19 Sun 20:19]
   :END:
If you use customer keys for encrypting s3, what three headers to you need 
*** Answer:
all three of
    
x-amz-server-side-encryption-customer-algorithm   (can only have one value: AES256)
x-amz-server-side-encryption-customer-key   (the key)
x-amz-server-side-encryption-customer-key-MD5  (encoded version, used like checksum)

** SQS polling                                                        :drill:
   SCHEDULED: <2021-12-23 Thu>
   :PROPERTIES:
   :ID:       d5db822b-84ab-4c81-a0c9-09f385ef91df
   :DRILL_LAST_INTERVAL: 4.14
   :DRILL_REPEATS_SINCE_FAIL: 2
   :DRILL_TOTAL_REPEATS: 1
   :DRILL_FAILURE_COUNT: 0
   :DRILL_AVERAGE_QUALITY: 5.0
   :DRILL_EASE: 2.6
   :DRILL_LAST_QUALITY: 5
   :DRILL_LAST_REVIEWED: [2021-12-19 Sun 20:18]
   :END:
How to configure long polling
*** Answer:
Just set a timeout -- default of 0 means short polling

** SQS Polling                                                        :drill:
   SCHEDULED: <2021-12-23 Thu>
   :PROPERTIES:
   :ID:       555794de-5323-4174-9763-f64745f62007
   :DRILL_LAST_INTERVAL: 4.0
   :DRILL_REPEATS_SINCE_FAIL: 2
   :DRILL_TOTAL_REPEATS: 1
   :DRILL_FAILURE_COUNT: 0
   :DRILL_AVERAGE_QUALITY: 4.0
   :DRILL_EASE: 2.5
   :DRILL_LAST_QUALITY: 4
   :DRILL_LAST_REVIEWED: [2021-12-19 Sun 20:16]
   :END:
What is customer visibility timeout for?
*** Answer:
Stop multiple consumers from getting a message that is being processed

** application passwords                                              :drill:
   SCHEDULED: <2021-12-23 Thu>
   :PROPERTIES:
   :ID:       02622f48-f7c4-4e0f-b676-0d9f4dbf7d6e
   :DRILL_LAST_INTERVAL: 3.86
   :DRILL_REPEATS_SINCE_FAIL: 2
   :DRILL_TOTAL_REPEATS: 1
   :DRILL_FAILURE_COUNT: 0
   :DRILL_AVERAGE_QUALITY: 3.0
   :DRILL_EASE: 2.36
   :DRILL_LAST_QUALITY: 3
   :DRILL_LAST_REVIEWED: [2021-12-19 Sun 20:20]
   :END:
   [Secrets Manager] provides an API your code can call to get the
   password for a database, and it provides for automatic rotation

*** bonus
       Services that it works with:
       Amazon RDS, Amazon DocumentDB, and Amazon Redshift
       Others there is a template, customers must create a custom rotation function
       
** X-Ray                                                      :drill:
   SCHEDULED: <2021-12-23 Thu>
   :PROPERTIES:
   :ID:       68792d29-27eb-4e7e-ac1b-024c634999a0
   :DRILL_LAST_INTERVAL: 4.0
   :DRILL_REPEATS_SINCE_FAIL: 2
   :DRILL_TOTAL_REPEATS: 1
   :DRILL_FAILURE_COUNT: 0
   :DRILL_AVERAGE_QUALITY: 4.0
   :DRILL_EASE: 2.5
   :DRILL_LAST_QUALITY: 4
   :DRILL_LAST_REVIEWED: [2021-12-19 Sun 20:19]
   :END:
Difference settig up Xray on
1) ebs
2) elastic beanstalk
*** Answer:
1) use a "user data script" for ebs
2) for elastic beanstalk, use config file - xray-daemon.config in .ebextensions/



** Lampda concurrence                                                 :drill:
   SCHEDULED: <2021-12-23 Thu>
   :PROPERTIES:
   :ID:       23ea866a-d5d3-4298-a589-c9e552e8b726
   :DRILL_LAST_INTERVAL: 3.86
   :DRILL_REPEATS_SINCE_FAIL: 2
   :DRILL_TOTAL_REPEATS: 1
   :DRILL_FAILURE_COUNT: 0
   :DRILL_AVERAGE_QUALITY: 3.0
   :DRILL_EASE: 2.36
   :DRILL_LAST_QUALITY: 3
   :DRILL_LAST_REVIEWED: [2021-12-19 Sun 20:15]
   :END:
What is Lambda provisioned concurrency?
*** Answer:
  - once it is invoked, it stays loaded, low latency (avoid cold start)
  - you pay for it as long as its running 
  - provisioned concurrency can be controlled with ASG


** RDS proxy                                                  :drill:
   SCHEDULED: <2021-12-23 Thu>
   :PROPERTIES:
   :ID:       9ef90cf5-914f-46c3-979c-3d68aedbd879
   :DRILL_LAST_INTERVAL: 3.86
   :DRILL_REPEATS_SINCE_FAIL: 2
   :DRILL_TOTAL_REPEATS: 1
   :DRILL_FAILURE_COUNT: 0
   :DRILL_AVERAGE_QUALITY: 3.0
   :DRILL_EASE: 2.36
   :DRILL_LAST_QUALITY: 3
   :DRILL_LAST_REVIEWED: [2021-12-19 Sun 20:20]
   :END:
What is RDS proxy?
*** Answer:
 - a connection pool lambda can use

** Question  :drill:
   SCHEDULED: <2021-12-23 Thu>
   :PROPERTIES:
   :ID:       caf2ac13-8dcd-453e-a035-8edb5c1012b8
   :DRILL_LAST_INTERVAL: 3.86
   :DRILL_REPEATS_SINCE_FAIL: 2
   :DRILL_TOTAL_REPEATS: 2
   :DRILL_FAILURE_COUNT: 1
   :DRILL_AVERAGE_QUALITY: 2.5
   :DRILL_EASE: 2.36
   :DRILL_LAST_QUALITY: 3
   :DRILL_LAST_REVIEWED: [2021-12-19 Sun 20:20]
   :END:
What is Execution Record
*** Answer:
 -a lambda artifact in Success/Failure destination
 - has version, request/response context request/response payload



     








* scrap/in progress
  

Cloudwatch custom metrics
 - what is Api name and some parms to add a custom metric




lambda DLQ vs on-failure queue?
DLQ is part of version specific and is locked in (fuzzy)


read per second Dynamo calcs - 2:1:.5 for?
 2 rcu per 1 transactional  second
 1 rcu per strongly consistent
 .5 rcu per eventually consistent


 cloud formation to deploy s3 from lamda
 does s3 bucket have to be in same region we run CF in?
 Yes -- even tho s3 is global

 How to connect to VPC with lambda
 by default it can't
 lambda creates an ENI -- it needs private subnet id and security gourp id

 When lambda connects to private subnet, key points
  - need to have a Nat Gateway if it needs internet access
  - time to create dns records can cause timeout
  - the function needs create/describe/delete netowrk interfac
  - included in managed poolicy AWSLamdaVPCAccessExecutionRole

 Requirement on Lambda Fuction/ALB
  - target group and Lambda must be in same account and same region

Maxiumum body of Lambda function call
  - Synchronoou when in ALB 1 meg
  - Synchronous, otherwise 6 MB
  - Asynch 256K

How to encrypt an unencrypted volume
  - it can't be encrypted "in place"
  - you can copy it onto an encrypted volume
  - or you can make a snapshot, make and encyrptetd volume, and copy snapshot to encyrpted volume


What is unpublished version of lambda?
 - the working copy, unversioed, aka $LATEST


Lambda - $LATEST is aka [unpublished]

In API Gateway - what is that allows you to publish different versions aka dev, test -- to different urls from same code
 - stage variables -- they are deployment stages
   Lets you reference the value from API setup

Tell me five Elastic Beanstalk deployment methods
 - All at one
 - Blue Green
 - Immutable
 - Rolling
 - Rolling with additional

Lambda feature to redirect traffic to new version; it's advantage; name of implementation setting
 - Traffic shifting
 - easy backoff
 - routing-config
 Bonus - two versions only

In API gateway, distinguish HTTP PROXY and HTTP integration
  - proxy simply maps path and HTTP method
  - HTTP aka HTTP custom - allows you to specify how data in request/response is mapped to methods
   
Diff between AWS and HTTP integration in API Gateway?
   AWS is and AWS_PROXY for lambda -- proxy is simple mapping
   HTPP and HTTP proxy for ec2 -- proxy is simple mapping

Reasons to choose Memcached over Redis (per TJ):
   - multithreaded
   - cache objects e.g. DB connection
   - Run on large nodes/multi core
   - Scale out and in


What is a local secondary index?
  - it has the same partition key as the main table, different sort key

What is always projected into a dynamodb index?
  - the primary key attributes of the base table

the [primary key attributes] of the [base table] are always projected into a dynamo index

Name it
the [ec2 agent] runs on ec2 instances in ECS

What is a task in EC2
Same as a container - the running reification of an images

What is task definition
Looks a lot like docker compose file, json file used with ECS

For scaling in ECS, ASGs work with [services] in a cluser

Can you run ECS services with Elastic Beanstalk?
Yes
Bonus either single- or multi-container instance


What are two launch types for containers
EC2 launch type and fargate launchtype

Main diff Fargate EC2
Fargate is "serverless" -- you don't manage the EC2 instances.  You
are still responsible/able to configure EC2 instaces iwth EC2

What do you need on an EC2 instance to connect to EC2 clusert
the EC2

Can you put on premises machines into ecs cluster?
No - only Ec2 can run the necessary agent

Where do you find the agent?
/etc/ecs/ecs.config

How do you control acces to ECR docker repo?
IAM

How many containers can be described in a task devinition file?
up to 10

Difference between IAM taks for Fargate and AWS
 - Fargate can only have roles attached to tasks
 - EC2 ca have tasks on both instances and tasks

Can you apply IAM roles to containers after they are launched?
 - not for EC2 types

in what context do you have to worry about bucket names being valid dns names
  - Transfer Accelleration
  - also must be dotless



2 things required to allow specified clients  to get up-to-desults from API Gateway
 - 1 you configure: Tick on require authorization in Cache Settings
 - 2 they configure: include header Cache-Control: max-age=0

Define multicontainer docker environment
  - Ec2 thing -- multiple containers per instance
  What for (tentative) to let you get the most -- communicating over docker network

An Elastic beanstalk [worker environment] allows you to queue up tasks
 -bonus  -- Can solve problem autoscaling doesn't if single user can submit multiple tasks

What's a periodic task?
 -in elastic beanstalk, cron based sumission to queues

Define Elastic Beanstalk Worker Environment
 - each EC2 instance has an SQS queue and daemon that posts to http://localhost

Standard queues offer [at least once] delivery and [best effort] ordering

Alternative queue offering if Standard Queue best effort ordering not sufficient
 - FIFO
 or dev effort: sequence info in each message

Queue based apps should be idempotent meaning:
  - they are okay if the process a message multiple times

For dynamoDb - three requirements for local secondary index
 - same Partition key as base
 - created same time as base table: if you didn't anticipate you can't use it
 - 10 GB limit for item collection (all items with same partition key)

For Dynamo db - an ["item collection"] is [all items with same partition key]

What is advantage of Local Secondary Index?
 - can share read capacity with base table 



 * AWS flashcards
  ** one
     fargage vs ecs: which has more powerful machines
  *** a
      ec2 by a ways - max mem fargate 30g, vcu 4, ec2 can have much more
  ** Does fargate offer CPU bursting
  *** a
      no
      ****
  ***
  ** one
     what is difference in pricing ec2 vs fargate 
  *** a
      basically per ec2 instance vs per running task
  ** Discounts available on ec2 not on fargate
  *** a
      reserved instances & savings plans
  *** bonus
      both have spt
  ** Can you use efs on fargate
  *** a
      yes

  ** Can you use efs on windows

  *** a
      no

  ** Diff codedeploy and codepipeline

  *** a
      codedeploy just deploys to running fargate/ec2/lambda.  Codepipeline is CI/CD stuff, build/test/deploy

  ** Define elasticache node

  *** a
      fixed size chunk of network attached ram
      smallest size unit of a deployment
      each node in cluster is same instance type
      each name has its own DNS

  ** redis clusters
     if with [cluster mode disabled], Redis will have a smaller number of nodes than without

  ** redis clusters
     with cluster mode disabled, three types of endpoints 
  *** a
      with only one node: single endpoint used for reads and writes
      with multiple nodes: 1) reader, 2) primary, 3) node enppoints
  ** How to ensure HA for redis
     HA
  *** a
      multiple read replicas in different A/Zs
  ** attaching to redis
     For write activity, apps should connect to the [primary endpoint] instead of connecting directly to [the primary].
  ** endpoint
     is a reader endpoint a load balancer?
  *** a
      A reader endpoint is not a load balancer. It is a DNS record that will resolve to an IP address of one of the replica nodes in a round robin fashion.
  ** what is a DNS record that round-bobins to  replica nodes
     what is a DNS record that round-bobins to  replica nodes


cloudwatch event vs metric
 - event is a state change in aws resource
 - metric is a measurement sent to cloudwatch

define cloudwatch event
  delivers a near real-time stream of system events that describe changes in Amazon Web Services (AWS) resources.

cloudwatch lods, descrite it
  cloudwatch logs [centralizes logs] from systems, apps, and aws services

cloudwatch metrics
 are defined by a name, [a namespace] and zero or more [dimensions]
 dimensions are e.g. "by OS" or "by Region"

cloudatch statistic vs metric
  statistics are based on the metrics over a period of time
  They include minimum, count, sum etc

cloudwatch alram
  an alarm watches [a single action] over [a specified time period]

what do cloudwatch alarms do?
  initiate actions

cloudwatch metrics
  GetMetricData can get up to [500] metrics in one call

What do you call in aws api to publsh metrics to cloudwatch?
  put metric data



What is the MOST likely cause of this issue?
(view)	

    



	 

    Have to do example for sub segments for getting more detailed downstream information
      What is an x-ray trace ID
      Need to research what are S3 managed keys
	 Can you change the values of environment variables on  published versions of lambda functions
  Make cards for automatic port mapping from containers to host. Do ECS exercises

Read about API integration types -- HTTP / AWS etc

Questions about KMS/Headers give easy ruleouts by specifying Algorithm question doesn't mention
Always something about binpack
Not much about VPC questions?
Session data usually in elasticache , dynamo?
Questions involving saml?
Is Redshift always wrong


Lambd disk capacity of /tmp



