-*- eval: (set-register ?o  "\n:PROPERTIES:\n:DRILL_CARD_TYPE: hide1cloze\n:END:\n") -*-
#+TAGS: drill(d) fix(x) inferred(f) memorize(m) shaky(s)
* Not covered
  - lightsail
  - gRPC
  - gateway load balancer
    
* AWS flashcards

** API Gateway

*** Lambda integration
** Route 53

***  DNSSEC

**** Guarantee
     what does DNSSEC guarantee?

***** Answer
      data origin authentication ; authenticated denial of existinence; data integrity
    
**** price                                                      :drill:price:
     price for DNSSEC

**** keys
     who holds the public key for your domain

***** Answer
      The TLD registrar (Route 53 Domains)

***** Notes
      WHen resolving, get signature from TLD registrar and compare it to DNS provider
      - the TLD registrar sends "Delegation Signer" record which is reconcied with
	Dns provider signature
** S3
** UBS
** EFS
*** Sharing                                                           :drill:
    elastic file system lets you share bewteen [ec2] and [fargate] servers
** RDS
** Athena

** Auto scaling

*** types                                                :shaky:drill:memorize:
    Name three autoscaling strategites

**** they are
     - Target tracking - responds to alarm
     - Simple - usually not recommended , reevaluates after cooldown
     - Step scaling - varies adjustements 



   
*** scope                                                             :drill:
    with regard to subnets/regions, where does autoscaling operate
**** answer
     it is region specific
*** price                                                             :drill:
    factors in charges for autoscaling
**** answer
     it is free (
     


** Dynamo DB
*** Read/Write capacity
**** What is one dynamodb unit of read capacity?                      :drill:
     SCHEDULED: <2021-12-08 Wed>
     :PROPERTIES:
     :ID:       ce15261e-dc9a-443f-84a7-2278c2cb4c8d
     :DRILL_LAST_INTERVAL: 3.86
     :DRILL_REPEATS_SINCE_FAIL: 2
     :DRILL_TOTAL_REPEATS: 1
     :DRILL_FAILURE_COUNT: 0
     :DRILL_AVERAGE_QUALITY: 3.0
     :DRILL_EASE: 2.36
     :DRILL_LAST_QUALITY: 3
     :DRILL_LAST_REVIEWED: [2021-12-04 Sat 23:54]
     :END:
***** Well, what is it?
One read capacity unit represents one strongly consistent read per second, or two eventually consistent reads per second, for an item up to 4 KB in size     
**** Dynamodb capacity calc :drill:
     SCHEDULED: <2021-12-08 Wed>
     :PROPERTIES:
     :ID:       d1e8913f-1dac-4ce0-b5b7-0b74c1554ac2
     :DRILL_LAST_INTERVAL: 3.86
     :DRILL_REPEATS_SINCE_FAIL: 2
     :DRILL_TOTAL_REPEATS: 1
     :DRILL_FAILURE_COUNT: 0
     :DRILL_AVERAGE_QUALITY: 3.0
     :DRILL_EASE: 2.36
     :DRILL_LAST_QUALITY: 3
     :DRILL_LAST_REVIEWED: [2021-12-04 Sat 23:53]
     :END:
     One [read] capacity unit represents one [strongly consistent read] per second, or [two eventually consistent reads] per second, for an item up to 4 KB in size 
**** Dynamodb capacity calc :drill:
     SCHEDULED: <2021-12-09 Thu>
     :PROPERTIES:
     :ID:       71a997a3-37d9-4fa7-a942-23e8b14848ec
     :DRILL_LAST_INTERVAL: 4.14
     :DRILL_REPEATS_SINCE_FAIL: 2
     :DRILL_TOTAL_REPEATS: 4
     :DRILL_FAILURE_COUNT: 2
     :DRILL_AVERAGE_QUALITY: 3.25
     :DRILL_EASE: 2.6
     :DRILL_LAST_QUALITY: 5
     :DRILL_LAST_REVIEWED: [2021-12-05 Sun 10:17]
     :END:
If your item size is 2 KB, you require [2] write capacity units to sustain one write request per second or [4] write capacity units for a transactional write request. :drill:
*** Dynamo limits
**** What is the item size limit for DynamoDb                         :drill:
     SCHEDULED: <2021-12-15 Wed>
     :PROPERTIES:
     :ID:       4b532143-f584-4243-b45f-01fde0a5ea58
     :DRILL_LAST_INTERVAL: 10.0
     :DRILL_REPEATS_SINCE_FAIL: 3
     :DRILL_TOTAL_REPEATS: 2
     :DRILL_FAILURE_COUNT: 0
     :DRILL_AVERAGE_QUALITY: 4.0
     :DRILL_EASE: 2.5
     :DRILL_LAST_QUALITY: 4
     :DRILL_LAST_REVIEWED: [2021-12-05 Sun 10:12]
     :END:
     What is the item size limit for DynamoDb 
     :PROPERTIES:
     :ID:       a57fc6a4-ec5f-4e6e-9ba3-eb9a39e6dc52
     :END:
***** well?
      400KB -- it includes the attribute name
**** Binary objects -- how much size to they take in Dynamodb         :drill:
     SCHEDULED: <2021-12-15 Wed>
     :PROPERTIES:
     :ID:       87e1b757-31b1-4f68-b581-0efa794f12aa
     :DRILL_LAST_INTERVAL: 10.352
     :DRILL_REPEATS_SINCE_FAIL: 3
     :DRILL_TOTAL_REPEATS: 2
     :DRILL_FAILURE_COUNT: 0
     :DRILL_AVERAGE_QUALITY: 4.5
     :DRILL_EASE: 2.6
     :DRILL_LAST_QUALITY: 5
     :DRILL_LAST_REVIEWED: [2021-12-05 Sun 10:10]
     :END:
     How much do they take?
***** how much
      the attribute name(!) + the raw bytes
***** notes
      they are actually stored as base64
**** Dynamo DB Pagination                                         :drill:
     SCHEDULED: <2021-12-15 Wed>
     :PROPERTIES:
     :ID:       221a2051-ea9b-46ea-9844-ef8d9bb1a600
     :DRILL_LAST_INTERVAL: 10.3376
     :DRILL_REPEATS_SINCE_FAIL: 3
     :DRILL_TOTAL_REPEATS: 2
     :DRILL_FAILURE_COUNT: 0
     :DRILL_AVERAGE_QUALITY: 4.0
     :DRILL_EASE: 2.46
     :DRILL_LAST_QUALITY: 3
     :DRILL_LAST_REVIEWED: [2021-12-05 Sun 10:11]
     :END:
     When you get more than 1 meg data, how does app know there is more?
***** How?
      LastEvaluatedKey
**** Dynamo Query return limits                                       :drill:
     SCHEDULED: <2021-12-16 Thu>
     :PROPERTIES:
     :ID:       87a1efa0-fefb-4cdc-93c5-5325310e327b
     :DRILL_LAST_INTERVAL: 11.0911
     :DRILL_REPEATS_SINCE_FAIL: 3
     :DRILL_TOTAL_REPEATS: 2
     :DRILL_FAILURE_COUNT: 0
     :DRILL_AVERAGE_QUALITY: 5.0
     :DRILL_EASE: 2.7
     :DRILL_LAST_QUALITY: 5
     :DRILL_LAST_REVIEWED: [2021-12-05 Sun 10:14]
     :END:
     A  dynamo query can return [1 mb] of data
***** Notes
      It applies to query and scan same way
**** Name of indicator there are more results in dynamo               :drill:
     SCHEDULED: <2021-12-15 Wed>
     :PROPERTIES:
     :ID:       dafa1a24-7d88-4bb2-8069-6e9a60361266
     :DRILL_LAST_INTERVAL: 10.0
     :DRILL_REPEATS_SINCE_FAIL: 3
     :DRILL_TOTAL_REPEATS: 2
     :DRILL_FAILURE_COUNT: 0
     :DRILL_AVERAGE_QUALITY: 4.0
     :DRILL_EASE: 2.5
     :DRILL_LAST_QUALITY: 4
     :DRILL_LAST_REVIEWED: [2021-12-05 Sun 10:15]
     :END:
     What's the indictor there are more records and when do you get it
***** answer
      LastEvaluatedKey - after 1 meg data
**** Per partition limits on writing in dynamo
     How much can you write per partition
***** answer
      1000 WCU/second
****** Note
that is up to 1 MB per second per partition




** Load balancers

*** Cloud watch                                                       :drill:
    How ofen does ELB write to cloudwatch

**** answer
     1 minute, but only when requests are active

*** ELB Access  logs                                                  :drill:
    Access logs for ELB
    
**** about them
     - are not enabled by default
     - have info about clients


     
*** relation to ASGs                                                  :drill:
    there is a [many-to-many] relationship betweent target groups and ASGs
*** and auto scaling                                                  :drill:
    what does ELB need to scale out/scale in?

**** answer
     An auto scaling grop

*** location                                                          :drill:
    where do ASG and ELBs have to be located relative to each other?

**** answer
     in the same region


  


*** Security groups                                                   :drill:
    How does security work with ELB listeners
    Must allow for health checks on back end listerns

**** How?
     Must assign SG to ports/protocols on front end listener


*** Where does ELB forward traffic on a ec2?                          :drill:
    where does ELB forward traffice on an  ec2

**** answer
     eth0

*** subnet req                                                        :drill:
    
:PROPERTIES:
:DRILL_CARD_TYPE: hide1cloze
:END:

Minimum size of a subnet that is target of ELB is [/27], and has to have [8] free IPs

**** bonus
     because some addresses are used for elb stuff
*** requirement                                                       :drill:
    :PROPERTIES:
    :DRILL_CARD_TYPE: hide1cloze
    :END:
A public load balancer needs one [public subnet] in each [a/z where it is defined]   
*** Differences ALB/NLB

**** A/Zs                                                             :drill:
     which kind of load balancer allows multiple A/Zs?

***** answer
      both, but not default for either

**** Static/Elastic IPs                                              :drill:
     Where can you use static and elastic ips with Elastic load balancers?

***** Answer
      Only with network load bal.
      For ALB the target is determined by amazon
      
***** notes
      You use an alias in route53 to send traffic to the ELB


*** ALB
**** A/Z
     ALB allow cross-zone load balancing
***** Answer
      Yes, but disabled by default
**** Format DNS name                                         :memorize:drill:
     Format of DNS name of ALB
***** answer
      <name><id-number>.region.elb.amazonaws.com
***** Bonus 
      only for public facing
      intenral ones have internal- at the beginning
**** Configuration: Listeners per port                                :drill:
     SCHEDULED: <2021-12-16 Thu>
     :PROPERTIES:
     :ID:       b74279bb-e32f-4826-a164-b86185ee09d0
     :DRILL_LAST_INTERVAL: 11.0911
     :DRILL_REPEATS_SINCE_FAIL: 3
     :DRILL_TOTAL_REPEATS: 2
     :DRILL_FAILURE_COUNT: 0
     :DRILL_AVERAGE_QUALITY: 5.0
     :DRILL_EASE: 2.7
     :DRILL_LAST_QUALITY: 5
     :DRILL_LAST_REVIEWED: [2021-12-05 Sun 10:09]
     :END:
     ALB - how many listeners per port
***** answer
      1
**** Describe high level components of ALB                      :drill:fuzzy:
     SCHEDULED: <2021-12-14 Tue>
     :PROPERTIES:
     :ID:       9493ea22-a169-481d-9072-5d7ccea6ecb5
     :DRILL_LAST_INTERVAL: 9.3103
     :DRILL_REPEATS_SINCE_FAIL: 3
     :DRILL_TOTAL_REPEATS: 2
     :DRILL_FAILURE_COUNT: 0
     :DRILL_AVERAGE_QUALITY: 3.5
     :DRILL_EASE: 2.36
     :DRILL_LAST_QUALITY: 4
     :DRILL_LAST_REVIEWED: [2021-12-05 Sun 10:11]
     :END:
     Describe high level components of ALB
***** answer
- NODES - not seen to you but use IP addresses in your private subnet
- Load balancer either Connects to Internet gateway or?
- ALB connects to mulitple listeners
- listeners connect to target groups
- Devices can be in multiple target groups
**** Private subnet                                                  :drill:
     How can ALB use nodes in private subnet
***** It doesn't.  ALB makes node in public and you connect

**** Pricing ALB - two measures                             :drill:
     SCHEDULED: <2021-12-15 Wed>
     :PROPERTIES:
     :ID:       43526031-7ec0-44d9-bbf2-c3e53bcfc200
     :DRILL_LAST_INTERVAL: 10.0
     :DRILL_REPEATS_SINCE_FAIL: 3
     :DRILL_TOTAL_REPEATS: 2
     :DRILL_FAILURE_COUNT: 0
     :DRILL_AVERAGE_QUALITY: 4.0
     :DRILL_EASE: 2.5
     :DRILL_LAST_QUALITY: 4
     :DRILL_LAST_REVIEWED: [2021-12-05 Sun 10:14]
     :END:
What are two measures for pricing ALB

***** Answer
****** LCU and Hourly (about 20 cents/day)
***** notes
      LCU is the greates charge of 4 measures over an hour
      
    - New connections: Number of newly established connections per second. Typically, many requests are sent per connection. 
    - Active connections: Number of active connections per minute.
    - Processed bytes: The number of bytes processed by the load balancer in GBs for HTTP(S) requests and responses.
    - Rule evaluations: The product of the number of rules processed by your load balancer and the request rate. The first 10 processed rules are free (Rule evaluations = Request rate * (Number of rules processed - 10 free rules).
**** Which OSI level is App load balancer working on                  :drill:
     SCHEDULED: <2021-12-16 Thu>
     :PROPERTIES:
     :ID:       5e69d6f8-8145-4a7f-b21a-76659813a8a5
     :DRILL_LAST_INTERVAL: 11.0911
     :DRILL_REPEATS_SINCE_FAIL: 3
     :DRILL_TOTAL_REPEATS: 2
     :DRILL_FAILURE_COUNT: 0
     :DRILL_AVERAGE_QUALITY: 5.0
     :DRILL_EASE: 2.7
     :DRILL_LAST_QUALITY: 5
     :DRILL_LAST_REVIEWED: [2021-12-05 Sun 10:16]
     :END:
     Which OSI level is App load balancer working on
***** Answer
      level 7 the App layer.
**** Which OSI level is Network load balancer working on           :drill:
     SCHEDULED: <2021-12-15 Wed>
     :PROPERTIES:
     :ID:       3d46d682-3649-4e24-842e-e261f1792027
     :DRILL_LAST_INTERVAL: 10.0
     :DRILL_REPEATS_SINCE_FAIL: 3
     :DRILL_TOTAL_REPEATS: 2
     :DRILL_FAILURE_COUNT: 0
     :DRILL_AVERAGE_QUALITY: 4.0
     :DRILL_EASE: 2.5
     :DRILL_LAST_QUALITY: 4
     :DRILL_LAST_REVIEWED: [2021-12-05 Sun 10:14]
     :END:
     Which OSI level is Network load balancer working on
***** Answer
      level 4 the Network layer.



** Service Distinctions

*** distinguish                                                       :drill:
    diff between Launch Configuration and Launch Template

**** answer
     Cnofiguration is immutable, older & deprecated


*** Trusted Advisor

**** disinguish                                           :drill:
     SCHEDULED: <2021-12-14 Tue>
     :PROPERTIES:
     :ID:       41ee5153-cf54-4038-b8c6-9eb4bcd69add
     :DRILL_LAST_INTERVAL: 8.9861
     :DRILL_REPEATS_SINCE_FAIL: 3
     :DRILL_TOTAL_REPEATS: 2
     :DRILL_FAILURE_COUNT: 0
     :DRILL_AVERAGE_QUALITY: 3.0
     :DRILL_EASE: 2.22
     :DRILL_LAST_QUALITY: 3
     :DRILL_LAST_REVIEWED: [2021-12-05 Sun 10:17]
     :END:
     Distinguish Trusted advisor and Insprector

***** Answer
      - Inspector is only for EC2, it runs inside instances on a schedule looking for vulnerabilities
      - Trusted advisor makes cost recommendations and performance, and is premium service
      
**** distinguish                                                      :drill:
     SCHEDULED: <2021-12-15 Wed>
     :PROPERTIES:
     :ID:       8fc08668-27fa-4094-8ede-41a84ed1342a
     :DRILL_LAST_INTERVAL: 10.3376
     :DRILL_REPEATS_SINCE_FAIL: 3
     :DRILL_TOTAL_REPEATS: 2
     :DRILL_FAILURE_COUNT: 0
     :DRILL_AVERAGE_QUALITY: 4.0
     :DRILL_EASE: 2.46
     :DRILL_LAST_QUALITY: 3
     :DRILL_LAST_REVIEWED: [2021-12-05 Sun 10:15]
     :END:
          Distinguish Trusted advisor and Xray

***** Answer                                                     :conjecture:
      Xray gets traces from your applications for debugging - Developers adds instrument to apps
      TA you turn it on to get best pracitics
      
	
      
     


      



      
** Associations

*** association dupe                                                  :drill:
    SCHEDULED: <2021-12-15 Wed>
    :PROPERTIES:
    :DRILL_CARD_TYPE: hide1cloze
    :ID:       cc455c2c-9cea-4622-8983-626c0528df47
    :DRILL_LAST_INTERVAL: 9.6346
    :DRILL_REPEATS_SINCE_FAIL: 3
    :DRILL_TOTAL_REPEATS: 2
    :DRILL_FAILURE_COUNT: 0
    :DRILL_AVERAGE_QUALITY: 4.0
    :DRILL_EASE: 2.46
    :DRILL_LAST_QUALITY: 5
    :DRILL_LAST_REVIEWED: [2021-12-05 Sun 10:15]
    :END:
    [state machine] is implemented by aws [step function]



*** association dupe                                                  :drill:
    SCHEDULED: <2021-12-14 Tue>
    :PROPERTIES:
    :DRILL_CARD_TYPE: hide1cloze
    :ID:       cc455c2c-9cea-4622-8983-626c0528df47
    :DRILL_LAST_INTERVAL: 8.9861
    :DRILL_REPEATS_SINCE_FAIL: 3
    :DRILL_TOTAL_REPEATS: 2
    :DRILL_FAILURE_COUNT: 0
    :DRILL_AVERAGE_QUALITY: 3.0
    :DRILL_EASE: 2.22
    :DRILL_LAST_QUALITY: 3
    :DRILL_LAST_REVIEWED: [2021-12-05 Sun 10:16]
    :END:
    [state machine] is implemented by aws [step function]



*** association template                                              :drill:
    :PROPERTIES:
    :DRILL_CARD_TYPE: hide1cloze
    :END:
    [man in tne middle attack] and [DNS spoofing]
    Are remedied by DNSSEC
*** association template
    :PROPERTIES:
    :DRILL_CARD_TYPE: hide1cloze
    :END:
    [state machine] is implemented by aws [step function]




*** association template                                              :drill:
    :PROPERTIES:
    :DRILL_CARD_TYPE: hide1cloze
    :END:
    [reguest attributes] for ALB include  [X-Forwarded-For headers].
*** association template
    :PROPERTIES:
    :DRILL_CARD_TYPE: hide1cloze
    :END:
    [state machine] is implemented by aws [step function]
*** association template
    :PROPERTIES:
    :DRILL_CARD_TYPE: hide1cloze
    :END:
    [state machine] is implemented by aws [step function]
*** association template
    :PROPERTIES:
    :DRILL_CARD_TYPE: hide1cloze
    :END:
    [state machine] is implemented by aws [step function]
